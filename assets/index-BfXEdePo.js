(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();function Db(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kd={exports:{}},gs={};var Nv;function Sw(){if(Nv)return gs;Nv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:t,type:a,key:c,ref:l!==void 0?l:null,props:o}}return gs.Fragment=e,gs.jsx=i,gs.jsxs=i,gs}var Uv;function Ew(){return Uv||(Uv=1,kd.exports=Sw()),kd.exports}var E=Ew(),Md={exports:{}},he={};var zv;function ww(){if(zv)return he;zv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function D(C,O,G){this.props=C,this.context=O,this.refs=T,this.updater=G||w}D.prototype.isReactComponent={},D.prototype.setState=function(C,O){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,O,"setState")},D.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function k(){}k.prototype=D.prototype;function N(C,O,G){this.props=C,this.context=O,this.refs=T,this.updater=G||w}var Z=N.prototype=new k;Z.constructor=N,A(Z,D.prototype),Z.isPureReactComponent=!0;var ee=Array.isArray;function I(){}var F={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function fe(C,O,G){var Q=G.ref;return{$$typeof:t,type:C,key:O,ref:Q!==void 0?Q:null,props:G}}function ke(C,O){return fe(C.type,O,C.props)}function st(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function Se(C){var O={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return O[G]})}var St=/\/+/g;function lt(C,O){return typeof C=="object"&&C!==null&&C.key!=null?Se(""+C.key):O.toString(36)}function et(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(O){C.status==="pending"&&(C.status="fulfilled",C.value=O)},function(O){C.status==="pending"&&(C.status="rejected",C.reason=O)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function P(C,O,G,Q,X){var re=typeof C;(re==="undefined"||re==="boolean")&&(C=null);var pe=!1;if(C===null)pe=!0;else switch(re){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(C.$$typeof){case t:case e:pe=!0;break;case m:return pe=C._init,P(pe(C._payload),O,G,Q,X)}}if(pe)return X=X(C),pe=Q===""?"."+lt(C,0):Q,ee(X)?(G="",pe!=null&&(G=pe.replace(St,"$&/")+"/"),P(X,O,G,"",function(sn){return sn})):X!=null&&(st(X)&&(X=ke(X,G+(X.key==null||C&&C.key===X.key?"":(""+X.key).replace(St,"$&/")+"/")+pe)),O.push(X)),1;pe=0;var we=Q===""?".":Q+":";if(ee(C))for(var Be=0;Be<C.length;Be++)Q=C[Be],re=we+lt(Q,Be),pe+=P(Q,O,G,re,X);else if(Be=_(C),typeof Be=="function")for(C=Be.call(C),Be=0;!(Q=C.next()).done;)Q=Q.value,re=we+lt(Q,Be++),pe+=P(Q,O,G,re,X);else if(re==="object"){if(typeof C.then=="function")return P(et(C),O,G,Q,X);throw O=String(C),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return pe}function J(C,O,G){if(C==null)return C;var Q=[],X=0;return P(C,Q,"","",function(re){return O.call(G,re,X++)}),Q}function se(C){if(C._status===-1){var O=C._result;O=O(),O.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=O)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ue={map:J,forEach:function(C,O,G){J(C,function(){O.apply(this,arguments)},G)},count:function(C){var O=0;return J(C,function(){O++}),O},toArray:function(C){return J(C,function(O){return O})||[]},only:function(C){if(!st(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return he.Activity=y,he.Children=ue,he.Component=D,he.Fragment=i,he.Profiler=l,he.PureComponent=N,he.StrictMode=a,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,he.__COMPILER_RUNTIME={__proto__:null,c:function(C){return F.H.useMemoCache(C)}},he.cache=function(C){return function(){return C.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(C,O,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Q=A({},C.props),X=C.key;if(O!=null)for(re in O.key!==void 0&&(X=""+O.key),O)!K.call(O,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&O.ref===void 0||(Q[re]=O[re]);var re=arguments.length-2;if(re===1)Q.children=G;else if(1<re){for(var pe=Array(re),we=0;we<re;we++)pe[we]=arguments[we+2];Q.children=pe}return fe(C.type,X,Q)},he.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},he.createElement=function(C,O,G){var Q,X={},re=null;if(O!=null)for(Q in O.key!==void 0&&(re=""+O.key),O)K.call(O,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(X[Q]=O[Q]);var pe=arguments.length-2;if(pe===1)X.children=G;else if(1<pe){for(var we=Array(pe),Be=0;Be<pe;Be++)we[Be]=arguments[Be+2];X.children=we}if(C&&C.defaultProps)for(Q in pe=C.defaultProps,pe)X[Q]===void 0&&(X[Q]=pe[Q]);return fe(C,re,X)},he.createRef=function(){return{current:null}},he.forwardRef=function(C){return{$$typeof:f,render:C}},he.isValidElement=st,he.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:se}},he.memo=function(C,O){return{$$typeof:p,type:C,compare:O===void 0?null:O}},he.startTransition=function(C){var O=F.T,G={};F.T=G;try{var Q=C(),X=F.S;X!==null&&X(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(I,W)}catch(re){W(re)}finally{O!==null&&G.types!==null&&(O.types=G.types),F.T=O}},he.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},he.use=function(C){return F.H.use(C)},he.useActionState=function(C,O,G){return F.H.useActionState(C,O,G)},he.useCallback=function(C,O){return F.H.useCallback(C,O)},he.useContext=function(C){return F.H.useContext(C)},he.useDebugValue=function(){},he.useDeferredValue=function(C,O){return F.H.useDeferredValue(C,O)},he.useEffect=function(C,O){return F.H.useEffect(C,O)},he.useEffectEvent=function(C){return F.H.useEffectEvent(C)},he.useId=function(){return F.H.useId()},he.useImperativeHandle=function(C,O,G){return F.H.useImperativeHandle(C,O,G)},he.useInsertionEffect=function(C,O){return F.H.useInsertionEffect(C,O)},he.useLayoutEffect=function(C,O){return F.H.useLayoutEffect(C,O)},he.useMemo=function(C,O){return F.H.useMemo(C,O)},he.useOptimistic=function(C,O){return F.H.useOptimistic(C,O)},he.useReducer=function(C,O,G){return F.H.useReducer(C,O,G)},he.useRef=function(C){return F.H.useRef(C)},he.useState=function(C){return F.H.useState(C)},he.useSyncExternalStore=function(C,O,G){return F.H.useSyncExternalStore(C,O,G)},he.useTransition=function(){return F.H.useTransition()},he.version="19.2.3",he}var Bv;function Qf(){return Bv||(Bv=1,Md.exports=ww()),Md.exports}var M=Qf();const No=Db(M);var jd={exports:{}},ps={},Nd={exports:{}},Ud={};var Iv;function Aw(){return Iv||(Iv=1,(function(t){function e(P,J){var se=P.length;P.push(J);e:for(;0<se;){var W=se-1>>>1,ue=P[W];if(0<l(ue,J))P[W]=J,P[se]=ue,se=W;else break e}}function i(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var J=P[0],se=P.pop();if(se!==J){P[0]=se;e:for(var W=0,ue=P.length,C=ue>>>1;W<C;){var O=2*(W+1)-1,G=P[O],Q=O+1,X=P[Q];if(0>l(G,se))Q<ue&&0>l(X,G)?(P[W]=X,P[Q]=se,W=Q):(P[W]=G,P[O]=se,W=O);else if(Q<ue&&0>l(X,se))P[W]=X,P[Q]=se,W=Q;else break e}}return J}function l(P,J){var se=P.sortIndex-J.sortIndex;return se!==0?se:P.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var g=[],p=[],m=1,y=null,b=3,_=!1,w=!1,A=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function Z(P){for(var J=i(p);J!==null;){if(J.callback===null)a(p);else if(J.startTime<=P)a(p),J.sortIndex=J.expirationTime,e(g,J);else break;J=i(p)}}function ee(P){if(A=!1,Z(P),!w)if(i(g)!==null)w=!0,I||(I=!0,Se());else{var J=i(p);J!==null&&et(ee,J.startTime-P)}}var I=!1,F=-1,K=5,fe=-1;function ke(){return T?!0:!(t.unstable_now()-fe<K)}function st(){if(T=!1,I){var P=t.unstable_now();fe=P;var J=!0;try{e:{w=!1,A&&(A=!1,k(F),F=-1),_=!0;var se=b;try{t:{for(Z(P),y=i(g);y!==null&&!(y.expirationTime>P&&ke());){var W=y.callback;if(typeof W=="function"){y.callback=null,b=y.priorityLevel;var ue=W(y.expirationTime<=P);if(P=t.unstable_now(),typeof ue=="function"){y.callback=ue,Z(P),J=!0;break t}y===i(g)&&a(g),Z(P)}else a(g);y=i(g)}if(y!==null)J=!0;else{var C=i(p);C!==null&&et(ee,C.startTime-P),J=!1}}break e}finally{y=null,b=se,_=!1}J=void 0}}finally{J?Se():I=!1}}}var Se;if(typeof N=="function")Se=function(){N(st)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,lt=St.port2;St.port1.onmessage=st,Se=function(){lt.postMessage(null)}}else Se=function(){D(st,0)};function et(P,J){F=D(function(){P(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(P){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var se=b;b=J;try{return P()}finally{b=se}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(P,J){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var se=b;b=P;try{return J()}finally{b=se}},t.unstable_scheduleCallback=function(P,J,se){var W=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?W+se:W):se=W,P){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=se+ue,P={id:m++,callback:J,priorityLevel:P,startTime:se,expirationTime:ue,sortIndex:-1},se>W?(P.sortIndex=se,e(p,P),i(g)===null&&P===i(p)&&(A?(k(F),F=-1):A=!0,et(ee,se-W))):(P.sortIndex=ue,e(g,P),w||_||(w=!0,I||(I=!0,Se()))),P},t.unstable_shouldYield=ke,t.unstable_wrapCallback=function(P){var J=b;return function(){var se=b;b=J;try{return P.apply(this,arguments)}finally{b=se}}}})(Ud)),Ud}var Hv;function Tw(){return Hv||(Hv=1,Nd.exports=Aw()),Nd.exports}var zd={exports:{}},Et={};var Lv;function Rw(){if(Lv)return Et;Lv=1;var t=Qf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(g,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:g,containerInfo:p,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Et.createPortal=function(g,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(g,p,null,m)},Et.flushSync=function(g){var p=c.T,m=a.p;try{if(c.T=null,a.p=2,g)return g()}finally{c.T=p,a.p=m,a.d.f()}},Et.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},Et.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Et.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var m=p.as,y=f(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):m==="script"&&a.d.X(g,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Et.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=f(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},Et.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=f(m,p.crossOrigin);a.d.L(g,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Et.preloadModule=function(g,p){if(typeof g=="string")if(p){var m=f(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},Et.requestFormReset=function(g){a.d.r(g)},Et.unstable_batchedUpdates=function(g,p){return g(p)},Et.useFormState=function(g,p,m){return c.H.useFormState(g,p,m)},Et.useFormStatus=function(){return c.H.useHostTransitionStatus()},Et.version="19.2.3",Et}var qv;function xb(){if(qv)return zd.exports;qv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zd.exports=Rw(),zd.exports}var Pv;function Cw(){if(Pv)return ps;Pv=1;var t=Tw(),e=Qf(),i=xb();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function g(n){if(o(n)!==n)throw Error(a(188))}function p(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(a(188));return r!==n?null:n}for(var s=n,u=r;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(u=d.return,u!==null){s=u;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return g(d),n;if(h===u)return g(d),r;h=h.sibling}throw Error(a(188))}if(s.return!==u.return)s=d,u=h;else{for(var v=!1,S=d.child;S;){if(S===s){v=!0,s=d,u=h;break}if(S===u){v=!0,u=d,s=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===s){v=!0,s=h,u=d;break}if(S===u){v=!0,u=h,s=d;break}S=S.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:r}function m(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=m(n),r!==null)return r;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function Se(n){return n===null||typeof n!="object"?null:(n=st&&n[st]||n["@@iterator"],typeof n=="function"?n:null)}var St=Symbol.for("react.client.reference");function lt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===St?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case D:return"Profiler";case T:return"StrictMode";case ee:return"Suspense";case I:return"SuspenseList";case fe:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case N:return n.displayName||"Context";case k:return(n._context.displayName||"Context")+".Consumer";case Z:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return r=n.displayName||null,r!==null?r:lt(n.type)||"Memo";case K:r=n._payload,n=n._init;try{return lt(n(r))}catch{}}return null}var et=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},W=[],ue=-1;function C(n){return{current:n}}function O(n){0>ue||(n.current=W[ue],W[ue]=null,ue--)}function G(n,r){ue++,W[ue]=n.current,n.current=r}var Q=C(null),X=C(null),re=C(null),pe=C(null);function we(n,r){switch(G(re,r),G(X,n),G(Q,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?iv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=iv(r),n=rv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(Q),G(Q,n)}function Be(){O(Q),O(X),O(re)}function sn(n){n.memoizedState!==null&&G(pe,n);var r=Q.current,s=rv(r,n.type);r!==s&&(G(X,n),G(Q,s))}function xi(n){X.current===n&&(O(Q),O(X)),pe.current===n&&(O(pe),cs._currentValue=se)}var hu,jh;function Oi(n){if(hu===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);hu=r&&r[1]||"",jh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hu+n+jh}var gu=!1;function pu(n,r){if(!n||gu)return"";gu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(L){var B=L}Reflect.construct(n,[],Y)}else{try{Y.call()}catch(L){B=L}n.call(Y.prototype)}}else{try{throw Error()}catch(L){B=L}(Y=n())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(L){if(L&&B&&typeof L.stack=="string")return[L.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var R=v.split(`
`),z=S.split(`
`);for(d=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(u===R.length||d===z.length)for(u=R.length-1,d=z.length-1;1<=u&&0<=d&&R[u]!==z[d];)d--;for(;1<=u&&0<=d;u--,d--)if(R[u]!==z[d]){if(u!==1||d!==1)do if(u--,d--,0>d||R[u]!==z[d]){var V=`
`+R[u].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=u&&0<=d);break}}}finally{gu=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Oi(s):""}function X_(n,r){switch(n.tag){case 26:case 27:case 5:return Oi(n.type);case 16:return Oi("Lazy");case 13:return n.child!==r&&r!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return pu(n.type,!1);case 11:return pu(n.type.render,!1);case 1:return pu(n.type,!0);case 31:return Oi("Activity");default:return""}}function Nh(n){try{var r="",s=null;do r+=X_(n,s),s=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var mu=Object.prototype.hasOwnProperty,vu=t.unstable_scheduleCallback,yu=t.unstable_cancelCallback,J_=t.unstable_shouldYield,eS=t.unstable_requestPaint,jt=t.unstable_now,tS=t.unstable_getCurrentPriorityLevel,Uh=t.unstable_ImmediatePriority,zh=t.unstable_UserBlockingPriority,$s=t.unstable_NormalPriority,nS=t.unstable_LowPriority,Bh=t.unstable_IdlePriority,iS=t.log,rS=t.unstable_setDisableYieldValue,Ea=null,Nt=null;function Wn(n){if(typeof iS=="function"&&rS(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ea,n)}catch{}}var Ut=Math.clz32?Math.clz32:lS,aS=Math.log,sS=Math.LN2;function lS(n){return n>>>=0,n===0?32:31-(aS(n)/sS|0)|0}var Ys=256,Ws=262144,Qs=4194304;function ki(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Fs(n,r,s){var u=n.pendingLanes;if(u===0)return 0;var d=0,h=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~h,u!==0?d=ki(u):(v&=S,v!==0?d=ki(v):s||(s=S&~n,s!==0&&(d=ki(s))))):(S=u&~h,S!==0?d=ki(S):v!==0?d=ki(v):s||(s=u&~n,s!==0&&(d=ki(s)))),d===0?0:r!==0&&r!==d&&(r&h)===0&&(h=d&-d,s=r&-r,h>=s||h===32&&(s&4194048)!==0)?r:d}function wa(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function oS(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ih(){var n=Qs;return Qs<<=1,(Qs&62914560)===0&&(Qs=4194304),n}function bu(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Aa(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function uS(n,r,s,u,d,h){var v=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var S=n.entanglements,R=n.expirationTimes,z=n.hiddenUpdates;for(s=v&~s;0<s;){var V=31-Ut(s),Y=1<<V;S[V]=0,R[V]=-1;var B=z[V];if(B!==null)for(z[V]=null,V=0;V<B.length;V++){var L=B[V];L!==null&&(L.lane&=-536870913)}s&=~Y}u!==0&&Hh(n,u,0),h!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=h&~(v&~r))}function Hh(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Ut(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function Lh(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var u=31-Ut(s),d=1<<u;d&r|n[u]&r&&(n[u]|=r),s&=~d}}function qh(n,r){var s=r&-r;return s=(s&42)!==0?1:_u(s),(s&(n.suspendedLanes|r))!==0?0:s}function _u(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Su(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ph(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:Cv(n.type))}function Vh(n,r){var s=J.p;try{return J.p=n,r()}finally{J.p=s}}var Qn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Qn,Tt="__reactProps$"+Qn,gr="__reactContainer$"+Qn,Eu="__reactEvents$"+Qn,cS="__reactListeners$"+Qn,dS="__reactHandles$"+Qn,Gh="__reactResources$"+Qn,Ta="__reactMarker$"+Qn;function wu(n){delete n[gt],delete n[Tt],delete n[Eu],delete n[cS],delete n[dS]}function pr(n){var r=n[gt];if(r)return r;for(var s=n.parentNode;s;){if(r=s[gr]||s[gt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=dv(n);n!==null;){if(s=n[gt])return s;n=dv(n)}return r}n=s,s=n.parentNode}return null}function mr(n){if(n=n[gt]||n[gr]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Ra(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function vr(n){var r=n[Gh];return r||(r=n[Gh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(n){n[Ta]=!0}var $h=new Set,Yh={};function Mi(n,r){yr(n,r),yr(n+"Capture",r)}function yr(n,r){for(Yh[n]=r,n=0;n<r.length;n++)$h.add(r[n])}var fS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wh={},Qh={};function hS(n){return mu.call(Qh,n)?!0:mu.call(Wh,n)?!1:fS.test(n)?Qh[n]=!0:(Wh[n]=!0,!1)}function Zs(n,r,s){if(hS(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function Ks(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function wn(n,r,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+u)}}function Ft(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fh(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gS(n,r,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,h=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){s=""+v,h.call(this,v)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Au(n){if(!n._valueTracker){var r=Fh(n)?"checked":"value";n._valueTracker=gS(n,r,""+n[r])}}function Zh(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return n&&(u=Fh(n)?n.checked?"true":"false":n.value),n=u,n!==s?(r.setValue(n),!0):!1}function Xs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var pS=/[\n"\\]/g;function Zt(n){return n.replace(pS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tu(n,r,s,u,d,h,v,S){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ft(r)):n.value!==""+Ft(r)&&(n.value=""+Ft(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Ru(n,v,Ft(r)):s!=null?Ru(n,v,Ft(s)):u!=null&&n.removeAttribute("value"),d==null&&h!=null&&(n.defaultChecked=!!h),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Ft(S):n.removeAttribute("name")}function Kh(n,r,s,u,d,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(n.type=h),r!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||r!=null)){Au(n);return}s=s!=null?""+Ft(s):"",r=r!=null?""+Ft(r):s,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Au(n)}function Ru(n,r,s){r==="number"&&Xs(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function br(n,r,s,u){if(n=n.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<n.length;s++)d=r.hasOwnProperty("$"+n[s].value),n[s].selected!==d&&(n[s].selected=d),d&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Ft(s),r=null,d=0;d<n.length;d++){if(n[d].value===s){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function Xh(n,r,s){if(r!=null&&(r=""+Ft(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Ft(s):""}function Jh(n,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(a(92));if(et(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=Ft(r),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),Au(n)}function _r(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var mS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eg(n,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,s):typeof s!="number"||s===0||mS.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function tg(n,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&s[d]!==u&&eg(n,d,u)}else for(var h in r)r.hasOwnProperty(h)&&eg(n,h,r[h])}function Cu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(n){return yS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function An(){}var Du=null;function xu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Sr=null,Er=null;function ng(n){var r=mr(n);if(r&&(n=r.stateNode)){var s=n[Tt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Tu(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Zt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==n&&u.form===n.form){var d=u[Tt]||null;if(!d)throw Error(a(90));Tu(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===n.form&&Zh(u)}break e;case"textarea":Xh(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&br(n,!!s.multiple,r,!1)}}}var Ou=!1;function ig(n,r,s){if(Ou)return n(r,s);Ou=!0;try{var u=n(r);return u}finally{if(Ou=!1,(Sr!==null||Er!==null)&&(Ll(),Sr&&(r=Sr,n=Er,Er=Sr=null,ng(r),n)))for(r=0;r<n.length;r++)ng(n[r])}}function Ca(n,r){var s=n.stateNode;if(s===null)return null;var u=s[Tt]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=!1;if(Tn)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){ku=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{ku=!1}var Fn=null,Mu=null,el=null;function rg(){if(el)return el;var n,r=Mu,s=r.length,u,d="value"in Fn?Fn.value:Fn.textContent,h=d.length;for(n=0;n<s&&r[n]===d[n];n++);var v=s-n;for(u=1;u<=v&&r[s-u]===d[h-u];u++);return el=d.slice(n,1<u?1-u:void 0)}function tl(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function nl(){return!0}function ag(){return!1}function Rt(n){function r(s,u,d,h,v){this._reactName=s,this._targetInst=d,this.type=u,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(s=n[S],this[S]=s?s(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?nl:ag,this.isPropagationStopped=ag,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),r}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Rt(ji),xa=y({},ji,{view:0,detail:0}),bS=Rt(xa),ju,Nu,Oa,rl=y({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oa&&(Oa&&n.type==="mousemove"?(ju=n.screenX-Oa.screenX,Nu=n.screenY-Oa.screenY):Nu=ju=0,Oa=n),ju)},movementY:function(n){return"movementY"in n?n.movementY:Nu}}),sg=Rt(rl),_S=y({},rl,{dataTransfer:0}),SS=Rt(_S),ES=y({},xa,{relatedTarget:0}),Uu=Rt(ES),wS=y({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),AS=Rt(wS),TS=y({},ji,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RS=Rt(TS),CS=y({},ji,{data:0}),lg=Rt(CS),DS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kS(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=OS[n])?!!r[n]:!1}function zu(){return kS}var MS=y({},xa,{key:function(n){if(n.key){var r=DS[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=tl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(n){return n.type==="keypress"?tl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jS=Rt(MS),NS=y({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),og=Rt(NS),US=y({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),zS=Rt(US),BS=y({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),IS=Rt(BS),HS=y({},rl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),LS=Rt(HS),qS=y({},ji,{newState:0,oldState:0}),PS=Rt(qS),VS=[9,13,27,32],Bu=Tn&&"CompositionEvent"in window,ka=null;Tn&&"documentMode"in document&&(ka=document.documentMode);var GS=Tn&&"TextEvent"in window&&!ka,ug=Tn&&(!Bu||ka&&8<ka&&11>=ka),cg=" ",dg=!1;function fg(n,r){switch(n){case"keyup":return VS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wr=!1;function $S(n,r){switch(n){case"compositionend":return hg(r);case"keypress":return r.which!==32?null:(dg=!0,cg);case"textInput":return n=r.data,n===cg&&dg?null:n;default:return null}}function YS(n,r){if(wr)return n==="compositionend"||!Bu&&fg(n,r)?(n=rg(),el=Mu=Fn=null,wr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ug&&r.locale!=="ko"?null:r.data;default:return null}}var WS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!WS[n.type]:r==="textarea"}function pg(n,r,s,u){Sr?Er?Er.push(u):Er=[u]:Sr=u,r=Wl(r,"onChange"),0<r.length&&(s=new il("onChange","change",null,s,u),n.push({event:s,listeners:r}))}var Ma=null,ja=null;function QS(n){Km(n,0)}function al(n){var r=Ra(n);if(Zh(r))return n}function mg(n,r){if(n==="change")return r}var vg=!1;if(Tn){var Iu;if(Tn){var Hu="oninput"in document;if(!Hu){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Hu=typeof yg.oninput=="function"}Iu=Hu}else Iu=!1;vg=Iu&&(!document.documentMode||9<document.documentMode)}function bg(){Ma&&(Ma.detachEvent("onpropertychange",_g),ja=Ma=null)}function _g(n){if(n.propertyName==="value"&&al(ja)){var r=[];pg(r,ja,n,xu(n)),ig(QS,r)}}function FS(n,r,s){n==="focusin"?(bg(),Ma=r,ja=s,Ma.attachEvent("onpropertychange",_g)):n==="focusout"&&bg()}function ZS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return al(ja)}function KS(n,r){if(n==="click")return al(r)}function XS(n,r){if(n==="input"||n==="change")return al(r)}function JS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var zt=typeof Object.is=="function"?Object.is:JS;function Na(n,r){if(zt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var d=s[u];if(!mu.call(r,d)||!zt(n[d],r[d]))return!1}return!0}function Sg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Eg(n,r){var s=Sg(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=r&&u>=r)return{node:s,offset:r-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sg(s)}}function wg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ag(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Xs(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Xs(n.document)}return r}function Lu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var eE=Tn&&"documentMode"in document&&11>=document.documentMode,Ar=null,qu=null,Ua=null,Pu=!1;function Tg(n,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pu||Ar==null||Ar!==Xs(u)||(u=Ar,"selectionStart"in u&&Lu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ua&&Na(Ua,u)||(Ua=u,u=Wl(qu,"onSelect"),0<u.length&&(r=new il("onSelect","select",null,r,s),n.push({event:r,listeners:u}),r.target=Ar)))}function Ni(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Tr={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},Vu={},Rg={};Tn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Ui(n){if(Vu[n])return Vu[n];if(!Tr[n])return n;var r=Tr[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in Rg)return Vu[n]=r[s];return n}var Cg=Ui("animationend"),Dg=Ui("animationiteration"),xg=Ui("animationstart"),tE=Ui("transitionrun"),nE=Ui("transitionstart"),iE=Ui("transitioncancel"),Og=Ui("transitionend"),kg=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function ln(n,r){kg.set(n,r),Mi(r,[n])}var sl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Kt=[],Rr=0,$u=0;function ll(){for(var n=Rr,r=$u=Rr=0;r<n;){var s=Kt[r];Kt[r++]=null;var u=Kt[r];Kt[r++]=null;var d=Kt[r];Kt[r++]=null;var h=Kt[r];if(Kt[r++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}h!==0&&Mg(s,d,h)}}function ol(n,r,s,u){Kt[Rr++]=n,Kt[Rr++]=r,Kt[Rr++]=s,Kt[Rr++]=u,$u|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Yu(n,r,s,u){return ol(n,r,s,u),ul(n)}function zi(n,r){return ol(n,null,null,r),ul(n)}function Mg(n,r,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var d=!1,h=n.return;h!==null;)h.childLanes|=s,u=h.alternate,u!==null&&(u.childLanes|=s),h.tag===22&&(n=h.stateNode,n===null||n._visibility&1||(d=!0)),n=h,h=h.return;return n.tag===3?(h=n.stateNode,d&&r!==null&&(d=31-Ut(s),n=h.hiddenUpdates,u=n[d],u===null?n[d]=[r]:u.push(r),r.lane=s|536870912),h):null}function ul(n){if(50<is)throw is=0,td=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Cr={};function rE(n,r,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(n,r,s,u){return new rE(n,r,s,u)}function Wu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Rn(n,r){var s=n.alternate;return s===null?(s=Bt(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function jg(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function cl(n,r,s,u,d,h){var v=0;if(u=n,typeof n=="function")Wu(n)&&(v=1);else if(typeof n=="string")v=uw(n,s,Q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case fe:return n=Bt(31,s,r,d),n.elementType=fe,n.lanes=h,n;case A:return Bi(s.children,d,h,r);case T:v=8,d|=24;break;case D:return n=Bt(12,s,r,d|2),n.elementType=D,n.lanes=h,n;case ee:return n=Bt(13,s,r,d),n.elementType=ee,n.lanes=h,n;case I:return n=Bt(19,s,r,d),n.elementType=I,n.lanes=h,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:v=10;break e;case k:v=9;break e;case Z:v=11;break e;case F:v=14;break e;case K:v=16,u=null;break e}v=29,s=Error(a(130,n===null?"null":typeof n,"")),u=null}return r=Bt(v,s,r,d),r.elementType=n,r.type=u,r.lanes=h,r}function Bi(n,r,s,u){return n=Bt(7,n,u,r),n.lanes=s,n}function Qu(n,r,s){return n=Bt(6,n,null,r),n.lanes=s,n}function Ng(n){var r=Bt(18,null,null,0);return r.stateNode=n,r}function Fu(n,r,s){return r=Bt(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ug=new WeakMap;function Xt(n,r){if(typeof n=="object"&&n!==null){var s=Ug.get(n);return s!==void 0?s:(r={value:n,source:r,stack:Nh(r)},Ug.set(n,r),r)}return{value:n,source:r,stack:Nh(r)}}var Dr=[],xr=0,dl=null,za=0,Jt=[],en=0,Zn=null,mn=1,vn="";function Cn(n,r){Dr[xr++]=za,Dr[xr++]=dl,dl=n,za=r}function zg(n,r,s){Jt[en++]=mn,Jt[en++]=vn,Jt[en++]=Zn,Zn=n;var u=mn;n=vn;var d=32-Ut(u)-1;u&=~(1<<d),s+=1;var h=32-Ut(r)+d;if(30<h){var v=d-d%5;h=(u&(1<<v)-1).toString(32),u>>=v,d-=v,mn=1<<32-Ut(r)+d|s<<d|u,vn=h+n}else mn=1<<h|s<<d|u,vn=n}function Zu(n){n.return!==null&&(Cn(n,1),zg(n,1,0))}function Ku(n){for(;n===dl;)dl=Dr[--xr],Dr[xr]=null,za=Dr[--xr],Dr[xr]=null;for(;n===Zn;)Zn=Jt[--en],Jt[en]=null,vn=Jt[--en],Jt[en]=null,mn=Jt[--en],Jt[en]=null}function Bg(n,r){Jt[en++]=mn,Jt[en++]=vn,Jt[en++]=Zn,mn=r.id,vn=r.overflow,Zn=n}var pt=null,He=null,Ee=!1,Kn=null,tn=!1,Xu=Error(a(519));function Xn(n){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ba(Xt(r,n)),Xu}function Ig(n){var r=n.stateNode,s=n.type,u=n.memoizedProps;switch(r[gt]=n,r[Tt]=u,s){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<as.length;s++)ye(as[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":ye("invalid",r),Kh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ye("invalid",r);break;case"textarea":ye("invalid",r),Jh(r,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||tv(r.textContent,s)?(u.popover!=null&&(ye("beforetoggle",r),ye("toggle",r)),u.onScroll!=null&&ye("scroll",r),u.onScrollEnd!=null&&ye("scrollend",r),u.onClick!=null&&(r.onclick=An),r=!0):r=!1,r||Xn(n,!0)}function Hg(n){for(pt=n.return;pt;)switch(pt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:pt=pt.return}}function Or(n){if(n!==pt)return!1;if(!Ee)return Hg(n),Ee=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||md(n.type,n.memoizedProps)),s=!s),s&&He&&Xn(n),Hg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));He=cv(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));He=cv(n)}else r===27?(r=He,fi(n.type)?(n=Sd,Sd=null,He=n):He=r):He=pt?rn(n.stateNode.nextSibling):null;return!0}function Ii(){He=pt=null,Ee=!1}function Ju(){var n=Kn;return n!==null&&(Ot===null?Ot=n:Ot.push.apply(Ot,n),Kn=null),n}function Ba(n){Kn===null?Kn=[n]:Kn.push(n)}var ec=C(null),Hi=null,Dn=null;function Jn(n,r,s){G(ec,r._currentValue),r._currentValue=s}function xn(n){n._currentValue=ec.current,O(ec)}function tc(n,r,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===s)break;n=n.return}}function nc(n,r,s,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var R=0;R<r.length;R++)if(S.context===r[R]){h.lanes|=s,S=h.alternate,S!==null&&(S.lanes|=s),tc(h.return,s,n),u||(v=null);break e}h=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(a(341));v.lanes|=s,h=v.alternate,h!==null&&(h.lanes|=s),tc(v,s,n),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function kr(n,r,s,u){n=null;for(var d=r,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var S=d.type;zt(d.pendingProps.value,v.value)||(n!==null?n.push(S):n=[S])}}else if(d===pe.current){if(v=d.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(cs):n=[cs])}d=d.return}n!==null&&nc(r,n,s,u),r.flags|=262144}function fl(n){for(n=n.firstContext;n!==null;){if(!zt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Li(n){Hi=n,Dn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function mt(n){return Lg(Hi,n)}function hl(n,r){return Hi===null&&Li(n),Lg(n,r)}function Lg(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Dn===null){if(n===null)throw Error(a(308));Dn=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Dn=Dn.next=r;return s}var aE=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},sE=t.unstable_scheduleCallback,lE=t.unstable_NormalPriority,tt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ic(){return{controller:new aE,data:new Map,refCount:0}}function Ia(n){n.refCount--,n.refCount===0&&sE(lE,function(){n.controller.abort()})}var Ha=null,rc=0,Mr=0,jr=null;function oE(n,r){if(Ha===null){var s=Ha=[];rc=0,Mr=ld(),jr={status:"pending",value:void 0,then:function(u){s.push(u)}}}return rc++,r.then(qg,qg),r}function qg(){if(--rc===0&&Ha!==null){jr!==null&&(jr.status="fulfilled");var n=Ha;Ha=null,Mr=0,jr=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function uE(n,r){var s=[],u={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),u}var Pg=P.S;P.S=function(n,r){Tm=jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&oE(n,r),Pg!==null&&Pg(n,r)};var qi=C(null);function ac(){var n=qi.current;return n!==null?n:Ue.pooledCache}function gl(n,r){r===null?G(qi,qi.current):G(qi,r.pool)}function Vg(){var n=ac();return n===null?null:{parent:tt._currentValue,pool:n}}var Nr=Error(a(460)),sc=Error(a(474)),pl=Error(a(542)),ml={then:function(){}};function Gg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function $g(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(An,An),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Wg(n),n;default:if(typeof r.status=="string")r.then(An,An);else{if(n=Ue,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Wg(n),n}throw Vi=r,Nr}}function Pi(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vi=s,Nr):s}}var Vi=null;function Yg(){if(Vi===null)throw Error(a(459));var n=Vi;return Vi=null,n}function Wg(n){if(n===Nr||n===pl)throw Error(a(483))}var Ur=null,La=0;function vl(n){var r=La;return La+=1,Ur===null&&(Ur=[]),$g(Ur,n,r)}function qa(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function yl(n,r){throw r.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Qg(n){function r(j,x){if(n){var U=j.deletions;U===null?(j.deletions=[x],j.flags|=16):U.push(x)}}function s(j,x){if(!n)return null;for(;x!==null;)r(j,x),x=x.sibling;return null}function u(j){for(var x=new Map;j!==null;)j.key!==null?x.set(j.key,j):x.set(j.index,j),j=j.sibling;return x}function d(j,x){return j=Rn(j,x),j.index=0,j.sibling=null,j}function h(j,x,U){return j.index=U,n?(U=j.alternate,U!==null?(U=U.index,U<x?(j.flags|=67108866,x):U):(j.flags|=67108866,x)):(j.flags|=1048576,x)}function v(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function S(j,x,U,$){return x===null||x.tag!==6?(x=Qu(U,j.mode,$),x.return=j,x):(x=d(x,U),x.return=j,x)}function R(j,x,U,$){var ae=U.type;return ae===A?V(j,x,U.props.children,$,U.key):x!==null&&(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===K&&Pi(ae)===x.type)?(x=d(x,U.props),qa(x,U),x.return=j,x):(x=cl(U.type,U.key,U.props,null,j.mode,$),qa(x,U),x.return=j,x)}function z(j,x,U,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=Fu(U,j.mode,$),x.return=j,x):(x=d(x,U.children||[]),x.return=j,x)}function V(j,x,U,$,ae){return x===null||x.tag!==7?(x=Bi(U,j.mode,$,ae),x.return=j,x):(x=d(x,U),x.return=j,x)}function Y(j,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Qu(""+x,j.mode,U),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _:return U=cl(x.type,x.key,x.props,null,j.mode,U),qa(U,x),U.return=j,U;case w:return x=Fu(x,j.mode,U),x.return=j,x;case K:return x=Pi(x),Y(j,x,U)}if(et(x)||Se(x))return x=Bi(x,j.mode,U,null),x.return=j,x;if(typeof x.then=="function")return Y(j,vl(x),U);if(x.$$typeof===N)return Y(j,hl(j,x),U);yl(j,x)}return null}function B(j,x,U,$){var ae=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ae!==null?null:S(j,x,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===ae?R(j,x,U,$):null;case w:return U.key===ae?z(j,x,U,$):null;case K:return U=Pi(U),B(j,x,U,$)}if(et(U)||Se(U))return ae!==null?null:V(j,x,U,$,null);if(typeof U.then=="function")return B(j,x,vl(U),$);if(U.$$typeof===N)return B(j,x,hl(j,U),$);yl(j,U)}return null}function L(j,x,U,$,ae){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(U)||null,S(x,j,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return j=j.get($.key===null?U:$.key)||null,R(x,j,$,ae);case w:return j=j.get($.key===null?U:$.key)||null,z(x,j,$,ae);case K:return $=Pi($),L(j,x,U,$,ae)}if(et($)||Se($))return j=j.get(U)||null,V(x,j,$,ae,null);if(typeof $.then=="function")return L(j,x,U,vl($),ae);if($.$$typeof===N)return L(j,x,U,hl(x,$),ae);yl(x,$)}return null}function te(j,x,U,$){for(var ae=null,Ae=null,ne=x,me=x=0,_e=null;ne!==null&&me<U.length;me++){ne.index>me?(_e=ne,ne=null):_e=ne.sibling;var Te=B(j,ne,U[me],$);if(Te===null){ne===null&&(ne=_e);break}n&&ne&&Te.alternate===null&&r(j,ne),x=h(Te,x,me),Ae===null?ae=Te:Ae.sibling=Te,Ae=Te,ne=_e}if(me===U.length)return s(j,ne),Ee&&Cn(j,me),ae;if(ne===null){for(;me<U.length;me++)ne=Y(j,U[me],$),ne!==null&&(x=h(ne,x,me),Ae===null?ae=ne:Ae.sibling=ne,Ae=ne);return Ee&&Cn(j,me),ae}for(ne=u(ne);me<U.length;me++)_e=L(ne,j,me,U[me],$),_e!==null&&(n&&_e.alternate!==null&&ne.delete(_e.key===null?me:_e.key),x=h(_e,x,me),Ae===null?ae=_e:Ae.sibling=_e,Ae=_e);return n&&ne.forEach(function(vi){return r(j,vi)}),Ee&&Cn(j,me),ae}function oe(j,x,U,$){if(U==null)throw Error(a(151));for(var ae=null,Ae=null,ne=x,me=x=0,_e=null,Te=U.next();ne!==null&&!Te.done;me++,Te=U.next()){ne.index>me?(_e=ne,ne=null):_e=ne.sibling;var vi=B(j,ne,Te.value,$);if(vi===null){ne===null&&(ne=_e);break}n&&ne&&vi.alternate===null&&r(j,ne),x=h(vi,x,me),Ae===null?ae=vi:Ae.sibling=vi,Ae=vi,ne=_e}if(Te.done)return s(j,ne),Ee&&Cn(j,me),ae;if(ne===null){for(;!Te.done;me++,Te=U.next())Te=Y(j,Te.value,$),Te!==null&&(x=h(Te,x,me),Ae===null?ae=Te:Ae.sibling=Te,Ae=Te);return Ee&&Cn(j,me),ae}for(ne=u(ne);!Te.done;me++,Te=U.next())Te=L(ne,j,me,Te.value,$),Te!==null&&(n&&Te.alternate!==null&&ne.delete(Te.key===null?me:Te.key),x=h(Te,x,me),Ae===null?ae=Te:Ae.sibling=Te,Ae=Te);return n&&ne.forEach(function(_w){return r(j,_w)}),Ee&&Cn(j,me),ae}function Ne(j,x,U,$){if(typeof U=="object"&&U!==null&&U.type===A&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:e:{for(var ae=U.key;x!==null;){if(x.key===ae){if(ae=U.type,ae===A){if(x.tag===7){s(j,x.sibling),$=d(x,U.props.children),$.return=j,j=$;break e}}else if(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===K&&Pi(ae)===x.type){s(j,x.sibling),$=d(x,U.props),qa($,U),$.return=j,j=$;break e}s(j,x);break}else r(j,x);x=x.sibling}U.type===A?($=Bi(U.props.children,j.mode,$,U.key),$.return=j,j=$):($=cl(U.type,U.key,U.props,null,j.mode,$),qa($,U),$.return=j,j=$)}return v(j);case w:e:{for(ae=U.key;x!==null;){if(x.key===ae)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){s(j,x.sibling),$=d(x,U.children||[]),$.return=j,j=$;break e}else{s(j,x);break}else r(j,x);x=x.sibling}$=Fu(U,j.mode,$),$.return=j,j=$}return v(j);case K:return U=Pi(U),Ne(j,x,U,$)}if(et(U))return te(j,x,U,$);if(Se(U)){if(ae=Se(U),typeof ae!="function")throw Error(a(150));return U=ae.call(U),oe(j,x,U,$)}if(typeof U.then=="function")return Ne(j,x,vl(U),$);if(U.$$typeof===N)return Ne(j,x,hl(j,U),$);yl(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(s(j,x.sibling),$=d(x,U),$.return=j,j=$):(s(j,x),$=Qu(U,j.mode,$),$.return=j,j=$),v(j)):s(j,x)}return function(j,x,U,$){try{La=0;var ae=Ne(j,x,U,$);return Ur=null,ae}catch(ne){if(ne===Nr||ne===pl)throw ne;var Ae=Bt(29,ne,null,j.mode);return Ae.lanes=$,Ae.return=j,Ae}}}var Gi=Qg(!0),Fg=Qg(!1),ei=!1;function lc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ti(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ni(n,r,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ce&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=ul(n),Mg(n,null,s),r}return ol(n,u,r,s),ul(n)}function Pa(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Lh(n,s)}}function uc(n,r){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,s=s.next}while(s!==null);h===null?d=h=r:h=h.next=r}else d=h=r;s={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var cc=!1;function Va(){if(cc){var n=jr;if(n!==null)throw n}}function Ga(n,r,s,u){cc=!1;var d=n.updateQueue;ei=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var R=S,z=R.next;R.next=null,v===null?h=z:v.next=z,v=R;var V=n.alternate;V!==null&&(V=V.updateQueue,S=V.lastBaseUpdate,S!==v&&(S===null?V.firstBaseUpdate=z:S.next=z,V.lastBaseUpdate=R))}if(h!==null){var Y=d.baseState;v=0,V=z=R=null,S=h;do{var B=S.lane&-536870913,L=B!==S.lane;if(L?(be&B)===B:(u&B)===B){B!==0&&B===Mr&&(cc=!0),V!==null&&(V=V.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var te=n,oe=S;B=r;var Ne=s;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){Y=te.call(Ne,Y,B);break e}Y=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,B=typeof te=="function"?te.call(Ne,Y,B):te,B==null)break e;Y=y({},Y,B);break e;case 2:ei=!0}}B=S.callback,B!==null&&(n.flags|=64,L&&(n.flags|=8192),L=d.callbacks,L===null?d.callbacks=[B]:L.push(B))}else L={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},V===null?(z=V=L,R=Y):V=V.next=L,v|=B;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;L=S,S=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);V===null&&(R=Y),d.baseState=R,d.firstBaseUpdate=z,d.lastBaseUpdate=V,h===null&&(d.shared.lanes=0),li|=v,n.lanes=v,n.memoizedState=Y}}function Zg(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function Kg(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Zg(s[n],r)}var zr=C(null),bl=C(0);function Xg(n,r){n=In,G(bl,n),G(zr,r),In=n|r.baseLanes}function dc(){G(bl,In),G(zr,zr.current)}function fc(){In=bl.current,O(zr),O(bl)}var It=C(null),nn=null;function ii(n){var r=n.alternate;G(Xe,Xe.current&1),G(It,n),nn===null&&(r===null||zr.current!==null||r.memoizedState!==null)&&(nn=n)}function hc(n){G(Xe,Xe.current),G(It,n),nn===null&&(nn=n)}function Jg(n){n.tag===22?(G(Xe,Xe.current),G(It,n),nn===null&&(nn=n)):ri()}function ri(){G(Xe,Xe.current),G(It,It.current)}function Ht(n){O(It),nn===n&&(nn=null),O(Xe)}var Xe=C(0);function _l(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||bd(s)||_d(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var On=0,ge=null,Me=null,nt=null,Sl=!1,Br=!1,$i=!1,El=0,$a=0,Ir=null,cE=0;function Qe(){throw Error(a(321))}function gc(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!zt(n[s],r[s]))return!1;return!0}function pc(n,r,s,u,d,h){return On=h,ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=n===null||n.memoizedState===null?zp:Oc,$i=!1,h=s(u,d),$i=!1,Br&&(h=tp(r,s,u,d)),ep(n),h}function ep(n){P.H=Qa;var r=Me!==null&&Me.next!==null;if(On=0,nt=Me=ge=null,Sl=!1,$a=0,Ir=null,r)throw Error(a(300));n===null||it||(n=n.dependencies,n!==null&&fl(n)&&(it=!0))}function tp(n,r,s,u){ge=n;var d=0;do{if(Br&&(Ir=null),$a=0,Br=!1,25<=d)throw Error(a(301));if(d+=1,nt=Me=null,n.updateQueue!=null){var h=n.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}P.H=Bp,h=r(s,u)}while(Br);return h}function dE(){var n=P.H,r=n.useState()[0];return r=typeof r.then=="function"?Ya(r):r,n=n.useState()[0],(Me!==null?Me.memoizedState:null)!==n&&(ge.flags|=1024),r}function mc(){var n=El!==0;return El=0,n}function vc(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function yc(n){if(Sl){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Sl=!1}On=0,nt=Me=ge=null,Br=!1,$a=El=0,Ir=null}function At(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ge.memoizedState=nt=n:nt=nt.next=n,nt}function Je(){if(Me===null){var n=ge.alternate;n=n!==null?n.memoizedState:null}else n=Me.next;var r=nt===null?ge.memoizedState:nt.next;if(r!==null)nt=r,Me=n;else{if(n===null)throw ge.alternate===null?Error(a(467)):Error(a(310));Me=n,n={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},nt===null?ge.memoizedState=nt=n:nt=nt.next=n}return nt}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(n){var r=$a;return $a+=1,Ir===null&&(Ir=[]),n=$g(Ir,n,r),r=ge,(nt===null?r.memoizedState:nt.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?zp:Oc),n}function Al(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ya(n);if(n.$$typeof===N)return mt(n)}throw Error(a(438,String(n)))}function bc(n){var r=null,s=ge.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=wl(),ge.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),u=0;u<n;u++)s[u]=ke;return r.index++,s}function kn(n,r){return typeof r=="function"?r(n):r}function Tl(n){var r=Je();return _c(r,Me,n)}function _c(n,r,s){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var d=n.baseQueue,h=u.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}r.baseQueue=d=h,u.pending=null}if(h=n.baseState,d===null)n.memoizedState=h;else{r=d.next;var S=v=null,R=null,z=r,V=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(be&Y)===Y:(On&Y)===Y){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Mr&&(V=!0);else if((On&B)===B){z=z.next,B===Mr&&(V=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(S=R=Y,v=h):R=R.next=Y,ge.lanes|=B,li|=B;Y=z.action,$i&&s(h,Y),h=z.hasEagerState?z.eagerState:s(h,Y)}else B={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(S=R=B,v=h):R=R.next=B,ge.lanes|=Y,li|=Y;z=z.next}while(z!==null&&z!==r);if(R===null?v=h:R.next=S,!zt(h,n.memoizedState)&&(it=!0,V&&(s=jr,s!==null)))throw s;n.memoizedState=h,n.baseState=v,n.baseQueue=R,u.lastRenderedState=h}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Sc(n){var r=Je(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var u=s.dispatch,d=s.pending,h=r.memoizedState;if(d!==null){s.pending=null;var v=d=d.next;do h=n(h,v.action),v=v.next;while(v!==d);zt(h,r.memoizedState)||(it=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),s.lastRenderedState=h}return[h,u]}function np(n,r,s){var u=ge,d=Je(),h=Ee;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=r();var v=!zt((Me||d).memoizedState,s);if(v&&(d.memoizedState=s,it=!0),d=d.queue,Ac(ap.bind(null,u,d,n),[n]),d.getSnapshot!==r||v||nt!==null&&nt.memoizedState.tag&1){if(u.flags|=2048,Hr(9,{destroy:void 0},rp.bind(null,u,d,s,r),null),Ue===null)throw Error(a(349));h||(On&127)!==0||ip(u,r,s)}return s}function ip(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=ge.updateQueue,r===null?(r=wl(),ge.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function rp(n,r,s,u){r.value=s,r.getSnapshot=u,sp(r)&&lp(n)}function ap(n,r,s){return s(function(){sp(r)&&lp(n)})}function sp(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!zt(n,s)}catch{return!0}}function lp(n){var r=zi(n,2);r!==null&&kt(r,n,2)}function Ec(n){var r=At();if(typeof n=="function"){var s=n;if(n=s(),$i){Wn(!0);try{s()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:n},r}function op(n,r,s,u){return n.baseState=s,_c(n,Me,typeof u=="function"?u:kn)}function fE(n,r,s,u,d){if(Dl(n))throw Error(a(485));if(n=r.action,n!==null){var h={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};P.T!==null?s(!0):h.isTransition=!1,u(h),s=r.pending,s===null?(h.next=r.pending=h,up(r,h)):(h.next=s.next,r.pending=s.next=h)}}function up(n,r){var s=r.action,u=r.payload,d=n.state;if(r.isTransition){var h=P.T,v={};P.T=v;try{var S=s(d,u),R=P.S;R!==null&&R(v,S),cp(n,r,S)}catch(z){wc(n,r,z)}finally{h!==null&&v.types!==null&&(h.types=v.types),P.T=h}}else try{h=s(d,u),cp(n,r,h)}catch(z){wc(n,r,z)}}function cp(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){dp(n,r,u)},function(u){return wc(n,r,u)}):dp(n,r,s)}function dp(n,r,s){r.status="fulfilled",r.value=s,fp(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,up(n,s)))}function wc(n,r,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,fp(r),r=r.next;while(r!==u)}n.action=null}function fp(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function hp(n,r){return r}function gp(n,r){if(Ee){var s=Ue.formState;if(s!==null){e:{var u=ge;if(Ee){if(He){t:{for(var d=He,h=tn;d.nodeType!==8;){if(!h){d=null;break t}if(d=rn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){He=rn(d.nextSibling),u=d.data==="F!";break e}}Xn(u)}u=!1}u&&(r=s[0])}}return s=At(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:r},s.queue=u,s=jp.bind(null,ge,u),u.dispatch=s,u=Ec(!1),h=xc.bind(null,ge,!1,u.queue),u=At(),d={state:r,dispatch:null,action:n,pending:null},u.queue=d,s=fE.bind(null,ge,d,h,s),d.dispatch=s,u.memoizedState=n,[r,s,!1]}function pp(n){var r=Je();return mp(r,Me,n)}function mp(n,r,s){if(r=_c(n,r,hp)[0],n=Tl(kn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ya(r)}catch(v){throw v===Nr?pl:v}else u=r;r=Je();var d=r.queue,h=d.dispatch;return s!==r.memoizedState&&(ge.flags|=2048,Hr(9,{destroy:void 0},hE.bind(null,d,s),null)),[u,h,n]}function hE(n,r){n.action=r}function vp(n){var r=Je(),s=Me;if(s!==null)return mp(r,s,n);Je(),r=r.memoizedState,s=Je();var u=s.queue.dispatch;return s.memoizedState=n,[r,u,!1]}function Hr(n,r,s,u){return n={tag:n,create:s,deps:u,inst:r,next:null},r=ge.updateQueue,r===null&&(r=wl(),ge.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,r.lastEffect=n),n}function yp(){return Je().memoizedState}function Rl(n,r,s,u){var d=At();ge.flags|=n,d.memoizedState=Hr(1|r,{destroy:void 0},s,u===void 0?null:u)}function Cl(n,r,s,u){var d=Je();u=u===void 0?null:u;var h=d.memoizedState.inst;Me!==null&&u!==null&&gc(u,Me.memoizedState.deps)?d.memoizedState=Hr(r,h,s,u):(ge.flags|=n,d.memoizedState=Hr(1|r,h,s,u))}function bp(n,r){Rl(8390656,8,n,r)}function Ac(n,r){Cl(2048,8,n,r)}function gE(n){ge.flags|=4;var r=ge.updateQueue;if(r===null)r=wl(),ge.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function _p(n){var r=Je().memoizedState;return gE({ref:r,nextImpl:n}),function(){if((Ce&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Sp(n,r){return Cl(4,2,n,r)}function Ep(n,r){return Cl(4,4,n,r)}function wp(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ap(n,r,s){s=s!=null?s.concat([n]):null,Cl(4,4,wp.bind(null,r,n),s)}function Tc(){}function Tp(n,r){var s=Je();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&gc(r,u[1])?u[0]:(s.memoizedState=[n,r],n)}function Rp(n,r){var s=Je();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&gc(r,u[1]))return u[0];if(u=n(),$i){Wn(!0);try{n()}finally{Wn(!1)}}return s.memoizedState=[u,r],u}function Rc(n,r,s){return s===void 0||(On&1073741824)!==0&&(be&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=Cm(),ge.lanes|=n,li|=n,s)}function Cp(n,r,s,u){return zt(s,r)?s:zr.current!==null?(n=Rc(n,s,u),zt(n,r)||(it=!0),n):(On&42)===0||(On&1073741824)!==0&&(be&261930)===0?(it=!0,n.memoizedState=s):(n=Cm(),ge.lanes|=n,li|=n,r)}function Dp(n,r,s,u,d){var h=J.p;J.p=h!==0&&8>h?h:8;var v=P.T,S={};P.T=S,xc(n,!1,r,s);try{var R=d(),z=P.S;if(z!==null&&z(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var V=uE(R,u);Wa(n,r,V,Pt(n))}else Wa(n,r,u,Pt(n))}catch(Y){Wa(n,r,{then:function(){},status:"rejected",reason:Y},Pt())}finally{J.p=h,v!==null&&S.types!==null&&(v.types=S.types),P.T=v}}function pE(){}function Cc(n,r,s,u){if(n.tag!==5)throw Error(a(476));var d=xp(n).queue;Dp(n,d,r,se,s===null?pE:function(){return Op(n),s(u)})}function xp(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:se},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Op(n){var r=xp(n);r.next===null&&(r=n.alternate.memoizedState),Wa(n,r.next.queue,{},Pt())}function Dc(){return mt(cs)}function kp(){return Je().memoizedState}function Mp(){return Je().memoizedState}function mE(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=Pt();n=ti(s);var u=ni(r,n,s);u!==null&&(kt(u,r,s),Pa(u,r,s)),r={cache:ic()},n.payload=r;return}r=r.return}}function vE(n,r,s){var u=Pt();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Dl(n)?Np(r,s):(s=Yu(n,r,s,u),s!==null&&(kt(s,n,u),Up(s,r,u)))}function jp(n,r,s){var u=Pt();Wa(n,r,s,u)}function Wa(n,r,s,u){var d={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Dl(n))Np(r,d);else{var h=n.alternate;if(n.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var v=r.lastRenderedState,S=h(v,s);if(d.hasEagerState=!0,d.eagerState=S,zt(S,v))return ol(n,r,d,0),Ue===null&&ll(),!1}catch{}if(s=Yu(n,r,d,u),s!==null)return kt(s,n,u),Up(s,r,u),!0}return!1}function xc(n,r,s,u){if(u={lane:2,revertLane:ld(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Dl(n)){if(r)throw Error(a(479))}else r=Yu(n,s,u,2),r!==null&&kt(r,n,2)}function Dl(n){var r=n.alternate;return n===ge||r!==null&&r===ge}function Np(n,r){Br=Sl=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function Up(n,r,s){if((s&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Lh(n,s)}}var Qa={readContext:mt,use:Al,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Qa.useEffectEvent=Qe;var zp={readContext:mt,use:Al,useCallback:function(n,r){return At().memoizedState=[n,r===void 0?null:r],n},useContext:mt,useEffect:bp,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,Rl(4194308,4,wp.bind(null,r,n),s)},useLayoutEffect:function(n,r){return Rl(4194308,4,n,r)},useInsertionEffect:function(n,r){Rl(4,2,n,r)},useMemo:function(n,r){var s=At();r=r===void 0?null:r;var u=n();if($i){Wn(!0);try{n()}finally{Wn(!1)}}return s.memoizedState=[u,r],u},useReducer:function(n,r,s){var u=At();if(s!==void 0){var d=s(r);if($i){Wn(!0);try{s(r)}finally{Wn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=vE.bind(null,ge,n),[u.memoizedState,n]},useRef:function(n){var r=At();return n={current:n},r.memoizedState=n},useState:function(n){n=Ec(n);var r=n.queue,s=jp.bind(null,ge,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:Tc,useDeferredValue:function(n,r){var s=At();return Rc(s,n,r)},useTransition:function(){var n=Ec(!1);return n=Dp.bind(null,ge,n.queue,!0,!1),At().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var u=ge,d=At();if(Ee){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),Ue===null)throw Error(a(349));(be&127)!==0||ip(u,r,s)}d.memoizedState=s;var h={value:s,getSnapshot:r};return d.queue=h,bp(ap.bind(null,u,h,n),[n]),u.flags|=2048,Hr(9,{destroy:void 0},rp.bind(null,u,h,s,r),null),s},useId:function(){var n=At(),r=Ue.identifierPrefix;if(Ee){var s=vn,u=mn;s=(u&~(1<<32-Ut(u)-1)).toString(32)+s,r="_"+r+"R_"+s,s=El++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=cE++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Dc,useFormState:gp,useActionState:gp,useOptimistic:function(n){var r=At();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=xc.bind(null,ge,!0,s),s.dispatch=r,[n,r]},useMemoCache:bc,useCacheRefresh:function(){return At().memoizedState=mE.bind(null,ge)},useEffectEvent:function(n){var r=At(),s={impl:n};return r.memoizedState=s,function(){if((Ce&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Oc={readContext:mt,use:Al,useCallback:Tp,useContext:mt,useEffect:Ac,useImperativeHandle:Ap,useInsertionEffect:Sp,useLayoutEffect:Ep,useMemo:Rp,useReducer:Tl,useRef:yp,useState:function(){return Tl(kn)},useDebugValue:Tc,useDeferredValue:function(n,r){var s=Je();return Cp(s,Me.memoizedState,n,r)},useTransition:function(){var n=Tl(kn)[0],r=Je().memoizedState;return[typeof n=="boolean"?n:Ya(n),r]},useSyncExternalStore:np,useId:kp,useHostTransitionStatus:Dc,useFormState:pp,useActionState:pp,useOptimistic:function(n,r){var s=Je();return op(s,Me,n,r)},useMemoCache:bc,useCacheRefresh:Mp};Oc.useEffectEvent=_p;var Bp={readContext:mt,use:Al,useCallback:Tp,useContext:mt,useEffect:Ac,useImperativeHandle:Ap,useInsertionEffect:Sp,useLayoutEffect:Ep,useMemo:Rp,useReducer:Sc,useRef:yp,useState:function(){return Sc(kn)},useDebugValue:Tc,useDeferredValue:function(n,r){var s=Je();return Me===null?Rc(s,n,r):Cp(s,Me.memoizedState,n,r)},useTransition:function(){var n=Sc(kn)[0],r=Je().memoizedState;return[typeof n=="boolean"?n:Ya(n),r]},useSyncExternalStore:np,useId:kp,useHostTransitionStatus:Dc,useFormState:vp,useActionState:vp,useOptimistic:function(n,r){var s=Je();return Me!==null?op(s,Me,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:bc,useCacheRefresh:Mp};Bp.useEffectEvent=_p;function kc(n,r,s,u){r=n.memoizedState,s=s(u,r),s=s==null?r:y({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Mc={enqueueSetState:function(n,r,s){n=n._reactInternals;var u=Pt(),d=ti(u);d.payload=r,s!=null&&(d.callback=s),r=ni(n,d,u),r!==null&&(kt(r,n,u),Pa(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var u=Pt(),d=ti(u);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=ni(n,d,u),r!==null&&(kt(r,n,u),Pa(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=Pt(),u=ti(s);u.tag=2,r!=null&&(u.callback=r),r=ni(n,u,s),r!==null&&(kt(r,n,s),Pa(r,n,s))}};function Ip(n,r,s,u,d,h,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,h,v):r.prototype&&r.prototype.isPureReactComponent?!Na(s,u)||!Na(d,h):!0}function Hp(n,r,s,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==n&&Mc.enqueueReplaceState(r,r.state,null)}function Yi(n,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(n=n.defaultProps){s===r&&(s=y({},s));for(var d in n)s[d]===void 0&&(s[d]=n[d])}return s}function Lp(n){sl(n)}function qp(n){console.error(n)}function Pp(n){sl(n)}function xl(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Vp(n,r,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jc(n,r,s){return s=ti(s),s.tag=3,s.payload={element:null},s.callback=function(){xl(n,r)},s}function Gp(n){return n=ti(n),n.tag=3,n}function $p(n,r,s,u){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var h=u.value;n.payload=function(){return d(h)},n.callback=function(){Vp(r,s,u)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Vp(r,s,u),typeof d!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function yE(n,r,s,u,d){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&kr(r,s,d,!0),s=It.current,s!==null){switch(s.tag){case 31:case 13:return nn===null?ql():s.alternate===null&&Fe===0&&(Fe=3),s.flags&=-257,s.flags|=65536,s.lanes=d,u===ml?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),rd(n,u,d)),!1;case 22:return s.flags|=65536,u===ml?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),rd(n,u,d)),!1}throw Error(a(435,s.tag))}return rd(n,u,d),ql(),!1}if(Ee)return r=It.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Xu&&(n=Error(a(422),{cause:u}),Ba(Xt(n,s)))):(u!==Xu&&(r=Error(a(423),{cause:u}),Ba(Xt(r,s))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=Xt(u,s),d=jc(n.stateNode,u,d),uc(n,d),Fe!==4&&(Fe=2)),!1;var h=Error(a(520),{cause:u});if(h=Xt(h,s),ns===null?ns=[h]:ns.push(h),Fe!==4&&(Fe=2),r===null)return!0;u=Xt(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=d&-d,s.lanes|=n,n=jc(s.stateNode,u,n),uc(s,n),!1;case 1:if(r=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(oi===null||!oi.has(h))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Gp(d),$p(d,n,s,u),uc(s,d),!1}s=s.return}while(s!==null);return!1}var Nc=Error(a(461)),it=!1;function vt(n,r,s,u){r.child=n===null?Fg(r,null,s,u):Gi(r,n.child,s,u)}function Yp(n,r,s,u,d){s=s.render;var h=r.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Li(r),u=pc(n,r,s,v,h,d),S=mc(),n!==null&&!it?(vc(n,r,d),Mn(n,r,d)):(Ee&&S&&Zu(r),r.flags|=1,vt(n,r,u,d),r.child)}function Wp(n,r,s,u,d){if(n===null){var h=s.type;return typeof h=="function"&&!Wu(h)&&h.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=h,Qp(n,r,h,u,d)):(n=cl(s.type,null,u,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(h=n.child,!Pc(n,d)){var v=h.memoizedProps;if(s=s.compare,s=s!==null?s:Na,s(v,u)&&n.ref===r.ref)return Mn(n,r,d)}return r.flags|=1,n=Rn(h,u),n.ref=r.ref,n.return=r,r.child=n}function Qp(n,r,s,u,d){if(n!==null){var h=n.memoizedProps;if(Na(h,u)&&n.ref===r.ref)if(it=!1,r.pendingProps=u=h,Pc(n,d))(n.flags&131072)!==0&&(it=!0);else return r.lanes=n.lanes,Mn(n,r,d)}return Uc(n,r,s,u,d)}function Fp(n,r,s,u){var d=u.children,h=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,n!==null){for(u=r.child=n.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~h}else u=0,r.child=null;return Zp(n,r,h,s,u)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&gl(r,h!==null?h.cachePool:null),h!==null?Xg(r,h):dc(),Jg(r);else return u=r.lanes=536870912,Zp(n,r,h!==null?h.baseLanes|s:s,s,u)}else h!==null?(gl(r,h.cachePool),Xg(r,h),ri(),r.memoizedState=null):(n!==null&&gl(r,null),dc(),ri());return vt(n,r,d,s),r.child}function Fa(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Zp(n,r,s,u,d){var h=ac();return h=h===null?null:{parent:tt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},n!==null&&gl(r,null),dc(),Jg(r),n!==null&&kr(n,r,u,!0),r.childLanes=d,null}function Ol(n,r){return r=Ml({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Kp(n,r,s){return Gi(r,n.child,null,s),n=Ol(r,r.pendingProps),n.flags|=2,Ht(r),r.memoizedState=null,n}function bE(n,r,s){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Ee){if(u.mode==="hidden")return n=Ol(r,u),r.lanes=536870912,Fa(null,n);if(hc(r),(n=He)?(n=uv(n,tn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Zn!==null?{id:mn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},s=Ng(n),s.return=r,r.child=s,pt=r,He=null)):n=null,n===null)throw Xn(r);return r.lanes=536870912,null}return Ol(r,u)}var h=n.memoizedState;if(h!==null){var v=h.dehydrated;if(hc(r),d)if(r.flags&256)r.flags&=-257,r=Kp(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(a(558));else if(it||kr(n,r,s,!1),d=(s&n.childLanes)!==0,it||d){if(u=Ue,u!==null&&(v=qh(u,s),v!==0&&v!==h.retryLane))throw h.retryLane=v,zi(n,v),kt(u,n,v),Nc;ql(),r=Kp(n,r,s)}else n=h.treeContext,He=rn(v.nextSibling),pt=r,Ee=!0,Kn=null,tn=!1,n!==null&&Bg(r,n),r=Ol(r,u),r.flags|=4096;return r}return n=Rn(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function kl(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Uc(n,r,s,u,d){return Li(r),s=pc(n,r,s,u,void 0,d),u=mc(),n!==null&&!it?(vc(n,r,d),Mn(n,r,d)):(Ee&&u&&Zu(r),r.flags|=1,vt(n,r,s,d),r.child)}function Xp(n,r,s,u,d,h){return Li(r),r.updateQueue=null,s=tp(r,u,s,d),ep(n),u=mc(),n!==null&&!it?(vc(n,r,h),Mn(n,r,h)):(Ee&&u&&Zu(r),r.flags|=1,vt(n,r,s,h),r.child)}function Jp(n,r,s,u,d){if(Li(r),r.stateNode===null){var h=Cr,v=s.contextType;typeof v=="object"&&v!==null&&(h=mt(v)),h=new s(u,h),r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Mc,r.stateNode=h,h._reactInternals=r,h=r.stateNode,h.props=u,h.state=r.memoizedState,h.refs={},lc(r),v=s.contextType,h.context=typeof v=="object"&&v!==null?mt(v):Cr,h.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(kc(r,s,v,u),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Mc.enqueueReplaceState(h,h.state,null),Ga(r,u,h,d),Va(),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){h=r.stateNode;var S=r.memoizedProps,R=Yi(s,S);h.props=R;var z=h.context,V=s.contextType;v=Cr,typeof V=="object"&&V!==null&&(v=mt(V));var Y=s.getDerivedStateFromProps;V=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||z!==v)&&Hp(r,h,u,v),ei=!1;var B=r.memoizedState;h.state=B,Ga(r,u,h,d),Va(),z=r.memoizedState,S||B!==z||ei?(typeof Y=="function"&&(kc(r,s,Y,u),z=r.memoizedState),(R=ei||Ip(r,s,R,u,B,z,v))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=z),h.props=u,h.state=z,h.context=v,u=R):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{h=r.stateNode,oc(n,r),v=r.memoizedProps,V=Yi(s,v),h.props=V,Y=r.pendingProps,B=h.context,z=s.contextType,R=Cr,typeof z=="object"&&z!==null&&(R=mt(z)),S=s.getDerivedStateFromProps,(z=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==Y||B!==R)&&Hp(r,h,u,R),ei=!1,B=r.memoizedState,h.state=B,Ga(r,u,h,d),Va();var L=r.memoizedState;v!==Y||B!==L||ei||n!==null&&n.dependencies!==null&&fl(n.dependencies)?(typeof S=="function"&&(kc(r,s,S,u),L=r.memoizedState),(V=ei||Ip(r,s,V,u,B,L,R)||n!==null&&n.dependencies!==null&&fl(n.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,L,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,L,R)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=L),h.props=u,h.state=L,h.context=R,u=V):(typeof h.componentDidUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),u=!1)}return h=u,kl(n,r),u=(r.flags&128)!==0,h||u?(h=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:h.render(),r.flags|=1,n!==null&&u?(r.child=Gi(r,n.child,null,d),r.child=Gi(r,null,s,d)):vt(n,r,s,d),r.memoizedState=h.state,n=r.child):n=Mn(n,r,d),n}function em(n,r,s,u){return Ii(),r.flags|=256,vt(n,r,s,u),r.child}var zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bc(n){return{baseLanes:n,cachePool:Vg()}}function Ic(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=qt),n}function tm(n,r,s){var u=r.pendingProps,d=!1,h=(r.flags&128)!==0,v;if((v=h)||(v=n!==null&&n.memoizedState===null?!1:(Xe.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ee){if(d?ii(r):ri(),(n=He)?(n=uv(n,tn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Zn!==null?{id:mn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},s=Ng(n),s.return=r,r.child=s,pt=r,He=null)):n=null,n===null)throw Xn(r);return _d(n)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(ri(),d=r.mode,S=Ml({mode:"hidden",children:S},d),u=Bi(u,d,s,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Bc(s),u.childLanes=Ic(n,v,s),r.memoizedState=zc,Fa(null,u)):(ii(r),Hc(r,S))}var R=n.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(h)r.flags&256?(ii(r),r.flags&=-257,r=Lc(n,r,s)):r.memoizedState!==null?(ri(),r.child=n.child,r.flags|=128,r=null):(ri(),S=u.fallback,d=r.mode,u=Ml({mode:"visible",children:u.children},d),S=Bi(S,d,s,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Gi(r,n.child,null,s),u=r.child,u.memoizedState=Bc(s),u.childLanes=Ic(n,v,s),r.memoizedState=zc,r=Fa(null,u));else if(ii(r),_d(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var z=v.dgst;v=z,u=Error(a(419)),u.stack="",u.digest=v,Ba({value:u,source:null,stack:null}),r=Lc(n,r,s)}else if(it||kr(n,r,s,!1),v=(s&n.childLanes)!==0,it||v){if(v=Ue,v!==null&&(u=qh(v,s),u!==0&&u!==R.retryLane))throw R.retryLane=u,zi(n,u),kt(v,n,u),Nc;bd(S)||ql(),r=Lc(n,r,s)}else bd(S)?(r.flags|=192,r.child=n.child,r=null):(n=R.treeContext,He=rn(S.nextSibling),pt=r,Ee=!0,Kn=null,tn=!1,n!==null&&Bg(r,n),r=Hc(r,u.children),r.flags|=4096);return r}return d?(ri(),S=u.fallback,d=r.mode,R=n.child,z=R.sibling,u=Rn(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,z!==null?S=Rn(z,S):(S=Bi(S,d,s,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Fa(null,u),u=r.child,S=n.child.memoizedState,S===null?S=Bc(s):(d=S.cachePool,d!==null?(R=tt._currentValue,d=d.parent!==R?{parent:R,pool:R}:d):d=Vg(),S={baseLanes:S.baseLanes|s,cachePool:d}),u.memoizedState=S,u.childLanes=Ic(n,v,s),r.memoizedState=zc,Fa(n.child,u)):(ii(r),s=n.child,n=s.sibling,s=Rn(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=s,r.memoizedState=null,s)}function Hc(n,r){return r=Ml({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ml(n,r){return n=Bt(22,n,null,r),n.lanes=0,n}function Lc(n,r,s){return Gi(r,n.child,null,s),n=Hc(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function nm(n,r,s){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),tc(n.return,r,s)}function qc(n,r,s,u,d,h){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:d,treeForkCount:h}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=s,v.tailMode=d,v.treeForkCount=h)}function im(n,r,s){var u=r.pendingProps,d=u.revealOrder,h=u.tail;u=u.children;var v=Xe.current,S=(v&2)!==0;if(S?(v=v&1|2,r.flags|=128):v&=1,G(Xe,v),vt(n,r,u,s),u=Ee?za:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nm(n,s,r);else if(n.tag===19)nm(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(s=r.child,d=null;s!==null;)n=s.alternate,n!==null&&_l(n)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),qc(r,!1,d,s,h,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&_l(n)===null){r.child=d;break}n=d.sibling,d.sibling=s,s=d,d=n}qc(r,!0,s,null,h,u);break;case"together":qc(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Mn(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),li|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(kr(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,s=Rn(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=Rn(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Pc(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&fl(n)))}function _E(n,r,s){switch(r.tag){case 3:we(r,r.stateNode.containerInfo),Jn(r,tt,n.memoizedState.cache),Ii();break;case 27:case 5:sn(r);break;case 4:we(r,r.stateNode.containerInfo);break;case 10:Jn(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hc(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ii(r),r.flags|=128,null):(s&r.child.childLanes)!==0?tm(n,r,s):(ii(r),n=Mn(n,r,s),n!==null?n.sibling:null);ii(r);break;case 19:var d=(n.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(kr(n,r,s,!1),u=(s&r.childLanes)!==0),d){if(u)return im(n,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(Xe,Xe.current),u)break;return null;case 22:return r.lanes=0,Fp(n,r,s,r.pendingProps);case 24:Jn(r,tt,n.memoizedState.cache)}return Mn(n,r,s)}function rm(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)it=!0;else{if(!Pc(n,s)&&(r.flags&128)===0)return it=!1,_E(n,r,s);it=(n.flags&131072)!==0}else it=!1,Ee&&(r.flags&1048576)!==0&&zg(r,za,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Pi(r.elementType),r.type=n,typeof n=="function")Wu(n)?(u=Yi(n,u),r.tag=1,r=Jp(null,r,n,u,s)):(r.tag=0,r=Uc(null,r,n,u,s));else{if(n!=null){var d=n.$$typeof;if(d===Z){r.tag=11,r=Yp(null,r,n,u,s);break e}else if(d===F){r.tag=14,r=Wp(null,r,n,u,s);break e}}throw r=lt(n)||n,Error(a(306,r,""))}}return r;case 0:return Uc(n,r,r.type,r.pendingProps,s);case 1:return u=r.type,d=Yi(u,r.pendingProps),Jp(n,r,u,d,s);case 3:e:{if(we(r,r.stateNode.containerInfo),n===null)throw Error(a(387));u=r.pendingProps;var h=r.memoizedState;d=h.element,oc(n,r),Ga(r,u,null,s);var v=r.memoizedState;if(u=v.cache,Jn(r,tt,u),u!==h.cache&&nc(r,[tt],s,!0),Va(),u=v.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=em(n,r,u,s);break e}else if(u!==d){d=Xt(Error(a(424)),r),Ba(d),r=em(n,r,u,s);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,He=rn(n.firstChild),pt=r,Ee=!0,Kn=null,tn=!0,s=Fg(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ii(),u===d){r=Mn(n,r,s);break e}vt(n,r,u,s)}r=r.child}return r;case 26:return kl(n,r),n===null?(s=pv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ee||(s=r.type,n=r.pendingProps,u=Ql(re.current).createElement(s),u[gt]=r,u[Tt]=n,yt(u,s,n),ct(u),r.stateNode=u):r.memoizedState=pv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return sn(r),n===null&&Ee&&(u=r.stateNode=fv(r.type,r.pendingProps,re.current),pt=r,tn=!0,d=He,fi(r.type)?(Sd=d,He=rn(u.firstChild)):He=d),vt(n,r,r.pendingProps.children,s),kl(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ee&&((d=u=He)&&(u=ZE(u,r.type,r.pendingProps,tn),u!==null?(r.stateNode=u,pt=r,He=rn(u.firstChild),tn=!1,d=!0):d=!1),d||Xn(r)),sn(r),d=r.type,h=r.pendingProps,v=n!==null?n.memoizedProps:null,u=h.children,md(d,h)?u=null:v!==null&&md(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=pc(n,r,dE,null,null,s),cs._currentValue=d),kl(n,r),vt(n,r,u,s),r.child;case 6:return n===null&&Ee&&((n=s=He)&&(s=KE(s,r.pendingProps,tn),s!==null?(r.stateNode=s,pt=r,He=null,n=!0):n=!1),n||Xn(r)),null;case 13:return tm(n,r,s);case 4:return we(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Gi(r,null,u,s):vt(n,r,u,s),r.child;case 11:return Yp(n,r,r.type,r.pendingProps,s);case 7:return vt(n,r,r.pendingProps,s),r.child;case 8:return vt(n,r,r.pendingProps.children,s),r.child;case 12:return vt(n,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Jn(r,r.type,u.value),vt(n,r,u.children,s),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Li(r),d=mt(d),u=u(d),r.flags|=1,vt(n,r,u,s),r.child;case 14:return Wp(n,r,r.type,r.pendingProps,s);case 15:return Qp(n,r,r.type,r.pendingProps,s);case 19:return im(n,r,s);case 31:return bE(n,r,s);case 22:return Fp(n,r,s,r.pendingProps);case 24:return Li(r),u=mt(tt),n===null?(d=ac(),d===null&&(d=Ue,h=ic(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=s),d=h),r.memoizedState={parent:u,cache:d},lc(r),Jn(r,tt,d)):((n.lanes&s)!==0&&(oc(n,r),Ga(r,null,null,s),Va()),d=n.memoizedState,h=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Jn(r,tt,u)):(u=h.cache,Jn(r,tt,u),u!==d.cache&&nc(r,[tt],s,!0))),vt(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function jn(n){n.flags|=4}function Vc(n,r,s,u,d){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(km())n.flags|=8192;else throw Vi=ml,sc}else n.flags&=-16777217}function am(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_v(r))if(km())n.flags|=8192;else throw Vi=ml,sc}function jl(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ih():536870912,n.lanes|=r,Vr|=r)}function Za(n,r){if(!Ee)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Le(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(r)for(var d=n.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=s,r}function SE(n,r,s){var u=r.pendingProps;switch(Ku(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(r),null;case 1:return Le(r),null;case 3:return s=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),xn(tt),Be(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Or(r)?jn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ju())),Le(r),null;case 26:var d=r.type,h=r.memoizedState;return n===null?(jn(r),h!==null?(Le(r),am(r,h)):(Le(r),Vc(r,d,null,u,s))):h?h!==n.memoizedState?(jn(r),Le(r),am(r,h)):(Le(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&jn(r),Le(r),Vc(r,d,n,u,s)),null;case 27:if(xi(r),s=re.current,d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&jn(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return Le(r),null}n=Q.current,Or(r)?Ig(r):(n=fv(d,u,s),r.stateNode=n,jn(r))}return Le(r),null;case 5:if(xi(r),d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&jn(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return Le(r),null}if(h=Q.current,Or(r))Ig(r);else{var v=Ql(re.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?h.multiple=!0:u.size&&(h.size=u.size);break;default:h=typeof u.is=="string"?v.createElement(d,{is:u.is}):v.createElement(d)}}h[gt]=r,h[Tt]=u;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=h;e:switch(yt(h,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&jn(r)}}return Le(r),Vc(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&jn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(a(166));if(n=re.current,Or(r)){if(n=r.stateNode,s=r.memoizedProps,u=null,d=pt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[gt]=r,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||tv(n.nodeValue,s)),n||Xn(r,!0)}else n=Ql(n).createTextNode(u),n[gt]=r,r.stateNode=n}return Le(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(u=Or(r),s!==null){if(n===null){if(!u)throw Error(a(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[gt]=r}else Ii(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Le(r),n=!1}else s=Ju(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(Ht(r),r):(Ht(r),null);if((r.flags&128)!==0)throw Error(a(558))}return Le(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Or(r),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(a(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[gt]=r}else Ii(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Le(r),d=!1}else d=Ju(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Ht(r),r):(Ht(r),null)}return Ht(r),(r.flags&128)!==0?(r.lanes=s,r):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),h=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==d&&(u.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),jl(r,r.updateQueue),Le(r),null);case 4:return Be(),n===null&&dd(r.stateNode.containerInfo),Le(r),null;case 10:return xn(r.type),Le(r),null;case 19:if(O(Xe),u=r.memoizedState,u===null)return Le(r),null;if(d=(r.flags&128)!==0,h=u.rendering,h===null)if(d)Za(u,!1);else{if(Fe!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(h=_l(n),h!==null){for(r.flags|=128,Za(u,!1),n=h.updateQueue,r.updateQueue=n,jl(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)jg(s,n),s=s.sibling;return G(Xe,Xe.current&1|2),Ee&&Cn(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&jt()>Il&&(r.flags|=128,d=!0,Za(u,!1),r.lanes=4194304)}else{if(!d)if(n=_l(h),n!==null){if(r.flags|=128,d=!0,n=n.updateQueue,r.updateQueue=n,jl(r,n),Za(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Ee)return Le(r),null}else 2*jt()-u.renderingStartTime>Il&&s!==536870912&&(r.flags|=128,d=!0,Za(u,!1),r.lanes=4194304);u.isBackwards?(h.sibling=r.child,r.child=h):(n=u.last,n!==null?n.sibling=h:r.child=h,u.last=h)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=jt(),n.sibling=null,s=Xe.current,G(Xe,d?s&1|2:s&1),Ee&&Cn(r,u.treeForkCount),n):(Le(r),null);case 22:case 23:return Ht(r),fc(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(Le(r),r.subtreeFlags&6&&(r.flags|=8192)):Le(r),s=r.updateQueue,s!==null&&jl(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),n!==null&&O(qi),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),xn(tt),Le(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function EE(n,r){switch(Ku(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return xn(tt),Be(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return xi(r),null;case 31:if(r.memoizedState!==null){if(Ht(r),r.alternate===null)throw Error(a(340));Ii()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Ht(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ii()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return O(Xe),null;case 4:return Be(),null;case 10:return xn(r.type),null;case 22:case 23:return Ht(r),fc(),n!==null&&O(qi),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return xn(tt),null;case 25:return null;default:return null}}function sm(n,r){switch(Ku(r),r.tag){case 3:xn(tt),Be();break;case 26:case 27:case 5:xi(r);break;case 4:Be();break;case 31:r.memoizedState!==null&&Ht(r);break;case 13:Ht(r);break;case 19:O(Xe);break;case 10:xn(r.type);break;case 22:case 23:Ht(r),fc(),n!==null&&O(qi);break;case 24:xn(tt)}}function Ka(n,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&n)===n){u=void 0;var h=s.create,v=s.inst;u=h(),v.destroy=u}s=s.next}while(s!==d)}}catch(S){Oe(r,r.return,S)}}function ai(n,r,s){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var h=d.next;u=h;do{if((u.tag&n)===n){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=r;var R=s,z=S;try{z()}catch(V){Oe(d,R,V)}}}u=u.next}while(u!==h)}}catch(V){Oe(r,r.return,V)}}function lm(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{Kg(r,s)}catch(u){Oe(n,n.return,u)}}}function om(n,r,s){s.props=Yi(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){Oe(n,r,u)}}function Xa(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(d){Oe(n,r,d)}}function yn(n,r){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(d){Oe(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Oe(n,r,d)}else s.current=null}function um(n){var r=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(d){Oe(n,n.return,d)}}function Gc(n,r,s){try{var u=n.stateNode;GE(u,n.type,s,r),u[Tt]=r}catch(d){Oe(n,n.return,d)}}function cm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&fi(n.type)||n.tag===4}function $c(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Yc(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=An));else if(u!==4&&(u===27&&fi(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Yc(n,r,s),n=n.sibling;n!==null;)Yc(n,r,s),n=n.sibling}function Nl(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(u!==4&&(u===27&&fi(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Nl(n,r,s),n=n.sibling;n!==null;)Nl(n,r,s),n=n.sibling}function dm(n){var r=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);yt(r,u,s),r[gt]=n,r[Tt]=s}catch(h){Oe(n,n.return,h)}}var Nn=!1,rt=!1,Wc=!1,fm=typeof WeakSet=="function"?WeakSet:Set,dt=null;function wE(n,r){if(n=n.containerInfo,gd=to,n=Ag(n),Lu(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var d=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var v=0,S=-1,R=-1,z=0,V=0,Y=n,B=null;t:for(;;){for(var L;Y!==s||d!==0&&Y.nodeType!==3||(S=v+d),Y!==h||u!==0&&Y.nodeType!==3||(R=v+u),Y.nodeType===3&&(v+=Y.nodeValue.length),(L=Y.firstChild)!==null;)B=Y,Y=L;for(;;){if(Y===n)break t;if(B===s&&++z===d&&(S=v),B===h&&++V===u&&(R=v),(L=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=L}s=S===-1||R===-1?null:{start:S,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(pd={focusedElem:n,selectionRange:s},to=!1,dt=r;dt!==null;)if(r=dt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,dt=n;else for(;dt!==null;){switch(r=dt,h=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)d=n[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&h!==null){n=void 0,s=r,d=h.memoizedProps,h=h.memoizedState,u=s.stateNode;try{var te=Yi(s.type,d);n=u.getSnapshotBeforeUpdate(te,h),u.__reactInternalSnapshotBeforeUpdate=n}catch(oe){Oe(s,s.return,oe)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)yd(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,dt=n;break}dt=r.return}}function hm(n,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:zn(n,s),u&4&&Ka(5,s);break;case 1:if(zn(n,s),u&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(v){Oe(s,s.return,v)}else{var d=Yi(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Oe(s,s.return,v)}}u&64&&lm(s),u&512&&Xa(s,s.return);break;case 3:if(zn(n,s),u&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Kg(n,r)}catch(v){Oe(s,s.return,v)}}break;case 27:r===null&&u&4&&dm(s);case 26:case 5:zn(n,s),r===null&&u&4&&um(s),u&512&&Xa(s,s.return);break;case 12:zn(n,s);break;case 31:zn(n,s),u&4&&mm(n,s);break;case 13:zn(n,s),u&4&&vm(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=ME.bind(null,s),XE(n,s))));break;case 22:if(u=s.memoizedState!==null||Nn,!u){r=r!==null&&r.memoizedState!==null||rt,d=Nn;var h=rt;Nn=u,(rt=r)&&!h?Bn(n,s,(s.subtreeFlags&8772)!==0):zn(n,s),Nn=d,rt=h}break;case 30:break;default:zn(n,s)}}function gm(n){var r=n.alternate;r!==null&&(n.alternate=null,gm(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&wu(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var qe=null,Ct=!1;function Un(n,r,s){for(s=s.child;s!==null;)pm(n,r,s),s=s.sibling}function pm(n,r,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ea,s)}catch{}switch(s.tag){case 26:rt||yn(s,r),Un(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:rt||yn(s,r);var u=qe,d=Ct;fi(s.type)&&(qe=s.stateNode,Ct=!1),Un(n,r,s),ls(s.stateNode),qe=u,Ct=d;break;case 5:rt||yn(s,r);case 6:if(u=qe,d=Ct,qe=null,Un(n,r,s),qe=u,Ct=d,qe!==null)if(Ct)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(s.stateNode)}catch(h){Oe(s,r,h)}else try{qe.removeChild(s.stateNode)}catch(h){Oe(s,r,h)}break;case 18:qe!==null&&(Ct?(n=qe,lv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Kr(n)):lv(qe,s.stateNode));break;case 4:u=qe,d=Ct,qe=s.stateNode.containerInfo,Ct=!0,Un(n,r,s),qe=u,Ct=d;break;case 0:case 11:case 14:case 15:ai(2,s,r),rt||ai(4,s,r),Un(n,r,s);break;case 1:rt||(yn(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&om(s,r,u)),Un(n,r,s);break;case 21:Un(n,r,s);break;case 22:rt=(u=rt)||s.memoizedState!==null,Un(n,r,s),rt=u;break;default:Un(n,r,s)}}function mm(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Kr(n)}catch(s){Oe(r,r.return,s)}}}function vm(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kr(n)}catch(s){Oe(r,r.return,s)}}function AE(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new fm),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new fm),r;default:throw Error(a(435,n.tag))}}function Ul(n,r){var s=AE(n);r.forEach(function(u){if(!s.has(u)){s.add(u);var d=jE.bind(null,n,u);u.then(d,d)}})}function Dt(n,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var d=s[u],h=n,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(fi(S.type)){qe=S.stateNode,Ct=!1;break e}break;case 5:qe=S.stateNode,Ct=!1;break e;case 3:case 4:qe=S.stateNode.containerInfo,Ct=!0;break e}S=S.return}if(qe===null)throw Error(a(160));pm(h,v,d),qe=null,Ct=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ym(r,n),r=r.sibling}var on=null;function ym(n,r){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dt(r,n),xt(n),u&4&&(ai(3,n,n.return),Ka(3,n),ai(5,n,n.return));break;case 1:Dt(r,n),xt(n),u&512&&(rt||s===null||yn(s,s.return)),u&64&&Nn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var d=on;if(Dt(r,n),xt(n),u&512&&(rt||s===null||yn(s,s.return)),u&4){var h=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Ta]||h[gt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(u),d.head.insertBefore(h,d.querySelector("head > title"))),yt(h,u,s),h[gt]=n,ct(h),u=h;break e;case"link":var v=yv("link","href",d).get(u+(s.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(S,1);break t}}h=d.createElement(u),yt(h,u,s),d.head.appendChild(h);break;case"meta":if(v=yv("meta","content",d).get(u+(s.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(S,1);break t}}h=d.createElement(u),yt(h,u,s),d.head.appendChild(h);break;default:throw Error(a(468,u))}h[gt]=n,ct(h),u=h}n.stateNode=u}else bv(d,n.type,n.stateNode);else n.stateNode=vv(d,u,n.memoizedProps);else h!==u?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,u===null?bv(d,n.type,n.stateNode):vv(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Gc(n,n.memoizedProps,s.memoizedProps)}break;case 27:Dt(r,n),xt(n),u&512&&(rt||s===null||yn(s,s.return)),s!==null&&u&4&&Gc(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Dt(r,n),xt(n),u&512&&(rt||s===null||yn(s,s.return)),n.flags&32){d=n.stateNode;try{_r(d,"")}catch(te){Oe(n,n.return,te)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,Gc(n,d,s!==null?s.memoizedProps:d)),u&1024&&(Wc=!0);break;case 6:if(Dt(r,n),xt(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(te){Oe(n,n.return,te)}}break;case 3:if(Kl=null,d=on,on=Fl(r.containerInfo),Dt(r,n),on=d,xt(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Kr(r.containerInfo)}catch(te){Oe(n,n.return,te)}Wc&&(Wc=!1,bm(n));break;case 4:u=on,on=Fl(n.stateNode.containerInfo),Dt(r,n),xt(n),on=u;break;case 12:Dt(r,n),xt(n);break;case 31:Dt(r,n),xt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ul(n,u)));break;case 13:Dt(r,n),xt(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bl=jt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ul(n,u)));break;case 22:d=n.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Nn,V=rt;if(Nn=z||d,rt=V||R,Dt(r,n),rt=V,Nn=z,xt(n),u&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||R||Nn||rt||Wi(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){R=s=r;try{if(h=R.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(te){Oe(R,R.return,te)}}}else if(r.tag===6){if(s===null){R=r;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(te){Oe(R,R.return,te)}}}else if(r.tag===18){if(s===null){R=r;try{var L=R.stateNode;d?ov(L,!0):ov(R.stateNode,!1)}catch(te){Oe(R,R.return,te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Ul(n,s))));break;case 19:Dt(r,n),xt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ul(n,u)));break;case 30:break;case 21:break;default:Dt(r,n),xt(n)}}function xt(n){var r=n.flags;if(r&2){try{for(var s,u=n.return;u!==null;){if(cm(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,h=$c(n);Nl(n,h,d);break;case 5:var v=s.stateNode;s.flags&32&&(_r(v,""),s.flags&=-33);var S=$c(n);Nl(n,S,v);break;case 3:case 4:var R=s.stateNode.containerInfo,z=$c(n);Yc(n,z,R);break;default:throw Error(a(161))}}catch(V){Oe(n,n.return,V)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function bm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;bm(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function zn(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)hm(n,r.alternate,r),r=r.sibling}function Wi(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ai(4,r,r.return),Wi(r);break;case 1:yn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&om(r,r.return,s),Wi(r);break;case 27:ls(r.stateNode);case 26:case 5:yn(r,r.return),Wi(r);break;case 22:r.memoizedState===null&&Wi(r);break;case 30:Wi(r);break;default:Wi(r)}n=n.sibling}}function Bn(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=n,h=r,v=h.flags;switch(h.tag){case 0:case 11:case 15:Bn(d,h,s),Ka(4,h);break;case 1:if(Bn(d,h,s),u=h,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){Oe(u,u.return,z)}if(u=h,d=u.updateQueue,d!==null){var S=u.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)Zg(R[d],S)}catch(z){Oe(u,u.return,z)}}s&&v&64&&lm(h),Xa(h,h.return);break;case 27:dm(h);case 26:case 5:Bn(d,h,s),s&&u===null&&v&4&&um(h),Xa(h,h.return);break;case 12:Bn(d,h,s);break;case 31:Bn(d,h,s),s&&v&4&&mm(d,h);break;case 13:Bn(d,h,s),s&&v&4&&vm(d,h);break;case 22:h.memoizedState===null&&Bn(d,h,s),Xa(h,h.return);break;case 30:break;default:Bn(d,h,s)}r=r.sibling}}function Qc(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Ia(s))}function Fc(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ia(n))}function un(n,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)_m(n,r,s,u),r=r.sibling}function _m(n,r,s,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:un(n,r,s,u),d&2048&&Ka(9,r);break;case 1:un(n,r,s,u);break;case 3:un(n,r,s,u),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ia(n)));break;case 12:if(d&2048){un(n,r,s,u),n=r.stateNode;try{var h=r.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Oe(r,r.return,R)}}else un(n,r,s,u);break;case 31:un(n,r,s,u);break;case 13:un(n,r,s,u);break;case 23:break;case 22:h=r.stateNode,v=r.alternate,r.memoizedState!==null?h._visibility&2?un(n,r,s,u):Ja(n,r):h._visibility&2?un(n,r,s,u):(h._visibility|=2,Lr(n,r,s,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Qc(v,r);break;case 24:un(n,r,s,u),d&2048&&Fc(r.alternate,r);break;default:un(n,r,s,u)}}function Lr(n,r,s,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var h=n,v=r,S=s,R=u,z=v.flags;switch(v.tag){case 0:case 11:case 15:Lr(h,v,S,R,d),Ka(8,v);break;case 23:break;case 22:var V=v.stateNode;v.memoizedState!==null?V._visibility&2?Lr(h,v,S,R,d):Ja(h,v):(V._visibility|=2,Lr(h,v,S,R,d)),d&&z&2048&&Qc(v.alternate,v);break;case 24:Lr(h,v,S,R,d),d&&z&2048&&Fc(v.alternate,v);break;default:Lr(h,v,S,R,d)}r=r.sibling}}function Ja(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,u=r,d=u.flags;switch(u.tag){case 22:Ja(s,u),d&2048&&Qc(u.alternate,u);break;case 24:Ja(s,u),d&2048&&Fc(u.alternate,u);break;default:Ja(s,u)}r=r.sibling}}var es=8192;function qr(n,r,s){if(n.subtreeFlags&es)for(n=n.child;n!==null;)Sm(n,r,s),n=n.sibling}function Sm(n,r,s){switch(n.tag){case 26:qr(n,r,s),n.flags&es&&n.memoizedState!==null&&cw(s,on,n.memoizedState,n.memoizedProps);break;case 5:qr(n,r,s);break;case 3:case 4:var u=on;on=Fl(n.stateNode.containerInfo),qr(n,r,s),on=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=es,es=16777216,qr(n,r,s),es=u):qr(n,r,s));break;default:qr(n,r,s)}}function Em(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ts(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];dt=u,Am(u,n)}Em(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wm(n),n=n.sibling}function wm(n){switch(n.tag){case 0:case 11:case 15:ts(n),n.flags&2048&&ai(9,n,n.return);break;case 3:ts(n);break;case 12:ts(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,zl(n)):ts(n);break;default:ts(n)}}function zl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];dt=u,Am(u,n)}Em(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ai(8,r,r.return),zl(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,zl(r));break;default:zl(r)}n=n.sibling}}function Am(n,r){for(;dt!==null;){var s=dt;switch(s.tag){case 0:case 11:case 15:ai(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ia(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,dt=u;else e:for(s=n;dt!==null;){u=dt;var d=u.sibling,h=u.return;if(gm(u),u===s){dt=null;break e}if(d!==null){d.return=h,dt=d;break e}dt=h}}}var TE={getCacheForType:function(n){var r=mt(tt),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return mt(tt).controller.signal}},RE=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ue=null,ve=null,be=0,xe=0,Lt=null,si=!1,Pr=!1,Zc=!1,In=0,Fe=0,li=0,Qi=0,Kc=0,qt=0,Vr=0,ns=null,Ot=null,Xc=!1,Bl=0,Tm=0,Il=1/0,Hl=null,oi=null,ot=0,ui=null,Gr=null,Hn=0,Jc=0,ed=null,Rm=null,is=0,td=null;function Pt(){return(Ce&2)!==0&&be!==0?be&-be:P.T!==null?ld():Ph()}function Cm(){if(qt===0)if((be&536870912)===0||Ee){var n=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),qt=n}else qt=536870912;return n=It.current,n!==null&&(n.flags|=32),qt}function kt(n,r,s){(n===Ue&&(xe===2||xe===9)||n.cancelPendingCommit!==null)&&($r(n,0),ci(n,be,qt,!1)),Aa(n,s),((Ce&2)===0||n!==Ue)&&(n===Ue&&((Ce&2)===0&&(Qi|=s),Fe===4&&ci(n,be,qt,!1)),bn(n))}function Dm(n,r,s){if((Ce&6)!==0)throw Error(a(327));var u=!s&&(r&127)===0&&(r&n.expiredLanes)===0||wa(n,r),d=u?xE(n,r):id(n,r,!0),h=u;do{if(d===0){Pr&&!u&&ci(n,r,0,!1);break}else{if(s=n.current.alternate,h&&!CE(s)){d=id(n,r,!1),h=!1;continue}if(d===2){if(h=r,n.errorRecoveryDisabledLanes&h)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var S=n;d=ns;var R=S.current.memoizedState.isDehydrated;if(R&&($r(S,v).flags|=256),v=id(S,v,!1),v!==2){if(Zc&&!R){S.errorRecoveryDisabledLanes|=h,Qi|=h,d=4;break e}h=Ot,Ot=d,h!==null&&(Ot===null?Ot=h:Ot.push.apply(Ot,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){$r(n,0),ci(n,r,0,!0);break}e:{switch(u=n,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:ci(u,r,qt,!si);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(d=Bl+300-jt(),10<d)){if(ci(u,r,qt,!si),Fs(u,0,!0)!==0)break e;Hn=r,u.timeoutHandle=av(xm.bind(null,u,s,Ot,Hl,Xc,r,qt,Qi,Vr,si,h,"Throttled",-0,0),d);break e}xm(u,s,Ot,Hl,Xc,r,qt,Qi,Vr,si,h,null,-0,0)}}break}while(!0);bn(n)}function xm(n,r,s,u,d,h,v,S,R,z,V,Y,B,L){if(n.timeoutHandle=-1,Y=r.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},Sm(r,h,Y);var te=(h&62914560)===h?Bl-jt():(h&4194048)===h?Tm-jt():0;if(te=dw(Y,te),te!==null){Hn=h,n.cancelPendingCommit=te(Bm.bind(null,n,r,h,s,u,d,v,S,R,V,Y,null,B,L)),ci(n,h,v,!z);return}}Bm(n,r,h,s,u,d,v,S,R)}function CE(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var d=s[u],h=d.getSnapshot;d=d.value;try{if(!zt(h(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ci(n,r,s,u){r&=~Kc,r&=~Qi,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var d=r;0<d;){var h=31-Ut(d),v=1<<h;u[h]=-1,d&=~v}s!==0&&Hh(n,s,r)}function Ll(){return(Ce&6)===0?(rs(0),!1):!0}function nd(){if(ve!==null){if(xe===0)var n=ve.return;else n=ve,Dn=Hi=null,yc(n),Ur=null,La=0,n=ve;for(;n!==null;)sm(n.alternate,n),n=n.return;ve=null}}function $r(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,WE(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Hn=0,nd(),Ue=n,ve=s=Rn(n.current,null),be=r,xe=0,Lt=null,si=!1,Pr=wa(n,r),Zc=!1,Vr=qt=Kc=Qi=li=Fe=0,Ot=ns=null,Xc=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var d=31-Ut(u),h=1<<d;r|=n[d],u&=~h}return In=r,ll(),s}function Om(n,r){ge=null,P.H=Qa,r===Nr||r===pl?(r=Yg(),xe=3):r===sc?(r=Yg(),xe=4):xe=r===Nc?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Lt=r,ve===null&&(Fe=1,xl(n,Xt(r,n.current)))}function km(){var n=It.current;return n===null?!0:(be&4194048)===be?nn===null:(be&62914560)===be||(be&536870912)!==0?n===nn:!1}function Mm(){var n=P.H;return P.H=Qa,n===null?Qa:n}function jm(){var n=P.A;return P.A=TE,n}function ql(){Fe=4,si||(be&4194048)!==be&&It.current!==null||(Pr=!0),(li&134217727)===0&&(Qi&134217727)===0||Ue===null||ci(Ue,be,qt,!1)}function id(n,r,s){var u=Ce;Ce|=2;var d=Mm(),h=jm();(Ue!==n||be!==r)&&(Hl=null,$r(n,r)),r=!1;var v=Fe;e:do try{if(xe!==0&&ve!==null){var S=ve,R=Lt;switch(xe){case 8:nd(),v=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(r=!0);var z=xe;if(xe=0,Lt=null,Yr(n,S,R,z),s&&Pr){v=0;break e}break;default:z=xe,xe=0,Lt=null,Yr(n,S,R,z)}}DE(),v=Fe;break}catch(V){Om(n,V)}while(!0);return r&&n.shellSuspendCounter++,Dn=Hi=null,Ce=u,P.H=d,P.A=h,ve===null&&(Ue=null,be=0,ll()),v}function DE(){for(;ve!==null;)Nm(ve)}function xE(n,r){var s=Ce;Ce|=2;var u=Mm(),d=jm();Ue!==n||be!==r?(Hl=null,Il=jt()+500,$r(n,r)):Pr=wa(n,r);e:do try{if(xe!==0&&ve!==null){r=ve;var h=Lt;t:switch(xe){case 1:xe=0,Lt=null,Yr(n,r,h,1);break;case 2:case 9:if(Gg(h)){xe=0,Lt=null,Um(r);break}r=function(){xe!==2&&xe!==9||Ue!==n||(xe=7),bn(n)},h.then(r,r);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Gg(h)?(xe=0,Lt=null,Um(r)):(xe=0,Lt=null,Yr(n,r,h,7));break;case 5:var v=null;switch(ve.tag){case 26:v=ve.memoizedState;case 5:case 27:var S=ve;if(v?_v(v):S.stateNode.complete){xe=0,Lt=null;var R=S.sibling;if(R!==null)ve=R;else{var z=S.return;z!==null?(ve=z,Pl(z)):ve=null}break t}}xe=0,Lt=null,Yr(n,r,h,5);break;case 6:xe=0,Lt=null,Yr(n,r,h,6);break;case 8:nd(),Fe=6;break e;default:throw Error(a(462))}}OE();break}catch(V){Om(n,V)}while(!0);return Dn=Hi=null,P.H=u,P.A=d,Ce=s,ve!==null?0:(Ue=null,be=0,ll(),Fe)}function OE(){for(;ve!==null&&!J_();)Nm(ve)}function Nm(n){var r=rm(n.alternate,n,In);n.memoizedProps=n.pendingProps,r===null?Pl(n):ve=r}function Um(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=Xp(s,r,r.pendingProps,r.type,void 0,be);break;case 11:r=Xp(s,r,r.pendingProps,r.type.render,r.ref,be);break;case 5:yc(r);default:sm(s,r),r=ve=jg(r,In),r=rm(s,r,In)}n.memoizedProps=n.pendingProps,r===null?Pl(n):ve=r}function Yr(n,r,s,u){Dn=Hi=null,yc(r),Ur=null,La=0;var d=r.return;try{if(yE(n,d,r,s,be)){Fe=1,xl(n,Xt(s,n.current)),ve=null;return}}catch(h){if(d!==null)throw ve=d,h;Fe=1,xl(n,Xt(s,n.current)),ve=null;return}r.flags&32768?(Ee||u===1?n=!0:Pr||(be&536870912)!==0?n=!1:(si=n=!0,(u===2||u===9||u===3||u===6)&&(u=It.current,u!==null&&u.tag===13&&(u.flags|=16384))),zm(r,n)):Pl(r)}function Pl(n){var r=n;do{if((r.flags&32768)!==0){zm(r,si);return}n=r.return;var s=SE(r.alternate,r,In);if(s!==null){ve=s;return}if(r=r.sibling,r!==null){ve=r;return}ve=r=n}while(r!==null);Fe===0&&(Fe=5)}function zm(n,r){do{var s=EE(n.alternate,n);if(s!==null){s.flags&=32767,ve=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){ve=n;return}ve=n=s}while(n!==null);Fe=6,ve=null}function Bm(n,r,s,u,d,h,v,S,R){n.cancelPendingCommit=null;do Vl();while(ot!==0);if((Ce&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(h=r.lanes|r.childLanes,h|=$u,uS(n,s,h,v,S,R),n===Ue&&(ve=Ue=null,be=0),Gr=r,ui=n,Hn=s,Jc=h,ed=d,Rm=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,NE($s,function(){return Pm(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,d=J.p,J.p=2,v=Ce,Ce|=4;try{wE(n,r,s)}finally{Ce=v,J.p=d,P.T=u}}ot=1,Im(),Hm(),Lm()}}function Im(){if(ot===1){ot=0;var n=ui,r=Gr,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var u=J.p;J.p=2;var d=Ce;Ce|=4;try{ym(r,n);var h=pd,v=Ag(n.containerInfo),S=h.focusedElem,R=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&wg(S.ownerDocument.documentElement,S)){if(R!==null&&Lu(S)){var z=R.start,V=R.end;if(V===void 0&&(V=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(V,S.value.length);else{var Y=S.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var L=B.getSelection(),te=S.textContent.length,oe=Math.min(R.start,te),Ne=R.end===void 0?oe:Math.min(R.end,te);!L.extend&&oe>Ne&&(v=Ne,Ne=oe,oe=v);var j=Eg(S,oe),x=Eg(S,Ne);if(j&&x&&(L.rangeCount!==1||L.anchorNode!==j.node||L.anchorOffset!==j.offset||L.focusNode!==x.node||L.focusOffset!==x.offset)){var U=Y.createRange();U.setStart(j.node,j.offset),L.removeAllRanges(),oe>Ne?(L.addRange(U),L.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),L.addRange(U))}}}}for(Y=[],L=S;L=L.parentNode;)L.nodeType===1&&Y.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Y.length;S++){var $=Y[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}to=!!gd,pd=gd=null}finally{Ce=d,J.p=u,P.T=s}}n.current=r,ot=2}}function Hm(){if(ot===2){ot=0;var n=ui,r=Gr,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var u=J.p;J.p=2;var d=Ce;Ce|=4;try{hm(n,r.alternate,r)}finally{Ce=d,J.p=u,P.T=s}}ot=3}}function Lm(){if(ot===4||ot===3){ot=0,eS();var n=ui,r=Gr,s=Hn,u=Rm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ot=5:(ot=0,Gr=ui=null,qm(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(oi=null),Su(s),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ea,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=P.T,d=J.p,J.p=2,P.T=null;try{for(var h=n.onRecoverableError,v=0;v<u.length;v++){var S=u[v];h(S.value,{componentStack:S.stack})}}finally{P.T=r,J.p=d}}(Hn&3)!==0&&Vl(),bn(n),d=n.pendingLanes,(s&261930)!==0&&(d&42)!==0?n===td?is++:(is=0,td=n):is=0,rs(0)}}function qm(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Ia(r)))}function Vl(){return Im(),Hm(),Lm(),Pm()}function Pm(){if(ot!==5)return!1;var n=ui,r=Jc;Jc=0;var s=Su(Hn),u=P.T,d=J.p;try{J.p=32>s?32:s,P.T=null,s=ed,ed=null;var h=ui,v=Hn;if(ot=0,Gr=ui=null,Hn=0,(Ce&6)!==0)throw Error(a(331));var S=Ce;if(Ce|=4,wm(h.current),_m(h,h.current,v,s),Ce=S,rs(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ea,h)}catch{}return!0}finally{J.p=d,P.T=u,qm(n,r)}}function Vm(n,r,s){r=Xt(s,r),r=jc(n.stateNode,r,2),n=ni(n,r,2),n!==null&&(Aa(n,2),bn(n))}function Oe(n,r,s){if(n.tag===3)Vm(n,n,s);else for(;r!==null;){if(r.tag===3){Vm(r,n,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(oi===null||!oi.has(u))){n=Xt(s,n),s=Gp(2),u=ni(r,s,2),u!==null&&($p(s,u,r,n),Aa(u,2),bn(u));break}}r=r.return}}function rd(n,r,s){var u=n.pingCache;if(u===null){u=n.pingCache=new RE;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(s)||(Zc=!0,d.add(s),n=kE.bind(null,n,r,s),r.then(n,n))}function kE(n,r,s){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Ue===n&&(be&s)===s&&(Fe===4||Fe===3&&(be&62914560)===be&&300>jt()-Bl?(Ce&2)===0&&$r(n,0):Kc|=s,Vr===be&&(Vr=0)),bn(n)}function Gm(n,r){r===0&&(r=Ih()),n=zi(n,r),n!==null&&(Aa(n,r),bn(n))}function ME(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),Gm(n,s)}function jE(n,r){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(s=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(r),Gm(n,s)}function NE(n,r){return vu(n,r)}var Gl=null,Wr=null,ad=!1,$l=!1,sd=!1,di=0;function bn(n){n!==Wr&&n.next===null&&(Wr===null?Gl=Wr=n:Wr=Wr.next=n),$l=!0,ad||(ad=!0,zE())}function rs(n,r){if(!sd&&$l){sd=!0;do for(var s=!1,u=Gl;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var h=0;else{var v=u.suspendedLanes,S=u.pingedLanes;h=(1<<31-Ut(42|n)+1)-1,h&=d&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,Qm(u,h))}else h=be,h=Fs(u,u===Ue?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||wa(u,h)||(s=!0,Qm(u,h));u=u.next}while(s);sd=!1}}function UE(){$m()}function $m(){$l=ad=!1;var n=0;di!==0&&YE()&&(n=di);for(var r=jt(),s=null,u=Gl;u!==null;){var d=u.next,h=Ym(u,r);h===0?(u.next=null,s===null?Gl=d:s.next=d,d===null&&(Wr=s)):(s=u,(n!==0||(h&3)!==0)&&($l=!0)),u=d}ot!==0&&ot!==5||rs(n),di!==0&&(di=0)}function Ym(n,r){for(var s=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,h=n.pendingLanes&-62914561;0<h;){var v=31-Ut(h),S=1<<v,R=d[v];R===-1?((S&s)===0||(S&u)!==0)&&(d[v]=oS(S,r)):R<=r&&(n.expiredLanes|=S),h&=~S}if(r=Ue,s=be,s=Fs(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===r&&(xe===2||xe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&yu(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||wa(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(u!==null&&yu(u),Su(s)){case 2:case 8:s=zh;break;case 32:s=$s;break;case 268435456:s=Bh;break;default:s=$s}return u=Wm.bind(null,n),s=vu(s,u),n.callbackPriority=r,n.callbackNode=s,r}return u!==null&&u!==null&&yu(u),n.callbackPriority=2,n.callbackNode=null,2}function Wm(n,r){if(ot!==0&&ot!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Vl()&&n.callbackNode!==s)return null;var u=be;return u=Fs(n,n===Ue?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Dm(n,u,r),Ym(n,jt()),n.callbackNode!=null&&n.callbackNode===s?Wm.bind(null,n):null)}function Qm(n,r){if(Vl())return null;Dm(n,r,!0)}function zE(){QE(function(){(Ce&6)!==0?vu(Uh,UE):$m()})}function ld(){if(di===0){var n=Mr;n===0&&(n=Ys,Ys<<=1,(Ys&261888)===0&&(Ys=256)),di=n}return di}function Fm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Js(""+n)}function Zm(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function BE(n,r,s,u,d){if(r==="submit"&&s&&s.stateNode===d){var h=Fm((d[Tt]||null).action),v=u.submitter;v&&(r=(r=v[Tt]||null)?Fm(r.formAction):v.getAttribute("formAction"),r!==null&&(h=r,v=null));var S=new il("action","action",null,u,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(di!==0){var R=v?Zm(d,v):new FormData(d);Cc(s,{pending:!0,data:R,method:d.method,action:h},null,R)}}else typeof h=="function"&&(S.preventDefault(),R=v?Zm(d,v):new FormData(d),Cc(s,{pending:!0,data:R,method:d.method,action:h},h,R))},currentTarget:d}]})}}for(var od=0;od<Gu.length;od++){var ud=Gu[od],IE=ud.toLowerCase(),HE=ud[0].toUpperCase()+ud.slice(1);ln(IE,"on"+HE)}ln(Cg,"onAnimationEnd"),ln(Dg,"onAnimationIteration"),ln(xg,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(tE,"onTransitionRun"),ln(nE,"onTransitionStart"),ln(iE,"onTransitionCancel"),ln(Og,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(as));function Km(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],d=u.event;u=u.listeners;e:{var h=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],R=S.instance,z=S.currentTarget;if(S=S.listener,R!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=z;try{h(d)}catch(V){sl(V)}d.currentTarget=null,h=R}else for(v=0;v<u.length;v++){if(S=u[v],R=S.instance,z=S.currentTarget,S=S.listener,R!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=z;try{h(d)}catch(V){sl(V)}d.currentTarget=null,h=R}}}}function ye(n,r){var s=r[Eu];s===void 0&&(s=r[Eu]=new Set);var u=n+"__bubble";s.has(u)||(Xm(r,n,2,!1),s.add(u))}function cd(n,r,s){var u=0;r&&(u|=4),Xm(s,n,u,r)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function dd(n){if(!n[Yl]){n[Yl]=!0,$h.forEach(function(s){s!=="selectionchange"&&(LE.has(s)||cd(s,!1,n),cd(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Yl]||(r[Yl]=!0,cd("selectionchange",!1,r))}}function Xm(n,r,s,u){switch(Cv(r)){case 2:var d=gw;break;case 8:d=pw;break;default:d=Rd}s=d.bind(null,r,s,n),d=void 0,!ku||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(r,s,{capture:!0,passive:d}):n.addEventListener(r,s,!0):d!==void 0?n.addEventListener(r,s,{passive:d}):n.addEventListener(r,s,!1)}function fd(n,r,s,u,d){var h=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=u.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=pr(S),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){u=h=v;continue e}S=S.parentNode}}u=u.return}ig(function(){var z=h,V=xu(s),Y=[];e:{var B=kg.get(n);if(B!==void 0){var L=il,te=n;switch(n){case"keypress":if(tl(s)===0)break e;case"keydown":case"keyup":L=jS;break;case"focusin":te="focus",L=Uu;break;case"focusout":te="blur",L=Uu;break;case"beforeblur":case"afterblur":L=Uu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=SS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=zS;break;case Cg:case Dg:case xg:L=AS;break;case Og:L=IS;break;case"scroll":case"scrollend":L=bS;break;case"wheel":L=LS;break;case"copy":case"cut":case"paste":L=RS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=og;break;case"toggle":case"beforetoggle":L=PS}var oe=(r&4)!==0,Ne=!oe&&(n==="scroll"||n==="scrollend"),j=oe?B!==null?B+"Capture":null:B;oe=[];for(var x=z,U;x!==null;){var $=x;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||j===null||($=Ca(x,j),$!=null&&oe.push(ss(x,$,U))),Ne)break;x=x.return}0<oe.length&&(B=new L(B,te,null,s,V),Y.push({event:B,listeners:oe}))}}if((r&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",L=n==="mouseout"||n==="pointerout",B&&s!==Du&&(te=s.relatedTarget||s.fromElement)&&(pr(te)||te[gr]))break e;if((L||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,L?(te=s.relatedTarget||s.toElement,L=z,te=te?pr(te):null,te!==null&&(Ne=o(te),oe=te.tag,te!==Ne||oe!==5&&oe!==27&&oe!==6)&&(te=null)):(L=null,te=z),L!==te)){if(oe=sg,$="onMouseLeave",j="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(oe=og,$="onPointerLeave",j="onPointerEnter",x="pointer"),Ne=L==null?B:Ra(L),U=te==null?B:Ra(te),B=new oe($,x+"leave",L,s,V),B.target=Ne,B.relatedTarget=U,$=null,pr(V)===z&&(oe=new oe(j,x+"enter",te,s,V),oe.target=U,oe.relatedTarget=Ne,$=oe),Ne=$,L&&te)t:{for(oe=qE,j=L,x=te,U=0,$=j;$;$=oe($))U++;$=0;for(var ae=x;ae;ae=oe(ae))$++;for(;0<U-$;)j=oe(j),U--;for(;0<$-U;)x=oe(x),$--;for(;U--;){if(j===x||x!==null&&j===x.alternate){oe=j;break t}j=oe(j),x=oe(x)}oe=null}else oe=null;L!==null&&Jm(Y,B,L,oe,!1),te!==null&&Ne!==null&&Jm(Y,Ne,te,oe,!0)}}e:{if(B=z?Ra(z):window,L=B.nodeName&&B.nodeName.toLowerCase(),L==="select"||L==="input"&&B.type==="file")var Ae=mg;else if(gg(B))if(vg)Ae=XS;else{Ae=ZS;var ne=FS}else L=B.nodeName,!L||L.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Cu(z.elementType)&&(Ae=mg):Ae=KS;if(Ae&&(Ae=Ae(n,z))){pg(Y,Ae,s,V);break e}ne&&ne(n,B,z),n==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ru(B,"number",B.value)}switch(ne=z?Ra(z):window,n){case"focusin":(gg(ne)||ne.contentEditable==="true")&&(Ar=ne,qu=z,Ua=null);break;case"focusout":Ua=qu=Ar=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,Tg(Y,s,V);break;case"selectionchange":if(eE)break;case"keydown":case"keyup":Tg(Y,s,V)}var me;if(Bu)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else wr?fg(n,s)&&(_e="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(ug&&s.locale!=="ko"&&(wr||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&wr&&(me=rg()):(Fn=V,Mu="value"in Fn?Fn.value:Fn.textContent,wr=!0)),ne=Wl(z,_e),0<ne.length&&(_e=new lg(_e,n,null,s,V),Y.push({event:_e,listeners:ne}),me?_e.data=me:(me=hg(s),me!==null&&(_e.data=me)))),(me=GS?$S(n,s):YS(n,s))&&(_e=Wl(z,"onBeforeInput"),0<_e.length&&(ne=new lg("onBeforeInput","beforeinput",null,s,V),Y.push({event:ne,listeners:_e}),ne.data=me)),BE(Y,n,z,s,V)}Km(Y,r)})}function ss(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Wl(n,r){for(var s=r+"Capture",u=[];n!==null;){var d=n,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Ca(n,s),d!=null&&u.unshift(ss(n,d,h)),d=Ca(n,r),d!=null&&u.push(ss(n,d,h))),n.tag===3)return u;n=n.return}return[]}function qE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Jm(n,r,s,u,d){for(var h=r._reactName,v=[];s!==null&&s!==u;){var S=s,R=S.alternate,z=S.stateNode;if(S=S.tag,R!==null&&R===u)break;S!==5&&S!==26&&S!==27||z===null||(R=z,d?(z=Ca(s,h),z!=null&&v.unshift(ss(s,z,R))):d||(z=Ca(s,h),z!=null&&v.push(ss(s,z,R)))),s=s.return}v.length!==0&&n.push({event:r,listeners:v})}var PE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function ev(n){return(typeof n=="string"?n:""+n).replace(PE,`
`).replace(VE,"")}function tv(n,r){return r=ev(r),ev(n)===r}function je(n,r,s,u,d,h){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||_r(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&_r(n,""+u);break;case"className":Ks(n,"class",u);break;case"tabIndex":Ks(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(n,s,u);break;case"style":tg(n,u,h);break;case"data":if(r!=="object"){Ks(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Js(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(r!=="input"&&je(n,r,"name",d.name,d,null),je(n,r,"formEncType",d.formEncType,d,null),je(n,r,"formMethod",d.formMethod,d,null),je(n,r,"formTarget",d.formTarget,d,null)):(je(n,r,"encType",d.encType,d,null),je(n,r,"method",d.method,d,null),je(n,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Js(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=An);break;case"onScroll":u!=null&&ye("scroll",n);break;case"onScrollEnd":u!=null&&ye("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Js(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":ye("beforetoggle",n),ye("toggle",n),Zs(n,"popover",u);break;case"xlinkActuate":wn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Zs(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vS.get(s)||s,Zs(n,s,u))}}function hd(n,r,s,u,d,h){switch(s){case"style":tg(n,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof u=="string"?_r(n,u):(typeof u=="number"||typeof u=="bigint")&&_r(n,""+u);break;case"onScroll":u!=null&&ye("scroll",n);break;case"onScrollEnd":u!=null&&ye("scrollend",n);break;case"onClick":u!=null&&(n.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),h=n[Tt]||null,h=h!=null?h[s]:null,typeof h=="function"&&n.removeEventListener(r,h,d),typeof u=="function")){typeof h!="function"&&h!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,u,d);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Zs(n,s,u)}}}function yt(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",n),ye("load",n);var u=!1,d=!1,h;for(h in s)if(s.hasOwnProperty(h)){var v=s[h];if(v!=null)switch(h){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:je(n,r,h,v,s,null)}}d&&je(n,r,"srcSet",s.srcSet,s,null),u&&je(n,r,"src",s.src,s,null);return;case"input":ye("invalid",n);var S=h=v=d=null,R=null,z=null;for(u in s)if(s.hasOwnProperty(u)){var V=s[u];if(V!=null)switch(u){case"name":d=V;break;case"type":v=V;break;case"checked":R=V;break;case"defaultChecked":z=V;break;case"value":h=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,r));break;default:je(n,r,u,V,s,null)}}Kh(n,h,S,R,z,v,d,!1);return;case"select":ye("invalid",n),u=v=h=null;for(d in s)if(s.hasOwnProperty(d)&&(S=s[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:je(n,r,d,S,s,null)}r=h,s=v,n.multiple=!!u,r!=null?br(n,!!u,r,!1):s!=null&&br(n,!!u,s,!0);return;case"textarea":ye("invalid",n),h=d=u=null;for(v in s)if(s.hasOwnProperty(v)&&(S=s[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:je(n,r,v,S,s,null)}Jh(n,u,d,h);return;case"option":for(R in s)s.hasOwnProperty(R)&&(u=s[R],u!=null)&&(R==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":je(n,r,R,u,s,null));return;case"dialog":ye("beforetoggle",n),ye("toggle",n),ye("cancel",n),ye("close",n);break;case"iframe":case"object":ye("load",n);break;case"video":case"audio":for(u=0;u<as.length;u++)ye(as[u],n);break;case"image":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"embed":case"source":case"link":ye("error",n),ye("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(u=s[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:je(n,r,z,u,s,null)}return;default:if(Cu(r)){for(V in s)s.hasOwnProperty(V)&&(u=s[V],u!==void 0&&hd(n,r,V,u,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(u=s[S],u!=null&&je(n,r,S,u,s,null))}function GE(n,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,S=null,R=null,z=null,V=null;for(L in s){var Y=s[L];if(s.hasOwnProperty(L)&&Y!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":R=Y;default:u.hasOwnProperty(L)||je(n,r,L,null,u,Y)}}for(var B in u){var L=u[B];if(Y=s[B],u.hasOwnProperty(B)&&(L!=null||Y!=null))switch(B){case"type":h=L;break;case"name":d=L;break;case"checked":z=L;break;case"defaultChecked":V=L;break;case"value":v=L;break;case"defaultValue":S=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,r));break;default:L!==Y&&je(n,r,B,L,u,Y)}}Tu(n,v,S,R,z,V,h,d);return;case"select":L=v=S=B=null;for(h in s)if(R=s[h],s.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":L=R;default:u.hasOwnProperty(h)||je(n,r,h,null,u,R)}for(d in u)if(h=u[d],R=s[d],u.hasOwnProperty(d)&&(h!=null||R!=null))switch(d){case"value":B=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==R&&je(n,r,d,h,u,R)}r=S,s=v,u=L,B!=null?br(n,!!s,B,!1):!!u!=!!s&&(r!=null?br(n,!!s,r,!0):br(n,!!s,s?[]:"",!1));return;case"textarea":L=B=null;for(S in s)if(d=s[S],s.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:je(n,r,S,null,u,d)}for(v in u)if(d=u[v],h=s[v],u.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":B=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&je(n,r,v,d,u,h)}Xh(n,B,L);return;case"option":for(var te in s)B=s[te],s.hasOwnProperty(te)&&B!=null&&!u.hasOwnProperty(te)&&(te==="selected"?n.selected=!1:je(n,r,te,null,u,B));for(R in u)B=u[R],L=s[R],u.hasOwnProperty(R)&&B!==L&&(B!=null||L!=null)&&(R==="selected"?n.selected=B&&typeof B!="function"&&typeof B!="symbol":je(n,r,R,B,u,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in s)B=s[oe],s.hasOwnProperty(oe)&&B!=null&&!u.hasOwnProperty(oe)&&je(n,r,oe,null,u,B);for(z in u)if(B=u[z],L=s[z],u.hasOwnProperty(z)&&B!==L&&(B!=null||L!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,r));break;default:je(n,r,z,B,u,L)}return;default:if(Cu(r)){for(var Ne in s)B=s[Ne],s.hasOwnProperty(Ne)&&B!==void 0&&!u.hasOwnProperty(Ne)&&hd(n,r,Ne,void 0,u,B);for(V in u)B=u[V],L=s[V],!u.hasOwnProperty(V)||B===L||B===void 0&&L===void 0||hd(n,r,V,B,u,L);return}}for(var j in s)B=s[j],s.hasOwnProperty(j)&&B!=null&&!u.hasOwnProperty(j)&&je(n,r,j,null,u,B);for(Y in u)B=u[Y],L=s[Y],!u.hasOwnProperty(Y)||B===L||B==null&&L==null||je(n,r,Y,B,u,L)}function nv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $E(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var d=s[u],h=d.transferSize,v=d.initiatorType,S=d.duration;if(h&&S&&nv(v)){for(v=0,S=d.responseEnd,u+=1;u<s.length;u++){var R=s[u],z=R.startTime;if(z>S)break;var V=R.transferSize,Y=R.initiatorType;V&&nv(Y)&&(R=R.responseEnd,v+=V*(R<S?1:(S-z)/(R-z)))}if(--u,r+=8*(h+v)/(d.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var gd=null,pd=null;function Ql(n){return n.nodeType===9?n:n.ownerDocument}function iv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function md(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vd=null;function YE(){var n=window.event;return n&&n.type==="popstate"?n===vd?!1:(vd=n,!0):(vd=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(n){return sv.resolve(null).then(n).catch(FE)}:av;function FE(n){setTimeout(function(){throw n})}function fi(n){return n==="head"}function lv(n,r){var s=r,u=0;do{var d=s.nextSibling;if(n.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(d),Kr(r);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")ls(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,ls(s);for(var h=s.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[Ta]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=v}}else s==="body"&&ls(n.ownerDocument.body);s=d}while(s);Kr(r)}function ov(n,r){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function yd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),wu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function ZE(n,r,s,u){for(;n.nodeType===1;){var d=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ta])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(h=n.getAttribute("rel"),h==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(h!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(h=n.getAttribute("src"),(h!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===h)return n}else return n;if(n=rn(n.nextSibling),n===null)break}return null}function KE(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=rn(n.nextSibling),n===null))return null;return n}function uv(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=rn(n.nextSibling),n===null))return null;return n}function bd(n){return n.data==="$?"||n.data==="$~"}function _d(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function XE(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function rn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Sd=null;function cv(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return rn(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function dv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function fv(n,r,s){switch(r=Ql(s),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function ls(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);wu(n)}var an=new Map,hv=new Set;function Fl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ln=J.d;J.d={f:JE,r:ew,D:tw,C:nw,L:iw,m:rw,X:sw,S:aw,M:lw};function JE(){var n=Ln.f(),r=Ll();return n||r}function ew(n){var r=mr(n);r!==null&&r.tag===5&&r.type==="form"?Op(r):Ln.r(n)}var Qr=typeof document>"u"?null:document;function gv(n,r,s){var u=Qr;if(u&&typeof r=="string"&&r){var d=Zt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),hv.has(d)||(hv.add(d),n={rel:n,crossOrigin:s,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),yt(r,"link",n),ct(r),u.head.appendChild(r)))}}function tw(n){Ln.D(n),gv("dns-prefetch",n,null)}function nw(n,r){Ln.C(n,r),gv("preconnect",n,r)}function iw(n,r,s){Ln.L(n,r,s);var u=Qr;if(u&&n&&r){var d='link[rel="preload"][as="'+Zt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Zt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Zt(s.imageSizes)+'"]')):d+='[href="'+Zt(n)+'"]';var h=d;switch(r){case"style":h=Fr(n);break;case"script":h=Zr(n)}an.has(h)||(n=y({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),an.set(h,n),u.querySelector(d)!==null||r==="style"&&u.querySelector(os(h))||r==="script"&&u.querySelector(us(h))||(r=u.createElement("link"),yt(r,"link",n),ct(r),u.head.appendChild(r)))}}function rw(n,r){Ln.m(n,r);var s=Qr;if(s&&n){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Zt(u)+'"][href="'+Zt(n)+'"]',h=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Zr(n)}if(!an.has(h)&&(n=y({rel:"modulepreload",href:n},r),an.set(h,n),s.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(us(h)))return}u=s.createElement("link"),yt(u,"link",n),ct(u),s.head.appendChild(u)}}}function aw(n,r,s){Ln.S(n,r,s);var u=Qr;if(u&&n){var d=vr(u).hoistableStyles,h=Fr(n);r=r||"default";var v=d.get(h);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(os(h)))S.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":r},s),(s=an.get(h))&&Ed(n,s);var R=v=u.createElement("link");ct(R),yt(R,"link",n),R._p=new Promise(function(z,V){R.onload=z,R.onerror=V}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Zl(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(h,v)}}}function sw(n,r){Ln.X(n,r);var s=Qr;if(s&&n){var u=vr(s).hoistableScripts,d=Zr(n),h=u.get(d);h||(h=s.querySelector(us(d)),h||(n=y({src:n,async:!0},r),(r=an.get(d))&&wd(n,r),h=s.createElement("script"),ct(h),yt(h,"link",n),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function lw(n,r){Ln.M(n,r);var s=Qr;if(s&&n){var u=vr(s).hoistableScripts,d=Zr(n),h=u.get(d);h||(h=s.querySelector(us(d)),h||(n=y({src:n,async:!0,type:"module"},r),(r=an.get(d))&&wd(n,r),h=s.createElement("script"),ct(h),yt(h,"link",n),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function pv(n,r,s,u){var d=(d=re.current)?Fl(d):null;if(!d)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Fr(s.href),s=vr(d).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Fr(s.href);var h=vr(d).hoistableStyles,v=h.get(n);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(n,v),(h=d.querySelector(os(n)))&&!h._p&&(v.instance=h,v.state.loading=5),an.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},an.set(n,s),h||ow(d,n,s,v.state))),r&&u===null)throw Error(a(528,""));return v}if(r&&u!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Zr(s),s=vr(d).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Fr(n){return'href="'+Zt(n)+'"'}function os(n){return'link[rel="stylesheet"]['+n+"]"}function mv(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function ow(n,r,s,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),yt(r,"link",s),ct(r),n.head.appendChild(r))}function Zr(n){return'[src="'+Zt(n)+'"]'}function us(n){return"script[async]"+n}function vv(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Zt(s.href)+'"]');if(u)return r.instance=u,ct(u),u;var d=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ct(u),yt(u,"style",d),Zl(u,s.precedence,n),r.instance=u;case"stylesheet":d=Fr(s.href);var h=n.querySelector(os(d));if(h)return r.state.loading|=4,r.instance=h,ct(h),h;u=mv(s),(d=an.get(d))&&Ed(u,d),h=(n.ownerDocument||n).createElement("link"),ct(h);var v=h;return v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),yt(h,"link",u),r.state.loading|=4,Zl(h,s.precedence,n),r.instance=h;case"script":return h=Zr(s.src),(d=n.querySelector(us(h)))?(r.instance=d,ct(d),d):(u=s,(d=an.get(h))&&(u=y({},s),wd(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),ct(d),yt(d,"link",u),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Zl(u,s.precedence,n));return r.instance}function Zl(n,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,h=d,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===r)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(n,h.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Ed(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function wd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Kl=null;function yv(n,r,s){if(Kl===null){var u=new Map,d=Kl=new Map;d.set(s,u)}else d=Kl,u=d.get(s),u||(u=new Map,d.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),d=0;d<s.length;d++){var h=s[d];if(!(h[Ta]||h[gt]||n==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(r)||"";v=n+v;var S=u.get(v);S?S.push(h):u.set(v,[h])}}return u}function bv(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function uw(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _v(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function cw(n,r,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Fr(u.href),h=r.querySelector(os(d));if(h){r=h._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Xl.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=h,ct(h);return}h=r.ownerDocument||r,u=mv(u),(d=an.get(d))&&Ed(u,d),h=h.createElement("link"),ct(h);var v=h;v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),yt(h,"link",u),s.instance=h}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Xl.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var Ad=0;function dw(n,r){return n.stylesheets&&n.count===0&&eo(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&eo(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4+r);0<n.imgBytes&&Ad===0&&(Ad=62500*$E());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&eo(n,n.stylesheets),n.unsuspend)){var h=n.unsuspend;n.unsuspend=null,h()}},(n.imgBytes>Ad?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Xl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eo(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jl=null;function eo(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jl=new Map,r.forEach(fw,n),Jl=null,Xl.call(n))}function fw(n,r){if(!(r.state.loading&4)){var s=Jl.get(n);if(s)var u=s.get(null);else{s=new Map,Jl.set(n,s);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),u=v)}u&&s.set(null,u)}d=r.instance,v=d.getAttribute("data-precedence"),h=s.get(v)||u,h===u&&s.set(null,d),s.set(v,d),this.count++,u=Xl.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),h?h.parentNode.insertBefore(d,h.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var cs={$$typeof:N,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function hw(n,r,s,u,d,h,v,S,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.hiddenUpdates=bu(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Sv(n,r,s,u,d,h,v,S,R,z,V,Y){return n=new hw(n,r,s,v,R,z,V,Y,S),r=1,h===!0&&(r|=24),h=Bt(3,null,null,r),n.current=h,h.stateNode=n,r=ic(),r.refCount++,n.pooledCache=r,r.refCount++,h.memoizedState={element:u,isDehydrated:s,cache:r},lc(h),n}function Ev(n){return n?(n=Cr,n):Cr}function wv(n,r,s,u,d,h){d=Ev(d),u.context===null?u.context=d:u.pendingContext=d,u=ti(r),u.payload={element:s},h=h===void 0?null:h,h!==null&&(u.callback=h),s=ni(n,u,r),s!==null&&(kt(s,n,r),Pa(s,n,r))}function Av(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Td(n,r){Av(n,r),(n=n.alternate)&&Av(n,r)}function Tv(n){if(n.tag===13||n.tag===31){var r=zi(n,67108864);r!==null&&kt(r,n,67108864),Td(n,67108864)}}function Rv(n){if(n.tag===13||n.tag===31){var r=Pt();r=_u(r);var s=zi(n,r);s!==null&&kt(s,n,r),Td(n,r)}}var to=!0;function gw(n,r,s,u){var d=P.T;P.T=null;var h=J.p;try{J.p=2,Rd(n,r,s,u)}finally{J.p=h,P.T=d}}function pw(n,r,s,u){var d=P.T;P.T=null;var h=J.p;try{J.p=8,Rd(n,r,s,u)}finally{J.p=h,P.T=d}}function Rd(n,r,s,u){if(to){var d=Cd(u);if(d===null)fd(n,r,u,no,s),Dv(n,u);else if(vw(d,n,r,s,u))u.stopPropagation();else if(Dv(n,u),r&4&&-1<mw.indexOf(n)){for(;d!==null;){var h=mr(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=ki(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var R=1<<31-Ut(v);S.entanglements[1]|=R,v&=~R}bn(h),(Ce&6)===0&&(Il=jt()+500,rs(0))}}break;case 31:case 13:S=zi(h,2),S!==null&&kt(S,h,2),Ll(),Td(h,2)}if(h=Cd(u),h===null&&fd(n,r,u,no,s),h===d)break;d=h}d!==null&&u.stopPropagation()}else fd(n,r,u,null,s)}}function Cd(n){return n=xu(n),Dd(n)}var no=null;function Dd(n){if(no=null,n=pr(n),n!==null){var r=o(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return no=n,null}function Cv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tS()){case Uh:return 2;case zh:return 8;case $s:case nS:return 32;case Bh:return 268435456;default:return 32}default:return 32}}var xd=!1,hi=null,gi=null,pi=null,ds=new Map,fs=new Map,mi=[],mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(n,r){switch(n){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":ds.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(r.pointerId)}}function hs(n,r,s,u,d,h){return n===null||n.nativeEvent!==h?(n={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:h,targetContainers:[d]},r!==null&&(r=mr(r),r!==null&&Tv(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function vw(n,r,s,u,d){switch(r){case"focusin":return hi=hs(hi,n,r,s,u,d),!0;case"dragenter":return gi=hs(gi,n,r,s,u,d),!0;case"mouseover":return pi=hs(pi,n,r,s,u,d),!0;case"pointerover":var h=d.pointerId;return ds.set(h,hs(ds.get(h)||null,n,r,s,u,d)),!0;case"gotpointercapture":return h=d.pointerId,fs.set(h,hs(fs.get(h)||null,n,r,s,u,d)),!0}return!1}function xv(n){var r=pr(n.target);if(r!==null){var s=o(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,Vh(n.priority,function(){Rv(s)});return}}else if(r===31){if(r=f(s),r!==null){n.blockedOn=r,Vh(n.priority,function(){Rv(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function io(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=Cd(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);Du=u,s.target.dispatchEvent(u),Du=null}else return r=mr(s),r!==null&&Tv(r),n.blockedOn=s,!1;r.shift()}return!0}function Ov(n,r,s){io(n)&&s.delete(r)}function yw(){xd=!1,hi!==null&&io(hi)&&(hi=null),gi!==null&&io(gi)&&(gi=null),pi!==null&&io(pi)&&(pi=null),ds.forEach(Ov),fs.forEach(Ov)}function ro(n,r){n.blockedOn===r&&(n.blockedOn=null,xd||(xd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yw)))}var ao=null;function kv(n){ao!==n&&(ao=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ao===n&&(ao=null);for(var r=0;r<n.length;r+=3){var s=n[r],u=n[r+1],d=n[r+2];if(typeof u!="function"){if(Dd(u||s)===null)continue;break}var h=mr(s);h!==null&&(n.splice(r,3),r-=3,Cc(h,{pending:!0,data:d,method:s.method,action:u},u,d))}}))}function Kr(n){function r(R){return ro(R,n)}hi!==null&&ro(hi,n),gi!==null&&ro(gi,n),pi!==null&&ro(pi,n),ds.forEach(r),fs.forEach(r);for(var s=0;s<mi.length;s++){var u=mi[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<mi.length&&(s=mi[0],s.blockedOn===null);)xv(s),s.blockedOn===null&&mi.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var d=s[u],h=s[u+1],v=d[Tt]||null;if(typeof h=="function")v||kv(s);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[Tt]||null)S=v.formAction;else if(Dd(d)!==null)continue}else S=v.action;typeof S=="function"?s[u+1]=S:(s.splice(u,3),u-=3),kv(s)}}}function Mv(){function n(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Od(n){this._internalRoot=n}so.prototype.render=Od.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,u=Pt();wv(s,u,n,r,null,null)},so.prototype.unmount=Od.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;wv(n.current,2,null,n,null,null),Ll(),r[gr]=null}};function so(n){this._internalRoot=n}so.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ph();n={blockedOn:null,target:n,priority:r};for(var s=0;s<mi.length&&r!==0&&r<mi[s].priority;s++);mi.splice(s,0,n),s===0&&xv(n)}};var jv=e.version;if(jv!=="19.2.3")throw Error(a(527,jv,"19.2.3"));J.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(r),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var bw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{Ea=lo.inject(bw),Nt=lo}catch{}}return ps.createRoot=function(n,r){if(!l(n))throw Error(a(299));var s=!1,u="",d=Lp,h=qp,v=Pp;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Sv(n,1,!1,null,null,s,u,null,d,h,v,Mv),n[gr]=r.current,dd(n),new Od(r)},ps.hydrateRoot=function(n,r,s){if(!l(n))throw Error(a(299));var u=!1,d="",h=Lp,v=qp,S=Pp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),r=Sv(n,1,!0,r,s??null,u,d,R,h,v,S,Mv),r.context=Ev(null),s=r.current,u=Pt(),u=_u(u),d=ti(u),d.callback=null,ni(s,d,u),s=u,r.current.lanes=s,Aa(r,s),bn(r),n[gr]=r.current,dd(n),new so(r)},ps.version="19.2.3",ps}var Vv;function Dw(){if(Vv)return jd.exports;Vv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jd.exports=Cw(),jd.exports}var xw=Dw();const Ow=Db(xw);var Gv="popstate";function kw(t={}){function e(l,o){let{pathname:c="/",search:f="",hash:g=""}=or(l.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ef("",{pathname:c,search:f,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(l,o){let c=l.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let g=l.location.href,p=g.indexOf("#");f=p===-1?g:g.slice(0,p)}return f+"#"+(typeof o=="string"?o:Cs(o))}function a(l,o){Wt(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return jw(e,i,a,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mw(){return Math.random().toString(36).substring(2,10)}function $v(t,e){return{usr:t.state,key:t.key,idx:e}}function Ef(t,e,i=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?or(e):e,state:i,key:e&&e.key||a||Mw()}}function Cs({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function or(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function jw(t,e,i,a={}){let{window:l=document.defaultView,v5Compat:o=!1}=a,c=l.history,f="POP",g=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function y(){f="POP";let T=m(),D=T==null?null:T-p;p=T,g&&g({action:f,location:A.location,delta:D})}function b(T,D){f="PUSH";let k=Ef(A.location,T,D);i&&i(k,T),p=m()+1;let N=$v(k,p),Z=A.createHref(k);try{c.pushState(N,"",Z)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;l.location.assign(Z)}o&&g&&g({action:f,location:A.location,delta:1})}function _(T,D){f="REPLACE";let k=Ef(A.location,T,D);i&&i(k,T),p=m();let N=$v(k,p),Z=A.createHref(k);c.replaceState(N,"",Z),o&&g&&g({action:f,location:A.location,delta:0})}function w(T){return Nw(T)}let A={get action(){return f},get location(){return t(l,c)},listen(T){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Gv,y),g=T,()=>{l.removeEventListener(Gv,y),g=null}},createHref(T){return e(l,T)},createURL:w,encodeLocation(T){let D=w(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:_,go(T){return c.go(T)}};return A}function Nw(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(i,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Cs(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Ob(t,e,i="/"){return Uw(t,e,i,!1)}function Uw(t,e,i,a){let l=typeof e=="string"?or(e):e,o=Vn(l.pathname||"/",i);if(o==null)return null;let c=kb(t);zw(c);let f=null;for(let g=0;f==null&&g<c.length;++g){let p=Ww(o);f=$w(c[g],p,a)}return f}function kb(t,e=[],i=[],a="",l=!1){let o=(c,f,g=l,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&g)return;Ge(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let y=Pn([a,m.relativePath]),b=i.concat(m);c.children&&c.children.length>0&&(Ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),kb(c.children,e,b,y,g)),!(c.path==null&&!c.index)&&e.push({path:y,score:Vw(y,c.index),routesMeta:b})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let g of Mb(c.path))o(c,f,!0,g)}),e}function Mb(t){let e=t.split("/");if(e.length===0)return[];let[i,...a]=e,l=i.endsWith("?"),o=i.replace(/\?$/,"");if(a.length===0)return l?[o,""]:[o];let c=Mb(a.join("/")),f=[];return f.push(...c.map(g=>g===""?o:[o,g].join("/"))),l&&f.push(...c),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function zw(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:Gw(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var Bw=/^:[\w-]+$/,Iw=3,Hw=2,Lw=1,qw=10,Pw=-2,Yv=t=>t==="*";function Vw(t,e){let i=t.split("/"),a=i.length;return i.some(Yv)&&(a+=Pw),e&&(a+=Hw),i.filter(l=>!Yv(l)).reduce((l,o)=>l+(Bw.test(o)?Iw:o===""?Lw:qw),a)}function Gw(t,e){return t.length===e.length&&t.slice(0,-1).every((a,l)=>a===e[l])?t[t.length-1]-e[e.length-1]:0}function $w(t,e,i=!1){let{routesMeta:a}=t,l={},o="/",c=[];for(let f=0;f<a.length;++f){let g=a[f],p=f===a.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Uo({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},m),b=g.route;if(!y&&p&&i&&!a[a.length-1].route.index&&(y=Uo({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},m)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Pn([o,y.pathname]),pathnameBase:Kw(Pn([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Pn([o,y.pathnameBase]))}return c}function Uo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,a]=Yw(t.path,t.caseSensitive,t.end),l=e.match(i);if(!l)return null;let o=l[0],c=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((p,{paramName:m,isOptional:y},b)=>{if(m==="*"){let w=f[b]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=f[b];return y&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function Yw(t,e=!1,i=!0){Wt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,g)=>(a.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function Ww(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=t.charAt(i);return a&&a!=="/"?null:t.slice(i)||"/"}var jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qw=t=>jb.test(t);function Fw(t,e="/"){let{pathname:i,search:a="",hash:l=""}=typeof t=="string"?or(t):t,o;if(i)if(Qw(i))o=i;else{if(i.includes("//")){let c=i;i=i.replace(/\/\/+/g,"/"),Wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${i}`)}i.startsWith("/")?o=Wv(i.substring(1),"/"):o=Wv(i,e)}else o=e;return{pathname:o,search:Xw(a),hash:Jw(l)}}function Wv(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Bd(t,e,i,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zw(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Ff(t){let e=Zw(t);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Zf(t,e,i,a=!1){let l;typeof t=="string"?l=or(t):(l={...t},Ge(!l.pathname||!l.pathname.includes("?"),Bd("?","pathname","search",l)),Ge(!l.pathname||!l.pathname.includes("#"),Bd("#","pathname","hash",l)),Ge(!l.search||!l.search.includes("#"),Bd("#","search","hash",l)));let o=t===""||l.pathname==="",c=o?"/":l.pathname,f;if(c==null)f=i;else{let y=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;l.pathname=b.join("/")}f=y>=0?e[y]:"/"}let g=Fw(l,f),p=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(p||m)&&(g.pathname+="/"),g}var Pn=t=>t.join("/").replace(/\/\/+/g,"/"),Kw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,eA=class{constructor(t,e,i,a=!1){this.status=t,this.statusText=e||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function tA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function nA(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ub(t,e){let i=t;if(typeof i!="string"||!jb.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,l=!1;if(Nb)try{let o=new URL(window.location.href),c=i.startsWith("//")?new URL(o.protocol+i):new URL(i),f=Vn(c.pathname,e);c.origin===o.origin&&f!=null?i=f+c.search+c.hash:l=!0}catch{Wt(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zb=["POST","PUT","PATCH","DELETE"];new Set(zb);var iA=["GET",...zb];new Set(iA);var ya=M.createContext(null);ya.displayName="DataRouter";var Jo=M.createContext(null);Jo.displayName="DataRouterState";var rA=M.createContext(!1),Bb=M.createContext({isTransitioning:!1});Bb.displayName="ViewTransition";var aA=M.createContext(new Map);aA.displayName="Fetchers";var sA=M.createContext(null);sA.displayName="Await";var Qt=M.createContext(null);Qt.displayName="Navigation";var Is=M.createContext(null);Is.displayName="Location";var pn=M.createContext({outlet:null,matches:[],isDataRoute:!1});pn.displayName="Route";var Kf=M.createContext(null);Kf.displayName="RouteError";var Ib="REACT_ROUTER_ERROR",lA="REDIRECT",oA="ROUTE_ERROR_RESPONSE";function uA(t){if(t.startsWith(`${Ib}:${lA}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function cA(t){if(t.startsWith(`${Ib}:${oA}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new eA(e.status,e.statusText,e.data)}catch{}}function dA(t,{relative:e}={}){Ge(ba(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=M.useContext(Qt),{hash:l,pathname:o,search:c}=Ls(t,{relative:e}),f=o;return i!=="/"&&(f=o==="/"?i:Pn([i,o])),a.createHref({pathname:f,search:c,hash:l})}function ba(){return M.useContext(Is)!=null}function En(){return Ge(ba(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Is).location}var Hb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lb(t){M.useContext(Qt).static||M.useLayoutEffect(t)}function Hs(){let{isDataRoute:t}=M.useContext(pn);return t?RA():fA()}function fA(){Ge(ba(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(ya),{basename:e,navigator:i}=M.useContext(Qt),{matches:a}=M.useContext(pn),{pathname:l}=En(),o=JSON.stringify(Ff(a)),c=M.useRef(!1);return Lb(()=>{c.current=!0}),M.useCallback((g,p={})=>{if(Wt(c.current,Hb),!c.current)return;if(typeof g=="number"){i.go(g);return}let m=Zf(g,JSON.parse(o),l,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Pn([e,m.pathname])),(p.replace?i.replace:i.push)(m,p.state,p)},[e,i,o,l,t])}var hA=M.createContext(null);function gA(t){let e=M.useContext(pn).outlet;return M.useMemo(()=>e&&M.createElement(hA.Provider,{value:t},e),[e,t])}function Ls(t,{relative:e}={}){let{matches:i}=M.useContext(pn),{pathname:a}=En(),l=JSON.stringify(Ff(i));return M.useMemo(()=>Zf(t,JSON.parse(l),a,e==="path"),[t,l,a,e])}function pA(t,e){return qb(t,e)}function qb(t,e,i,a,l){Ge(ba(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(Qt),{matches:c}=M.useContext(pn),f=c[c.length-1],g=f?f.params:{},p=f?f.pathname:"/",m=f?f.pathnameBase:"/",y=f&&f.route;{let k=y&&y.path||"";Vb(p,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=En(),_;if(e){let k=typeof e=="string"?or(e):e;Ge(m==="/"||k.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),_=k}else _=b;let w=_.pathname||"/",A=w;if(m!=="/"){let k=m.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=Ob(t,{pathname:A});Wt(y||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Wt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=_A(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:Pn([m,o.encodeLocation?o.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Pn([m,o.encodeLocation?o.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,i,a,l);return e&&D?M.createElement(Is.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},D):D}function mA(){let t=TA(),e=tA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),i?M.createElement("pre",{style:l},i):null,c)}var vA=M.createElement(mA,null),Pb=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const i=cA(t.digest);i&&(t=i)}let e=t!==void 0?M.createElement(pn.Provider,{value:this.props.routeContext},M.createElement(Kf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(yA,{error:t},e):e}};Pb.contextType=rA;var Id=new WeakMap;function yA({children:t,error:e}){let{basename:i}=M.useContext(Qt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=uA(e.digest);if(a){let l=Id.get(e);if(l)throw l;let o=Ub(a.location,i);if(Nb&&!Id.get(e))if(o.isExternal||a.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:a.replace}));throw Id.set(e,c),c}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function bA({routeContext:t,match:e,children:i}){let a=M.useContext(ya);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(pn.Provider,{value:t},i)}function _A(t,e=[],i=null,a=null,l=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let o=t,c=i?.errors;if(c!=null){let m=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Ge(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,g=-1;if(i)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=m),y.route.id){let{loaderData:b,errors:_}=i,w=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||w){f=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}let p=i&&a?(m,y)=>{a(m,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:nA(i.matches),errorInfo:y})}:void 0;return o.reduceRight((m,y,b)=>{let _,w=!1,A=null,T=null;i&&(_=c&&y.route.id?c[y.route.id]:void 0,A=y.route.errorElement||vA,f&&(g<0&&b===0?(Vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):g===b&&(w=!0,T=y.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,b+1)),k=()=>{let N;return _?N=A:w?N=T:y.route.Component?N=M.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=m,M.createElement(bA,{match:y,routeContext:{outlet:m,matches:D,isDataRoute:i!=null},children:N})};return i&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?M.createElement(Pb,{location:i.location,revalidation:i.revalidation,component:A,error:_,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:p}):k()},null)}function Xf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(t){let e=M.useContext(ya);return Ge(e,Xf(t)),e}function EA(t){let e=M.useContext(Jo);return Ge(e,Xf(t)),e}function wA(t){let e=M.useContext(pn);return Ge(e,Xf(t)),e}function Jf(t){let e=wA(t),i=e.matches[e.matches.length-1];return Ge(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function AA(){return Jf("useRouteId")}function TA(){let t=M.useContext(Kf),e=EA("useRouteError"),i=Jf("useRouteError");return t!==void 0?t:e.errors?.[i]}function RA(){let{router:t}=SA("useNavigate"),e=Jf("useNavigate"),i=M.useRef(!1);return Lb(()=>{i.current=!0}),M.useCallback(async(l,o={})=>{Wt(i.current,Hb),i.current&&(typeof l=="number"?await t.navigate(l):await t.navigate(l,{fromRouteId:e,...o}))},[t,e])}var Qv={};function Vb(t,e,i){!e&&!Qv[t]&&(Qv[t]=!0,Wt(!1,i))}M.memo(CA);function CA({routes:t,future:e,state:i,onError:a}){return qb(t,void 0,i,a,e)}function ys({to:t,replace:e,state:i,relative:a}){Ge(ba(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=M.useContext(Qt);Wt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(pn),{pathname:c}=En(),f=Hs(),g=Zf(t,Ff(o),c,a==="path"),p=JSON.stringify(g);return M.useEffect(()=>{f(JSON.parse(p),{replace:e,state:i,relative:a})},[f,p,a,e,i]),null}function DA(t){return gA(t.context)}function yi(t){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xA({basename:t="/",children:e=null,location:i,navigationType:a="POP",navigator:l,static:o=!1,unstable_useTransitions:c}){Ge(!ba(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:f,navigator:l,static:o,unstable_useTransitions:c,future:{}}),[f,l,o,c]);typeof i=="string"&&(i=or(i));let{pathname:p="/",search:m="",hash:y="",state:b=null,key:_="default"}=i,w=M.useMemo(()=>{let A=Vn(p,f);return A==null?null:{location:{pathname:A,search:m,hash:y,state:b,key:_},navigationType:a}},[f,p,m,y,b,_,a]);return Wt(w!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(Qt.Provider,{value:g},M.createElement(Is.Provider,{children:e,value:w}))}function OA({children:t,location:e}){return pA(wf(t),e)}function wf(t,e=[]){let i=[];return M.Children.forEach(t,(a,l)=>{if(!M.isValidElement(a))return;let o=[...e,l];if(a.type===M.Fragment){i.push.apply(i,wf(a.props.children,o));return}Ge(a.type===yi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=wf(a.props.children,o)),i.push(c)}),i}var Co="get",Do="application/x-www-form-urlencoded";function eu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function kA(t){return eu(t)&&t.tagName.toLowerCase()==="button"}function MA(t){return eu(t)&&t.tagName.toLowerCase()==="form"}function jA(t){return eu(t)&&t.tagName.toLowerCase()==="input"}function NA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UA(t,e){return t.button===0&&(!e||e==="_self")&&!NA(t)}var oo=null;function zA(){if(oo===null)try{new FormData(document.createElement("form"),0),oo=!1}catch{oo=!0}return oo}var BA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hd(t){return t!=null&&!BA.has(t)?(Wt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Do}"`),null):t}function IA(t,e){let i,a,l,o,c;if(MA(t)){let f=t.getAttribute("action");a=f?Vn(f,e):null,i=t.getAttribute("method")||Co,l=Hd(t.getAttribute("enctype"))||Do,o=new FormData(t)}else if(kA(t)||jA(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||f.getAttribute("action");if(a=g?Vn(g,e):null,i=t.getAttribute("formmethod")||f.getAttribute("method")||Co,l=Hd(t.getAttribute("formenctype"))||Hd(f.getAttribute("enctype"))||Do,o=new FormData(f,t),!zA()){let{name:p,type:m,value:y}=t;if(m==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,y)}}else{if(eu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Co,a=null,l=Do,c=t}return o&&l==="text/plain"&&(c=o,o=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HA(t,e,i,a){let l=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:e&&Vn(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function LA(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PA(t,e,i){let a=await Promise.all(t.map(async l=>{let o=e.routes[l.route.id];if(o){let c=await LA(o,i);return c.links?c.links():[]}return[]}));return YA(a.flat(1).filter(qA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Fv(t,e,i,a,l,o){let c=(g,p)=>i[p]?g.route.id!==i[p].route.id:!0,f=(g,p)=>i[p].pathname!==g.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==g.params["*"];return o==="assets"?e.filter((g,p)=>c(g,p)||f(g,p)):o==="data"?e.filter((g,p)=>{let m=a.routes[g.route.id];if(!m||!m.hasLoader)return!1;if(c(g,p)||f(g,p))return!0;if(g.route.shouldRevalidate){let y=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function VA(t,e,{includeHydrateFallback:i}={}){return GA(t.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function GA(t){return[...new Set(t)]}function $A(t){let e={},i=Object.keys(t).sort();for(let a of i)e[a]=t[a];return e}function YA(t,e){let i=new Set;return new Set(e),t.reduce((a,l)=>{let o=JSON.stringify($A(l));return i.has(o)||(i.add(o),a.push({key:o,link:l})),a},[])}function Gb(){let t=M.useContext(ya);return eh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WA(){let t=M.useContext(Jo);return eh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var th=M.createContext(void 0);th.displayName="FrameworkContext";function $b(){let t=M.useContext(th);return eh(t,"You must render this element inside a <HydratedRouter> element"),t}function QA(t,e){let i=M.useContext(th),[a,l]=M.useState(!1),[o,c]=M.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,b=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=D=>{D.forEach(k=>{c(k.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[t]),M.useEffect(()=>{if(a){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[a]);let _=()=>{l(!0)},w=()=>{l(!1),c(!1)};return i?t!=="intent"?[o,b,{}]:[o,b,{onFocus:ms(f,_),onBlur:ms(g,w),onMouseEnter:ms(p,_),onMouseLeave:ms(m,w),onTouchStart:ms(y,_)}]:[!1,b,{}]}function ms(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function FA({page:t,...e}){let{router:i}=Gb(),a=M.useMemo(()=>Ob(i.routes,t,i.basename),[i.routes,t,i.basename]);return a?M.createElement(KA,{page:t,matches:a,...e}):null}function ZA(t){let{manifest:e,routeModules:i}=$b(),[a,l]=M.useState([]);return M.useEffect(()=>{let o=!1;return PA(t,e,i).then(c=>{o||l(c)}),()=>{o=!0}},[t,e,i]),a}function KA({page:t,matches:e,...i}){let a=En(),{future:l,manifest:o,routeModules:c}=$b(),{basename:f}=Gb(),{loaderData:g,matches:p}=WA(),m=M.useMemo(()=>Fv(t,e,p,o,a,"data"),[t,e,p,o,a]),y=M.useMemo(()=>Fv(t,e,p,o,a,"assets"),[t,e,p,o,a]),b=M.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let A=new Set,T=!1;if(e.forEach(k=>{let N=o.routes[k.route.id];!N||!N.hasLoader||(!m.some(Z=>Z.route.id===k.route.id)&&k.route.id in g&&c[k.route.id]?.shouldRevalidate||N.hasClientLoader?T=!0:A.add(k.route.id))}),A.size===0)return[];let D=HA(t,f,l.unstable_trailingSlashAwareDataRequests,"data");return T&&A.size>0&&D.searchParams.set("_routes",e.filter(k=>A.has(k.route.id)).map(k=>k.route.id).join(",")),[D.pathname+D.search]},[f,l.unstable_trailingSlashAwareDataRequests,g,a,o,m,e,t,c]),_=M.useMemo(()=>VA(y,o),[y,o]),w=ZA(y);return M.createElement(M.Fragment,null,b.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),_.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),w.map(({key:A,link:T})=>M.createElement("link",{key:A,nonce:i.nonce,...T})))}function XA(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JA&&(window.__reactRouterVersion="7.12.0")}catch{}function eT({basename:t,children:e,unstable_useTransitions:i,window:a}){let l=M.useRef();l.current==null&&(l.current=kw({window:a,v5Compat:!0}));let o=l.current,[c,f]=M.useState({action:o.action,location:o.location}),g=M.useCallback(p=>{i===!1?f(p):M.startTransition(()=>f(p))},[i]);return M.useLayoutEffect(()=>o.listen(g),[o,g]),M.createElement(xA,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:i})}var Yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wb=M.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:l,reloadDocument:o,replace:c,state:f,target:g,to:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b,..._},w){let{basename:A,unstable_useTransitions:T}=M.useContext(Qt),D=typeof p=="string"&&Yb.test(p),k=Ub(p,A);p=k.to;let N=dA(p,{relative:l}),[Z,ee,I]=QA(a,_),F=iT(p,{replace:c,state:f,target:g,preventScrollReset:m,relative:l,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:T});function K(ke){e&&e(ke),ke.defaultPrevented||F(ke)}let fe=M.createElement("a",{..._,...I,href:k.absoluteURL||N,onClick:k.isExternal||o?e:K,ref:XA(w,ee),target:g,"data-discover":!D&&i==="render"?"true":void 0});return Z&&!D?M.createElement(M.Fragment,null,fe,M.createElement(FA,{page:N})):fe});Wb.displayName="Link";var Qb=M.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:c,viewTransition:f,children:g,...p},m){let y=Ls(c,{relative:p.relative}),b=En(),_=M.useContext(Jo),{navigator:w,basename:A}=M.useContext(Qt),T=_!=null&&oT(y)&&f===!0,D=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,k=b.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(k=k.toLowerCase(),N=N?N.toLowerCase():null,D=D.toLowerCase()),N&&A&&(N=Vn(N,A)||N);const Z=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let ee=k===D||!l&&k.startsWith(D)&&k.charAt(Z)==="/",I=N!=null&&(N===D||!l&&N.startsWith(D)&&N.charAt(D.length)==="/"),F={isActive:ee,isPending:I,isTransitioning:T},K=ee?e:void 0,fe;typeof a=="function"?fe=a(F):fe=[a,ee?"active":null,I?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ke=typeof o=="function"?o(F):o;return M.createElement(Wb,{...p,"aria-current":K,className:fe,ref:m,style:ke,to:c,viewTransition:f},typeof g=="function"?g(F):g)});Qb.displayName="NavLink";var tT=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:l,state:o,method:c=Co,action:f,onSubmit:g,relative:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b,..._},w)=>{let{unstable_useTransitions:A}=M.useContext(Qt),T=sT(),D=lT(f,{relative:p}),k=c.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&Yb.test(f),Z=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let I=ee.nativeEvent.submitter,F=I?.getAttribute("formmethod")||c,K=()=>T(I||ee.currentTarget,{fetcherKey:e,method:F,navigate:i,replace:l,state:o,relative:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b});A&&i!==!1?M.startTransition(()=>K()):K()};return M.createElement("form",{ref:w,method:k,action:D,onSubmit:a?g:Z,..._,"data-discover":!N&&t==="render"?"true":void 0})});tT.displayName="Form";function nT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(t){let e=M.useContext(ya);return Ge(e,nT(t)),e}function iT(t,{target:e,replace:i,state:a,preventScrollReset:l,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g}={}){let p=Hs(),m=En(),y=Ls(t,{relative:o});return M.useCallback(b=>{if(UA(b,e)){b.preventDefault();let _=i!==void 0?i:Cs(m)===Cs(y),w=()=>p(t,{replace:_,state:a,preventScrollReset:l,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:f});g?M.startTransition(()=>w()):w()}},[m,p,y,i,a,e,t,l,o,c,f,g])}var rT=0,aT=()=>`__${String(++rT)}__`;function sT(){let{router:t}=Fb("useSubmit"),{basename:e}=M.useContext(Qt),i=AA(),a=t.fetch,l=t.navigate;return M.useCallback(async(o,c={})=>{let{action:f,method:g,encType:p,formData:m,body:y}=IA(o,e);if(c.navigate===!1){let b=c.fetcherKey||aT();await a(b,i,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:y,formMethod:c.method||g,formEncType:c.encType||p,flushSync:c.flushSync})}else await l(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:y,formMethod:c.method||g,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,l,e,i])}function lT(t,{relative:e}={}){let{basename:i}=M.useContext(Qt),a=M.useContext(pn);Ge(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),o={...Ls(t||".",{relative:e})},c=En();if(t==null){o.search=c.search;let f=new URLSearchParams(o.search),g=f.getAll("index");if(g.some(m=>m==="")){f.delete("index"),g.filter(y=>y).forEach(y=>f.append("index",y));let m=f.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(o.pathname=o.pathname==="/"?i:Pn([i,o.pathname])),Cs(o)}function oT(t,{relative:e}={}){let i=M.useContext(Bb);Ge(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Fb("useViewTransitionState"),l=Ls(t,{relative:e});if(!i.isTransitioning)return!1;let o=Vn(i.currentLocation.pathname,a)||i.currentLocation.pathname,c=Vn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Uo(l.pathname,c)!=null||Uo(l.pathname,o)!=null}var Af=xb();function tu(t,e){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(t);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(t,a[l])&&(i[a[l]]=t[a[l]]);return i}function uT(t,e,i,a){function l(o){return o instanceof i?o:new i(function(c){c(o)})}return new(i||(i=Promise))(function(o,c){function f(m){try{p(a.next(m))}catch(y){c(y)}}function g(m){try{p(a.throw(m))}catch(y){c(y)}}function p(m){m.done?o(m.value):l(m.value).then(f,g)}p((a=a.apply(t,e||[])).next())})}const cT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class nh extends Error{constructor(e,i="FunctionsError",a){super(e),this.name=i,this.context=a}}class dT extends nh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Zv extends nh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Kv extends nh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tf||(Tf={}));class fT{constructor(e,{headers:i={},customFetch:a,region:l=Tf.Any}={}){this.url=e,this.headers=i,this.region=l,this.fetch=cT(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return uT(this,arguments,void 0,function*(i,a={}){var l;let o,c;try{const{headers:f,method:g,body:p,signal:m,timeout:y}=a;let b={},{region:_}=a;_||(_=this.region);const w=new URL(`${this.url}/${i}`);_&&_!=="any"&&(b["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let A;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",A=p):typeof p=="string"?(b["Content-Type"]="text/plain",A=p):typeof FormData<"u"&&p instanceof FormData?A=p:(b["Content-Type"]="application/json",A=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?A=JSON.stringify(p):A=p;let T=m;y&&(c=new AbortController,o=setTimeout(()=>c.abort(),y),m?(T=c.signal,m.addEventListener("abort",()=>c.abort())):T=c.signal);const D=yield this.fetch(w.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),f),body:A,signal:T}).catch(ee=>{throw new dT(ee)}),k=D.headers.get("x-relay-error");if(k&&k==="true")throw new Zv(D);if(!D.ok)throw new Kv(D);let N=((l=D.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),Z;return N==="application/json"?Z=yield D.json():N==="application/octet-stream"||N==="application/pdf"?Z=yield D.blob():N==="text/event-stream"?Z=D:N==="multipart/form-data"?Z=yield D.formData():Z=yield D.text(),{data:Z,error:null,response:D}}catch(f){return{data:null,error:f,response:f instanceof Kv||f instanceof Zv?f.context:void 0}}finally{o&&clearTimeout(o)}})}}var hT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},gT=class{constructor(t){var e,i;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(i=t.isMaybeSingle)!==null&&i!==void 0?i:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,f=null,g=null,p=o.status,m=o.statusText;if(o.ok){var y,b;if(i.method!=="HEAD"){var _;const D=await o.text();D===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((_=i.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?f=D:f=JSON.parse(D))}const A=(y=i.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),T=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&T&&T.length>1&&(g=parseInt(T[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var w;const A=await o.text();try{c=JSON.parse(A),Array.isArray(c)&&o.status===404&&(f=[],c=null,p=200,m="OK")}catch{o.status===404&&A===""?(p=204,m="No Content"):c={message:A}}if(c&&i.isMaybeSingle&&(!(c==null||(w=c.details)===null||w===void 0)&&w.includes("0 rows"))&&(c=null,p=200,m="OK"),c&&i.shouldThrowOnError)throw new hT(c)}return{error:c,data:f,count:g,status:p,statusText:m}});return this.shouldThrowOnError||(l=l.catch(o=>{var c;let f="";const g=o?.cause;if(g){var p,m,y,b;const w=(p=g?.message)!==null&&p!==void 0?p:"",A=(m=g?.code)!==null&&m!==void 0?m:"";f=`${(y=o?.name)!==null&&y!==void 0?y:"FetchError"}: ${o?.message}`,f+=`

Caused by: ${(b=g?.name)!==null&&b!==void 0?b:"Error"}: ${w}`,A&&(f+=` (${A})`),g?.stack&&(f+=`
${g.stack}`)}else{var _;f=(_=o?.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(t,e)}returns(){return this}overrideTypes(){return this}},pT=class extends gT{select(t){let e=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const o=l?`${l}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:o="text"}={}){var c;const f=[t?"analyze":null,e?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${g}"; options=${f};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Xv=new RegExp("[,()]");var aa=class extends pT{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const i=Array.from(new Set(e)).map(a=>typeof a=="string"&&Xv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}notIn(t,e){const i=Array.from(new Set(e)).map(a=>typeof a=="string"&&Xv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`not.in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${l}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}},mT=class{constructor(t,{headers:e={},schema:i,fetch:a}){this.url=t,this.headers=new Headers(e),this.schema=i,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:i=!1,count:a}=e??{},l=i?"HEAD":"GET";let o=!1;const c=(t??"*").split("").map(p=>/\s/.test(p)&&!o?"":(p==='"'&&(o=!o),p)).join(""),{url:f,headers:g}=this.cloneRequestState();return f.searchParams.set("select",c),a&&g.append("Prefer",`count=${a}`),new aa({method:l,url:f,headers:g,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:i=!0}={}){var a;const l="POST",{url:o,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(f.length>0){const g=[...new Set(f)].map(p=>`"${p}"`);o.searchParams.set("columns",g.join(","))}}return new aa({method:l,url:o,headers:c,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var o;const c="POST",{url:f,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),a&&g.append("Prefer",`count=${a}`),l||g.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);f.searchParams.set("columns",m.join(","))}}return new aa({method:c,url:f,headers:g,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var i;const a="PATCH",{url:l,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new aa({method:a,url:l,headers:o,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:t}={}){var e;const i="DELETE",{url:a,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new aa({method:i,url:a,headers:l,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},vT=class Zb{constructor(e,{headers:i={},schema:a,fetch:l}={}){this.url=e,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new mT(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:a=!1,get:l=!1,count:o}={}){var c;let f;const g=new URL(`${this.url}/rpc/${e}`);let p;const m=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(m)),y=a&&Object.values(i).some(m);y?(f="POST",p=i):a||l?(f=a?"HEAD":"GET",Object.entries(i).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{g.searchParams.append(_,w)})):(f="POST",p=i);const b=new Headers(this.headers);return y?b.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&b.set("Prefer",`count=${o}`),new aa({method:f,url:g,headers:b,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class yT{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const a=i.versions;if(a&&a.node){const l=a.node,o=parseInt(l.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const a=this.getWebSocketConstructor();return new a(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const bT="2.90.1",_T=`realtime-js/${bT}`,Kb="1.0.0",ST="2.0.0",Jv=Kb,Rf=1e4,ET=1e3,wT=100;var bi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bi||(bi={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var fn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fn||(fn={}));var Cf;(function(t){t.websocket="websocket"})(Cf||(Cf={}));var er;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(er||(er={}));class AT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,a;const l=(a=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var i,a;const l=(a=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,a){var l,o;const c=e.topic,f=(l=e.ref)!==null&&l!==void 0?l:"",g=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(m).length===0?"":JSON.stringify(m);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+f.length+c.length+p.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(_),A=0;w.setUint8(A++,this.KINDS.userBroadcastPush),w.setUint8(A++,g.length),w.setUint8(A++,f.length),w.setUint8(A++,c.length),w.setUint8(A++,p.length),w.setUint8(A++,y.length),w.setUint8(A++,i),Array.from(g,D=>w.setUint8(A++,D.charCodeAt(0))),Array.from(f,D=>w.setUint8(A++,D.charCodeAt(0))),Array.from(c,D=>w.setUint8(A++,D.charCodeAt(0))),Array.from(p,D=>w.setUint8(A++,D.charCodeAt(0))),Array.from(y,D=>w.setUint8(A++,D.charCodeAt(0)));var T=new Uint8Array(_.byteLength+a.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(a),_.byteLength),T.buffer}decode(e,i){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return i(a)}if(typeof e=="string"){const a=JSON.parse(e),[l,o,c,f,g]=a;return i({join_ref:l,ref:o,topic:c,event:f,payload:g})}return i({})}_binaryDecode(e){const i=new DataView(e),a=i.getUint8(0),l=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,i,l)}_decodeUserBroadcast(e,i,a){const l=i.getUint8(1),o=i.getUint8(2),c=i.getUint8(3),f=i.getUint8(4);let g=this.HEADER_LENGTH+4;const p=a.decode(e.slice(g,g+l));g=g+l;const m=a.decode(e.slice(g,g+o));g=g+o;const y=a.decode(e.slice(g,g+c));g=g+c;const b=e.slice(g,e.byteLength),_=f===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,w={type:this.BROADCAST_EVENT,event:m,payload:_};return c>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>i.includes(a)))}}class Xb{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ie||(Ie={}));const ey=(t,e,i={})=>{var a;const l=(a=i.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=TT(c,t,e,l),o),{}):{}},TT=(t,e,i,a)=>{const l=e.find(f=>f.name===t),o=l?.type,c=i[t];return o&&!a.includes(o)?Jb(o,c):Df(c)},Jb=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return xT(e,i)}switch(t){case Ie.bool:return RT(e);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return CT(e);case Ie.json:case Ie.jsonb:return DT(e);case Ie.timestamp:return OT(e);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Df(e);default:return Df(e)}},Df=t=>t,RT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},CT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},DT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},xT=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,a=t[i];if(t[0]==="{"&&a==="}"){let o;const c=t.slice(1,i);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>Jb(e,f))}return t},OT=t=>typeof t=="string"?t.replace(" ","T"):t,e0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ld{constructor(e,i,a={},l=Rf){this.channel=e,this.event=i,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var a;return this._hasReceived(e)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ty;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ty||(ty={}));class bs{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bs.syncState(this.state,l,o,c),this.pendingDiffs.forEach(g=>{this.state=bs.syncDiff(this.state,g,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=bs.syncDiff(this.state,l,o,c),f())}),this.onJoin((l,o,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:c})}),this.onLeave((l,o,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,a,l){const o=this.cloneDeep(e),c=this.transformState(i),f={},g={};return this.map(o,(p,m)=>{c[p]||(g[p]=m)}),this.map(c,(p,m)=>{const y=o[p];if(y){const b=m.map(T=>T.presence_ref),_=y.map(T=>T.presence_ref),w=m.filter(T=>_.indexOf(T.presence_ref)<0),A=y.filter(T=>b.indexOf(T.presence_ref)<0);w.length>0&&(f[p]=w),A.length>0&&(g[p]=A)}else f[p]=m}),this.syncDiff(o,{joins:f,leaves:g},a,l)}static syncDiff(e,i,a,l){const{joins:o,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(o,(f,g)=>{var p;const m=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(g),m.length>0){const y=e[f].map(_=>_.presence_ref),b=m.filter(_=>y.indexOf(_.presence_ref)<0);e[f].unshift(...b)}a(f,m,g)}),this.map(c,(f,g)=>{let p=e[f];if(!p)return;const m=g.map(y=>y.presence_ref);p=p.filter(y=>m.indexOf(y.presence_ref)<0),e[f]=p,l(f,p,g),p.length===0&&delete e[f]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(a=>i(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,a)=>{const l=e[a];return"metas"in l?i[a]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i[a]=l,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ny;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ny||(ny={}));var _s;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_s||(_s={}));var qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class ua{constructor(e,i={config:{}},a){var l,o;if(this.topic=e,this.params=i,this.socket=a,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ld(this,fn.join,this.params,this.timeout),this.rejoinTimer=new Xb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new bs(this),this.broadcastEndpointURL=e0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var a,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:c,presence:f,private:g}}=this.params,p=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[_s.PRESENCE]&&this.bindings[_s.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:m}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(qn.CHANNEL_ERROR,_)),this._onClose(()=>e?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(qn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,T=(w=A?.length)!==null&&w!==void 0?w:0,D=[];for(let k=0;k<T;k++){const N=A[k],{filter:{event:Z,schema:ee,table:I,filter:F}}=N,K=_&&_[k];if(K&&K.event===Z&&ua.isFilterValueEqual(K.schema,ee)&&ua.isFilterValueEqual(K.table,I)&&ua.isFilterValueEqual(K.filter,F))D.push(Object.assign(Object.assign({},N),{id:K.id}));else{this.unsubscribe(),this.state=ut.errored,e?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(qn.SUBSCRIBED);return}}).receive("error",_=>{this.state=ut.errored,e?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,a){return this.state===ut.joined&&e===_s.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,i,a)}async httpSend(e,i,a={}){var l;if(i==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let g=f.statusText;try{const p=await f.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var a,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,g;const p=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new Ld(this,fn.leave,{},e),a.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,i,a){const l=new AbortController,o=setTimeout(()=>l.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(o),c}_push(e,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Ld(this,e,i,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>wT){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,a){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,a){var l,o;const c=e.toLocaleLowerCase(),{close:f,error:g,leave:p,join:m}=fn;if(a&&[f,g,p,m].indexOf(c)>=0&&a!==this._joinRef())return;let b=this._onMessage(c,i,a);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(_=>{var w,A,T;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((T=(A=_.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(_=>_.callback(b,a)):(o=this.bindings[c])===null||o===void 0||o.filter(_=>{var w,A,T,D,k,N,Z,ee;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const I=_.id,F=(w=_.filter)===null||w===void 0?void 0:w.event;return I&&((A=i.ids)===null||A===void 0?void 0:A.includes(I))&&(F==="*"||F?.toLocaleLowerCase()===((T=i.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((D=_.filter)===null||D===void 0)&&D.table)||_.filter.table===((k=i.data)===null||k===void 0?void 0:k.table))}else{const I=(Z=(N=_?.filter)===null||N===void 0?void 0:N.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return I==="*"||I===((ee=i?.event)===null||ee===void 0?void 0:ee.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:A,table:T,commit_timestamp:D,type:k,errors:N}=w;b=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:D,eventType:k,new:{},old:{},errors:N}),this._getPayloadRecords(w))}_.callback(b,a)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,a){const l=e.toLocaleLowerCase(),o={type:l,filter:i,callback:a};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(e,i){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&ua.isEqual(l.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const a in e)if(e[a]!==i[a])return!1;return!0}static isFilterValueEqual(e,i){return(e??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fn.close,{},e)}_onError(e){this._on(fn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=ey(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=ey(e.columns,e.old_record)),i}}const qd=()=>{},uo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kT=[1e3,2e3,5e3,1e4],MT=1e4,jT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NT{constructor(e,i){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rf,this.transport=null,this.heartbeatIntervalMs=uo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qd,this.ref=0,this.reconnectTimer=null,this.vsn=Jv,this.logger=qd,this.conn=null,this.sendBuffer=[],this.serializer=new AT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((a=i?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${Cf.websocket}`,this.httpEndpoint=e0(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,a){this.logger(e,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case bi.connecting:return er.Connecting;case bi.open:return er.Open;case bi.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const a=`realtime:${e}`,l=this.getChannels().find(o=>o.topic===a);if(l)return l;{const o=new ua(`realtime:${e}`,i,this);return this.channels.push(o),o}}push(e){const{topic:i,event:a,payload:l,ref:o}=e,c=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${i} ${a} (${o})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ET,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},uo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",p)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:l,payload:o,ref:c}=i,f=c?`(${c})`:"",g=o.status||"";this.log("receive",`${g} ${a} ${l} ${f}`.trim(),o),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(l,o,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===bi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bi.open||this.conn.readyState===bi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const a=e.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${e}${a}${l}`}_workerObjectUrl(e){let i;if(e)i=e;else{const a=new Blob([jT],{type:"application/javascript"});i=URL.createObjectURL(a)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i,a=!1;if(e)i=e,a=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),i=this.accessTokenValue}else i=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(l=>{const o={access_token:i,version:_T};i&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(fn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(i)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Xb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,a,l,o,c,f,g,p,m,y,b,_;switch(this.transport=(i=e?.transport)!==null&&i!==void 0?i:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Rf,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:uo.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:qd,this.vsn=(g=e?.vsn)!==null&&g!==void 0?g:Jv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(w=>kT[w-1]||MT),this.vsn){case Kb:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((w,A)=>A(JSON.stringify(w))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((w,A)=>A(JSON.parse(w)));break;case ST:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Ds=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function UT(t,e,i){const a=new URL(e,t);if(i)for(const[l,o]of Object.entries(i))o!==void 0&&a.searchParams.set(l,o);return a.toString()}async function zT(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function BT(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:a,query:l,body:o,headers:c}){const f=UT(t.baseUrl,a,l),g=await zT(t.auth),p=await e(f,{method:i,headers:{...o?{"Content-Type":"application/json"}:{},...g,...c},body:o?JSON.stringify(o):void 0}),m=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),b=y&&m?JSON.parse(m):m;if(!p.ok){const _=y?b:void 0,w=_?.error;throw new Ds(w?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:w?.type,icebergCode:w?.code,details:_})}return{status:p.status,headers:p.headers,data:b}}}}function co(t){return t.join("")}var IT=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:co(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const i={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(t.namespace)}`}),!0}catch(e){if(e instanceof Ds&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(i){if(i instanceof Ds&&i.status===409)return;throw i}}};function Xr(t){return t.join("")}var HT=class{constructor(t,e="",i){this.client=t,this.prefix=e,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xr(t.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(t,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(i){if(i instanceof Ds&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(i){if(i instanceof Ds&&i.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw i}}},LT=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=BT({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new IT(this.client,e),this.tableOps=new HT(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},nu=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var qT=class extends nu{constructor(t,e,i){super(t),this.name="StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xf=class extends nu{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const ih=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PT=()=>Response,Of=t=>{if(Array.isArray(t))return t.map(i=>Of(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,a])=>{const l=i.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[l]=Of(a)}),e},VT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GT=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function $T(t,e){if(xs(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,e);if(xs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YT(t){var e=$T(t,"string");return xs(e)=="symbol"?e:e+""}function WT(t,e,i){return(e=YT(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function iy(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),i.push.apply(i,a)}return i}function de(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?iy(Object(i),!0).forEach(function(a){WT(t,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):iy(Object(i)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))})}return t}const Pd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},QT=async(t,e,i)=>{t instanceof await PT()&&!i?.noResolveJson?t.json().then(a=>{const l=t.status||500,o=a?.statusCode||l+"";e(new qT(Pd(a),l,o))}).catch(a=>{e(new xf(Pd(a),a))}):e(new xf(Pd(t),t))},FT=(t,e,i,a)=>{const l={method:t,headers:e?.headers||{}};return t==="GET"||!a?l:(VT(a)?(l.headers=de({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,e?.duplex&&(l.duplex=e.duplex),de(de({},l),i))};async function qs(t,e,i,a,l,o){return new Promise((c,f)=>{t(i,FT(e,a,l,o)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>QT(g,f,a))})}async function Os(t,e,i,a){return qs(t,"GET",e,i,a)}async function dn(t,e,i,a,l){return qs(t,"POST",e,a,l,i)}async function kf(t,e,i,a,l){return qs(t,"PUT",e,a,l,i)}async function ZT(t,e,i,a){return qs(t,"HEAD",e,de(de({},i),{},{noResolveJson:!0}),a)}async function rh(t,e,i,a,l){return qs(t,"DELETE",e,a,l,i)}var KT=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};let t0;t0=Symbol.toStringTag;var XT=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[t0]="BlobDownloadBuilder",this.promise=null}asStream(){return new KT(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};const JT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ry={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eR=class{constructor(t,e={},i,a){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=i,this.fetch=ih(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,i,a){var l=this;try{let o;const c=de(de({},ry),a);let f=de(de({},l.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),g&&o.append("metadata",l.encodeMetadata(g)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),g&&!o.has("metadata")&&o.append("metadata",l.encodeMetadata(g))):(o=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,g&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(g))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(f=de(de({},f),a.headers));const p=l._removeEmptyFolders(e),m=l._getFinalPath(p),y=await(t=="PUT"?kf:dn)(l.fetch,`${l.url}/object/${m}`,o,de({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async upload(t,e,i){return this.uploadOrUpdate("POST",t,e,i)}async uploadToSignedUrl(t,e,i,a){var l=this;const o=l._removeEmptyFolders(t),c=l._getFinalPath(o),f=new URL(l.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let g;const p=de({upsert:ry.upsert},a),m=de(de({},l.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType),{data:{path:o,fullPath:(await kf(l.fetch,f.toString(),g,{headers:m})).Key},error:null}}catch(g){if(l.shouldThrowOnError)throw g;if(Ye(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(t,e){var i=this;try{let a=i._getFinalPath(t);const l=de({},i.headers);e?.upsert&&(l["x-upsert"]="true");const o=await dn(i.fetch,`${i.url}/object/upload/sign/${a}`,{},{headers:l}),c=new URL(i.url+o.url),f=c.searchParams.get("token");if(!f)throw new nu("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}async update(t,e,i){return this.uploadOrUpdate("PUT",t,e,i)}async move(t,e,i){var a=this;try{return{data:await dn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async copy(t,e,i){var a=this;try{return{data:{path:(await dn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async createSignedUrl(t,e,i){var a=this;try{let l=a._getFinalPath(t),o=await dn(a.fetch,`${a.url}/object/sign/${l}`,de({expiresIn:e},i?.transform?{transform:i.transform}:{}),{headers:a.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${a.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async createSignedUrls(t,e,i){var a=this;try{const l=await dn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:t},{headers:a.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${o}`):null})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}download(t,e){const i=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),l=a?`?${a}`:"",o=this._getFinalPath(t),c=()=>Os(this.fetch,`${this.url}/${i}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new XT(c,this.shouldThrowOnError)}async info(t){var e=this;const i=e._getFinalPath(t);try{return{data:Of(await Os(e.fetch,`${e.url}/object/info/${i}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}async exists(t){var e=this;const i=e._getFinalPath(t);try{return await ZT(e.fetch,`${e.url}/object/${i}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(Ye(a)&&a instanceof xf){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}}getPublicUrl(t,e){const i=this._getFinalPath(t),a=[],l=e?.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&a.push(l);const o=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&a.push(c);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${i}${f}`)}}}async remove(t){var e=this;try{return{data:await rh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async list(t,e,i){var a=this;try{const l=de(de(de({},JT),e),{},{prefix:t||""});return{data:await dn(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},i),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async listV2(t,e){var i=this;try{const a=de({},t);return{data:await dn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,a,{headers:i.headers},e),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const n0="2.90.1",i0={"X-Client-Info":`storage-js/${n0}`};var tR=class{constructor(t,e={},i,a){this.shouldThrowOnError=!1;const l=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=de(de({},i0),e),this.fetch=ih(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const i=e.listBucketOptionsToQueryString(t);return{data:await Os(e.fetch,`${e.url}/bucket${i}`,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async getBucket(t){var e=this;try{return{data:await Os(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async createBucket(t,e={public:!1}){var i=this;try{return{data:await dn(i.fetch,`${i.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}async updateBucket(t,e){var i=this;try{return{data:await kf(i.fetch,`${i.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}async emptyBucket(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await rh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},nR=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},i0),e),this.fetch=ih(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async listBuckets(t){var e=this;try{const i=new URLSearchParams;t?.limit!==void 0&&i.set("limit",t.limit.toString()),t?.offset!==void 0&&i.set("offset",t.offset.toString()),t?.sortColumn&&i.set("sortColumn",t.sortColumn),t?.sortOrder&&i.set("sortOrder",t.sortOrder),t?.search&&i.set("search",t.search);const a=i.toString(),l=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await Os(e.fetch,l,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await rh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}from(t){var e=this;if(!GT(t))throw new nu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new LT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(i,{get(l,o){const c=l[o];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(l,f),error:null}}catch(g){if(a)throw g;return{data:null,error:g}}}}})}};const ah={"X-Client-Info":`storage-js/${n0}`,"Content-Type":"application/json"};var r0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Gt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Vd=class extends r0{constructor(t,e,i){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iR=class extends r0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const sh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ay=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aR=async(t,e,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!i?.noResolveJson){const a=t.status||500,l=t;if(typeof l.json=="function")l.json().then(o=>{const c=o?.statusCode||o?.code||a+"";e(new Vd(ay(o),a,c))}).catch(()=>{const o=a+"";e(new Vd(l.statusText||`HTTP ${a} error`,a,o))});else{const o=a+"";e(new Vd(l.statusText||`HTTP ${a} error`,a,o))}}else e(new iR(ay(t),t))},sR=(t,e,i,a)=>{const l={method:t,headers:e?.headers||{}};return a?(rR(a)?(l.headers=de({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,de(de({},l),i)):l};async function lR(t,e,i,a,l,o){return new Promise((c,f)=>{t(i,sR(e,a,l,o)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>aR(g,f,a))})}async function $t(t,e,i,a,l){return lR(t,"POST",e,a,l,i)}var oR=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},ah),e),this.fetch=sh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async getIndex(t,e){var i=this;try{return{data:await $t(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Gt(a))return{data:null,error:a};throw a}}async listIndexes(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async deleteIndex(t,e){var i=this;try{return{data:await $t(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers})||{},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Gt(a))return{data:null,error:a};throw a}}},uR=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},ah),e),this.fetch=sh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await $t(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async getVectors(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await $t(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async queryVectors(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await $t(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}},cR=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},ah),e),this.fetch=sh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async getBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async listBuckets(t={}){var e=this;try{return{data:await $t(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}}},dR=class extends cR{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new fR(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,i=this;return e().call(i,t)}async getBucket(t){var e=()=>super.getBucket,i=this;return e().call(i,t)}async listBuckets(t={}){var e=()=>super.listBuckets,i=this;return e().call(i,t)}async deleteBucket(t){var e=()=>super.deleteBucket,i=this;return e().call(i,t)}},fR=class extends oR{constructor(t,e,i,a){super(t,e,a),this.vectorBucketName=i}async createIndex(t){var e=()=>super.createIndex,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,i=this;return e().call(i,i.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,i=this;return e().call(i,i.vectorBucketName,t)}index(t){return new hR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},hR=class extends uR{constructor(t,e,i,a,l){super(t,e,l),this.vectorBucketName=i,this.indexName=a}async putVectors(t){var e=()=>super.putVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(t){var e=()=>super.getVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},gR=class extends tR{constructor(t,e={},i,a){super(t,e,i,a)}from(t){return new eR(this.url,this.headers,t,this.fetch)}get vectors(){return new dR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nR(this.url+"/iceberg",this.headers,this.fetch)}};const a0="2.90.1",sa=30*1e3,Mf=3,Gd=Mf*sa,pR="http://localhost:9999",mR="supabase.auth.token",vR={"X-Client-Info":`gotrue-js/${a0}`},jf="X-Supabase-Api-Version",s0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bR=600*1e3;class ks extends Error{constructor(e,i,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=a}}function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _R extends ks{constructor(e,i,a){super(e,i,a),this.name="AuthApiError",this.status=i,this.code=a}}function SR(t){return ie(t)&&t.name==="AuthApiError"}class tr extends ks{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class $n extends ks{constructor(e,i,a,l){super(e,a,l),this.name=i,this.status=a}}class Vt extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ER(t){return ie(t)&&t.name==="AuthSessionMissingError"}class Jr extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fo extends $n{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ho extends $n{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wR(t){return ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class sy extends $n{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AR extends $n{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nf extends $n{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function $d(t){return ie(t)&&t.name==="AuthRetryableFetchError"}class ly extends $n{constructor(e,i,a){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=a}}class Uf extends $n{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oy=` 	
\r=`.split(""),TR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<oy.length;e+=1)t[oy[e].charCodeAt(0)]=-2;for(let e=0;e<zo.length;e+=1)t[zo[e].charCodeAt(0)]=e;return t})();function uy(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;i(zo[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;i(zo[a]),e.queuedBits-=6}}function l0(t,e,i){const a=TR[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cy(t){const e=[],i=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=c=>{DR(c,a,i)};for(let c=0;c<t.length;c+=1)l0(t.charCodeAt(c),l,o);return e.join("")}function RR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function CR(t,e){for(let i=0;i<t.length;i+=1){let a=t.charCodeAt(i);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(t.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}RR(a,e)}}function DR(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function da(t){const e=[],i={queue:0,queuedBits:0},a=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)l0(t.charCodeAt(l),i,a);return new Uint8Array(e)}function xR(t){const e=[];return CR(t,i=>e.push(i)),new Uint8Array(e)}function ir(t){const e=[],i={queue:0,queuedBits:0},a=l=>{e.push(l)};return t.forEach(l=>uy(l,i,a)),uy(null,i,a),e.join("")}function OR(t){return Math.round(Date.now()/1e3)+t}function kR(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",Fi={tested:!1,writable:!1},o0=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fi.tested)return Fi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fi.tested=!0,Fi.writable=!0}catch{Fi.tested=!0,Fi.writable=!1}return Fi.writable};function MR(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,o)=>{e[o]=l})}catch{}return i.searchParams.forEach((a,l)=>{e[l]=a}),e}const u0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",la=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},Zi=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},bt=async(t,e)=>{await t.removeItem(e)};class iu{constructor(){this.promise=new iu.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}iu.promiseConstructor=Promise;function Yd(t){const e=t.split(".");if(e.length!==3)throw new Uf("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!yR.test(e[a]))throw new Uf("JWT not in base64url format");return{header:JSON.parse(cy(e[0])),payload:JSON.parse(cy(e[1])),signature:da(e[2]),raw:{header:e[0],payload:e[1]}}}async function NR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function UR(t,e){return new Promise((a,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){a(c);return}}catch(c){if(!e(o,c)){l(c);return}}})()})}function zR(t){return("0"+t.toString(16)).substr(-2)}function BR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let l="";for(let o=0;o<56;o++)l+=i.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(e),Array.from(e,zR).join("")}async function IR(t){const i=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(a);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function HR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await IR(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ea(t,e,i=!1){const a=BR();let l=a;i&&(l+="/PASSWORD_RECOVERY"),await la(t,`${e}-code-verifier`,l);const o=await HR(a);return[o,a===o?"plain":"s256"]}const LR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qR(t){const e=t.headers.get(jf);if(!e||!e.match(LR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function PR(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function VR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ta(t){if(!GR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wd(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $R(t,e){return new Proxy(t,{get:(i,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,a,l)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,a,l)}})}function dy(t){return JSON.parse(JSON.stringify(t))}const Ki=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YR=[502,503,504];async function fy(t){var e;if(!jR(t))throw new Nf(Ki(t),0);if(YR.includes(t.status))throw new Nf(Ki(t),t.status);let i;try{i=await t.json()}catch(o){throw new tr(Ki(o),o)}let a;const l=qR(t);if(l&&l.getTime()>=s0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?a=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(a=i.error_code),a){if(a==="weak_password")throw new ly(Ki(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Vt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new ly(Ki(i),t.status,i.weak_password.reasons);throw new _R(Ki(i),t.status||500,a)}const WR=(t,e,i,a)=>{const l={method:t,headers:e?.headers||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),i))};async function ce(t,e,i,a){var l;const o=Object.assign({},a?.headers);o[jf]||(o[jf]=s0["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const c=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await QR(t,e,i+f,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function QR(t,e,i,a,l,o){const c=WR(e,a,l,o);let f;try{f=await t(i,Object.assign({},c))}catch(g){throw console.error(g),new Nf(Ki(g),0)}if(f.ok||await fy(f),a?.noResolveJson)return f;try{return await f.json()}catch(g){await fy(g)}}function cn(t){var e;let i=null;KR(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=OR(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:a},error:null}}function hy(t){const e=cn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _i(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function FR(t){return{data:t,error:null}}function ZR(t){const{action_link:e,email_otp:i,hashed_token:a,redirect_to:l,verification_type:o}=t,c=tu(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:i,hashed_token:a,redirect_to:l,verification_type:o},g=Object.assign({},c);return{data:{properties:f,user:g},error:null}}function gy(t){return t}function KR(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qd=["global","local","others"];class XR{constructor({url:e="",headers:i={},fetch:a}){this.url=e,this.headers=i,this.fetch=u0(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Qd[0]){if(Qd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qd.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,i={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:_i})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:i}=e,a=tu(e,["options"]),l=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:ZR,redirectTo:i?.redirectTo})}catch(i){if(ie(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_i})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,a,l,o,c,f,g;try{const p={nextPage:null,lastPage:0,total:0},m=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=e?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:gy});if(m.error)throw m.error;const y=await m.json(),b=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(g=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(w=>{const A=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);p[`${T}Page`]=A}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ie(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ta(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_i})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){ta(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:_i})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,i=!1){ta(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:_i})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){ta(e.userId);try{const{data:i,error:a}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:a}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _deleteFactor(e){ta(e.userId),ta(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,a,l,o,c,f,g;try{const p={nextPage:null,lastPage:0,total:0},m=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=e?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:gy});if(m.error)throw m.error;const y=await m.json(),b=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(g=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(w=>{const A=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);p[`${T}Page`]=A}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ie(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}}function py(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}const na={debug:!!(globalThis&&o0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class JR extends c0{}async function eC(t,e,i){na.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),na.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){na.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await i()}finally{na.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw na.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new JR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(na.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function tC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function d0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nC(t){return parseInt(t,16)}function iC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function rC(t){var e;const{chainId:i,domain:a,expirationTime:l,issuedAt:o=new Date,nonce:c,notBefore:f,requestId:g,resources:p,scheme:m,uri:y,version:b}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=d0(t.address),w=m?`${m}://${a}`:a,A=t.statement?`${t.statement}
`:"",T=`${w} wants you to sign in with your Ethereum account:
${_}

${A}`;let D=`URI: ${y}
Version: ${b}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(l&&(D+=`
Expiration Time: ${l.toISOString()}`),f&&(D+=`
Not Before: ${f.toISOString()}`),g&&(D+=`
Request ID: ${g}`),p){let k=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);k+=`
- ${N}`}D+=k}return`${T}
${D}`}class at extends Error{constructor({message:e,code:i,cause:a,name:l}){var o;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=l??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=i}}class Bo extends at{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function aC({error:t,options:e}){var i,a,l;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(f0(c)){if(o.rp.id!==c)return new at({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function sC({error:t,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(f0(a)){if(i.rpId!==a)return new at({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class lC{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const oC=new lC;function uC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:i,excludeCredentials:a}=t,l=tu(t,["challenge","user","excludeCredentials"]),o=da(e).buffer,c=Object.assign(Object.assign({},i),{id:da(i.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:o,user:c});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const p=a[g];f.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:da(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function cC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:i}=t,a=tu(t,["challenge","allowCredentials"]),l=da(e).buffer,o=Object.assign(Object.assign({},a),{challenge:l});if(i&&i.length>0){o.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const f=i[c];o.allowCredentials[c]=Object.assign(Object.assign({},f),{id:da(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return o}function dC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:ir(new Uint8Array(t.response.attestationObject)),clientDataJSON:ir(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,a=t.getClientExtensionResults(),l=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ir(new Uint8Array(l.authenticatorData)),clientDataJSON:ir(new Uint8Array(l.clientDataJSON)),signature:ir(new Uint8Array(l.signature)),userHandle:l.userHandle?ir(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function f0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function my(){var t,e;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bo("Browser returned unexpected credential type",e)}:{data:null,error:new Bo("Empty credential response",e)}}catch(e){return{data:null,error:aC({error:e,options:t})}}}async function gC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bo("Browser returned unexpected credential type",e)}:{data:null,error:new Bo("Empty credential response",e)}}catch(e){return{data:null,error:sC({error:e,options:t})}}}const pC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Io(...t){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),i=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of t)if(l)for(const o in l){const c=l[o];if(c!==void 0)if(Array.isArray(c))a[o]=c;else if(i(c))a[o]=c;else if(e(c)){const f=a[o];e(f)?a[o]=Io(f,c):a[o]=Io(c)}else a[o]=c}return a}function vC(t,e){return Io(pC,t,e||{})}function yC(t,e){return Io(mC,t,e||{})}class bC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:a,signal:l},o){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:f};const g=l??oC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=vC(c.webauthn.credential_options.publicKey,o?.create),{data:m,error:y}=await hC({publicKey:p,signal:g});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}case"request":{const p=yC(c.webauthn.credential_options.publicKey,o?.request),{data:m,error:y}=await gC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:g}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}}}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new tr("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:a}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new ks("rpId is required for WebAuthn authentication")};try{if(!my())return{data:null,error:new tr("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:a},signal:l},{request:o});if(!c)return{data:null,error:f};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:a,credential_response:g.credential_response}})}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new tr("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new ks("rpId is required for WebAuthn registration")};try{if(!my())return{data:null,error:new tr("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(m=>{var y;return(y=m.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:f};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:a},signal:l},{create:o});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return ie(c)?{data:null,error:c}:{data:null,error:new tr("Unexpected error in register",c)}}}}tC();const _C={url:pR,storageKey:mR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function vy(t,e,i){return await i()}const ia={};class Ms{get jwks(){var e,i;return(i=(e=ia[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){ia[this.storageKey]=Object.assign(Object.assign({},ia[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=ia[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ia[this.storageKey]=Object.assign(Object.assign({},ia[this.storageKey]),{cachedAt:e})}constructor(e){var i,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},_C),e);if(this.storageKey=o.storageKey,this.instanceID=(i=Ms.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Ms.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&_t()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new XR({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=u0(o.fetch),this.lock=o.lock||vy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&_t()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=eC:this.lock=vy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:o0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=py(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=py(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${a0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},a="none";if(_t()&&(i=MR(window.location.href),this._isImplicitGrantCallback(i)?a="implicit":await this._isPKCECallback(i)&&(a="pkce")),_t()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:o}=await this._getSessionFromURL(i,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),wR(o)){const g=(e=o.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ie(i)?this._returnResult({error:i}):this._returnResult({error:new tr("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,a,l;try{const o=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(i=e?.options)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:cn}),{data:c,error:f}=o;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var i,a,l;try{let o;if("email"in e){const{email:m,password:y,options:b}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await ea(this.storage,this.storageKey)),o=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:m,password:y,data:(i=b?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:w},xform:cn})}else if("phone"in e){const{phone:m,password:y,options:b}=e;o=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(l=b?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:cn})}else throw new fo("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let i;if("email"in e){const{email:o,password:c,options:f}=e;i=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:hy})}else if("phone"in e){const{phone:o,password:c,options:f}=e;i=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:hy})}else throw new fo("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const o=new Jr;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,a,l,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,a,l,o,c,f,g,p,m,y,b;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:A,wallet:T,statement:D,options:k}=e;let N;if(_t())if(typeof T=="object")N=T;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")N=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=T}const Z=new URL((i=k?.url)!==null&&i!==void 0?i:window.location.href),ee=await N.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=d0(ee[0]);let F=(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!F){const fe=await N.request({method:"eth_chainId"});F=nC(fe)}const K={domain:Z.host,address:I,statement:D,uri:Z.href,version:"1",chainId:F,nonce:(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(o=k?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=k?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=k?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=k?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=rC(K),w=await N.request({method:"personal_sign",params:[iC(_),I]})}try{const{data:A,error:T}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:cn});if(T)throw T;if(!A||!A.session||!A.user){const D=new Jr;return this._returnResult({data:{user:null,session:null},error:D})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:T})}catch(A){if(ie(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(e){var i,a,l,o,c,f,g,p,m,y,b,_;let w,A;if("message"in e)w=e.message,A=e.signature;else{const{chain:T,wallet:D,statement:k,options:N}=e;let Z;if(_t())if(typeof D=="object")Z=D;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))Z=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=D}const ee=new URL((i=N?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Z&&Z.signIn){const I=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),k?{statement:k}:null));let F;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")F=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)F=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)w=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),A=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${ee.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(l=(a=N?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((g=N?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(m=N?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const I=await Z.signMessage(new TextEncoder().encode(w),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=I}}try{const{data:T,error:D}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ir(A)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:cn});if(D)throw D;if(!T||!T.session||!T.user){const k=new Jr;return this._returnResult({data:{user:null,session:null},error:k})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:D})}catch(T){if(ie(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const i=await Zi(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(i??"").split("/");try{if(!a&&this.flowType==="pkce")throw new AR;const{data:o,error:c}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:cn});if(await bt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const f=new Jr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:c})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:i,provider:a,token:l,access_token:o,nonce:c}=e,f=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:cn}),{data:g,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const m=new Jr;return this._returnResult({data:{user:null,session:null},error:m})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,a,l,o,c;try{if("email"in e){const{email:f,options:g}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ea(this.storage,this.storageKey));const{error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:f,options:g}=e,{data:p,error:m}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(c=g?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:m})}throw new fo("You must provide either an email or phone number.")}catch(f){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var i,a;try{let l,o;"options"in e&&(l=(i=e.options)===null||i===void 0?void 0:i.redirectTo,o=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:cn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var i,a,l,o,c;try{let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ea(this.storage,this.storageKey));const p=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:FR});return!((o=p.data)===null||o===void 0)&&o.url&&_t()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:a}=e;if(a)throw a;if(!i)throw new Vt;const{error:l}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:a,type:l,options:o}=e,{error:c}=await ce(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:l,options:o}=e,{data:c,error:f}=await ce(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new fo("You must provide either an email or phone number and a type")}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Gd:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await Zi(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Wd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=$R(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_i}):await this._useSession(async i=>{var a,l,o;const{data:c,error:f}=i;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:_i})})}catch(i){if(ie(i))return ER(i)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async a=>{const{data:l,error:o}=a;if(o)throw o;if(!l.session)throw new Vt;const c=l.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await ea(this.storage,this.storageKey));const{data:p,error:m}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:c.access_token,xform:_i});if(m)throw m;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const i=Date.now()/1e3;let a=i,l=!0,o=null;const{payload:c}=Yd(e.access_token);if(c.exp&&(a=c.exp,l=a<=i),l){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;o={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(i){if(ie(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var a;if(!e){const{data:c,error:f}=i;if(f)throw f;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new Vt;const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!_t())throw new ho("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ho(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new sy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new sy("No code detected.");const{data:k,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:o,refresh_token:c,expires_in:f,expires_at:g,token_type:p}=e;if(!o||!f||!c||!p)throw new ho("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(f);let b=m+y;g&&(b=parseInt(g));const _=b-m;_*1e3<=sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const w=b-y;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,m);const{data:A,error:T}=await this._getUser(o);if(T)throw T;const D={provider_token:a,provider_refresh_token:l,access_token:o,expires_in:y,expires_at:b,refresh_token:c,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:e.type},error:null})}catch(a){if(ie(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({error:o});const c=(a=l.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(SR(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=kR(),a={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async i=>{var a,l;try{const{data:{session:o},error:c}=i;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,i={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ea(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:a,error:l}=await this._useSession(async o=>{var c,f,g,p,m;const{data:y,error:b}=o;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(l)throw l;return _t()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(ie(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var a;try{const{error:l,data:{session:o}}=i;if(l)throw l;const{options:c,provider:f,token:g,access_token:p,nonce:m}=e,y=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:g,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cn}),{data:b,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Jr}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(l){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var a,l;const{data:o,error:c}=i;if(c)throw c;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await UR(async l=>(l>0&&await NR(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cn})),(l,o)=>{const c=200*Math.pow(2,l);return o&&$d(o)&&Date.now()+c-a<sa})}catch(a){if(this._debug(i,"error",a),ie(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",a),_t()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Zi(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await la(this.userStorage,this.storageKey+"-user",c)),l.user=(e=c?.user)!==null&&e!==void 0?e:Wd()}else if(l&&!l.user&&!l.user){const c=await Zi(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await bt(this.storage,this.storageKey+"-user"),await la(this.storage,this.storageKey,l)):l.user=Wd()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const o=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Gd;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Gd}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),$d(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var i,a;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new iu;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Vt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={data:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),ie(o)){const c={data:null,error:o};return $d(o)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,i,a=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:i});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,i)}catch(g){o.push(g)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},e),a=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&i.user&&await la(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const o=dy(l);await la(this.storage,this.storageKey,o)}else{const l=dy(i);await la(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-e)/sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${sa}ms, refresh threshold is ${Mf} ticks`),l<=Mf&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof c0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,a){const l=[`provider=${encodeURIComponent(i)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,c]=await ea(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);l.push(o.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;return o?this._returnResult({data:null,error:o}):await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var a,l;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&g.type==="totp"&&(!((l=g?.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?dC(e.webauthn.credential_response):fC(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:g}))})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const c=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:uC(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:cC(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=i?.factors)!==null&&e!==void 0?e:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Yd(a.access_token);let c=null;o.aal&&(c=o.aal);let f=c;((i=(e=a.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const p=o.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;return l?this._returnResult({data:null,error:l}):a?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new Vt});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&_t()&&!i?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,i){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new Vt});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&_t()&&!i?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:a}=e;return a?this._returnResult({data:null,error:a}):i?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;return l?this._returnResult({data:null,error:l}):a?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let a=i.keys.find(f=>f.kid===e);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+bR>l)return a;const{data:o,error:c}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,a=o.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,i={}){try{let a=e;if(!a){const{data:_,error:w}=await this.getSession();if(w||!_.session)return this._returnResult({data:null,error:w});a=_.session.access_token}const{header:l,payload:o,signature:c,raw:{header:f,payload:g}}=Yd(a);i?.allowExpired||PR(o.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:o,header:l,signature:c},error:null}}const m=VR(l.alg),y=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,xR(`${f}.${g}`)))throw new Uf("Invalid JWT signature");return{data:{claims:o,header:l,signature:c},error:null}}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}}Ms.nextInstanceID={};const SC=Ms,EC="2.90.1";let vs="";typeof Deno<"u"?vs="deno":typeof document<"u"?vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vs="react-native":vs="node";const wC={"X-Client-Info":`supabase-js-${vs}/${EC}`},AC={headers:wC},TC={schema:"public"},RC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CC={};function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function DC(t,e){if(js(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,e);if(js(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xC(t){var e=DC(t,"string");return js(e)=="symbol"?e:e+""}function OC(t,e,i){return(e=xC(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function yy(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),i.push.apply(i,a)}return i}function Ze(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?yy(Object(i),!0).forEach(function(a){OC(t,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):yy(Object(i)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))})}return t}const kC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MC=()=>Headers,jC=(t,e,i)=>{const a=kC(i),l=MC();return async(o,c)=>{var f;const g=(f=await e())!==null&&f!==void 0?f:t;let p=new l(c?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),a(o,Ze(Ze({},c),{},{headers:p}))}};function NC(t){return t.endsWith("/")?t:t+"/"}function UC(t,e){var i,a;const{db:l,auth:o,realtime:c,global:f}=t,{db:g,auth:p,realtime:m,global:y}=e,b={db:Ze(Ze({},g),l),auth:Ze(Ze({},p),o),realtime:Ze(Ze({},m),c),storage:{},global:Ze(Ze(Ze({},y),f),{},{headers:Ze(Ze({},(i=y?.headers)!==null&&i!==void 0?i:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function zC(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var BC=class extends SC{constructor(t){super(t)}},IC=class{constructor(t,e,i){var a,l;this.supabaseUrl=t,this.supabaseKey=e;const o=zC(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,f={db:TC,realtime:CC,auth:Ze(Ze({},RC),{},{storageKey:c}),global:AC},g=UC(i??{},f);if(this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=jC(e,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new vT(new URL("rest/v1",o).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new gR(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new fT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,i;if(t.accessToken)return await t.accessToken();const{data:a}=await t.auth.getSession();return(e=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:o,flowType:c,lock:f,debug:g,throwOnError:p},m,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BC({url:this.authUrl.href,headers:Ze(Ze({},b),m),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:a,userStorage:l,flowType:c,lock:f,debug:g,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new NT(this.realtimeUrl.href,Ze(Ze({},t),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const HC=(t,e,i)=>new IC(t,e,i);function LC(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const i=e.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}LC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qC="https://fupjskglqecvgfsslbct.supabase.co",PC="sb_publishable_dm7FaDK5BhtoQI8K_43CUw_i6xKTEia",ze=HC(qC,PC);function VC(){const t=Hs(),[e,i]=M.useState(!1),[a,l]=M.useState(""),[o,c]=M.useState(""),[f,g]=M.useState("email"),[p,m]=M.useState("login"),[y,b]=M.useState(""),[_,w]=M.useState(""),[A,T]=M.useState(""),[D,k]=M.useState(""),[N,Z]=M.useState(""),[ee,I]=M.useState(!1),[F,K]=M.useState(!1),[fe,ke]=M.useState(!1),[st,Se]=M.useState(null),[St,lt]=M.useState(!1),et=M.useMemo(()=>{const Q=a.trim();return Q?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q):!1},[a]);function P(){Se(null),K(!1),ke(!1),lt(!1),m("login"),i(!0)}function J(){Se(null),K(!1),ke(!1),lt(!1),m("register"),I(!1),i(!0)}function se(Q){const X=Q.trim();return X?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X):!1}function W(Q){const X=(Q||"").toLowerCase();return X.includes("rate limit")?"Too many attempts. Please wait a moment and try again.":X.includes("invalid")&&(X.includes("token")||X.includes("otp")||X.includes("code"))?"That code did not work. Try again or request a new code.":X.includes("expired")&&(X.includes("token")||X.includes("otp")||X.includes("code"))?"That code has expired. Request a new code and try again.":X.includes("user not found")||X.includes("signups not allowed")||X.includes("signup")&&X.includes("disabled")?"Sign-in is not available for this email. Request access first.":"Something went wrong. Please try again."}async function ue(Q){Q.preventDefault(),Se(null);const X=se(y),re=_.trim().length>0,pe=A.trim().length>0;if(!X||!re||!pe){Se("Please enter email, first name, and last name.");return}lt(!0);try{const we={email:y.trim().toLowerCase(),first_name:_.trim(),last_name:A.trim(),phone:D.trim()?D.trim():null,invite_code:N.trim()?N.trim():null},{error:Be}=await ze.from("access_requests").insert(we);if(Be){if(Be.code==="23505"){Se("An access request already exists for this email. An admin will review it soon."),I(!0);return}Se("Unable to submit the request. Please try again.");return}I(!0)}finally{lt(!1)}}function C(){Se(null),K(!1),ke(!1),lt(!1),i(!1)}async function O(Q){if(Q.preventDefault(),Se(null),!!et){K(!0);try{const{error:X}=await ze.auth.signInWithOtp({email:a.trim(),options:{shouldCreateUser:!1}});if(X){Se(W(X.message));return}g("code"),c("")}finally{K(!1)}}}async function G(Q){Q.preventDefault(),Se(null);const X=o.trim(),re=a.trim();if(!(!re||!X)){ke(!0);try{const{data:pe,error:we}=await ze.auth.verifyOtp({email:re,token:X,type:"email"});if(we){Se(W(we.message));return}pe.session?(C(),t("/calendar")):Se("Sign-in could not be completed. Request a new code and try again.")}finally{ke(!1)}}}return E.jsxs("div",{style:{height:"100dvh",width:"100%",position:"relative",overflow:"hidden"},children:[E.jsx("div",{style:{position:"absolute",top:"7%",left:"10%",color:"#ffffff",fontSize:44,fontWeight:400,letterSpacing:.5,fontFamily:'"Allura", "Dancing Script", "Pacifico", "Segoe Script", cursive',textShadow:"0 2px 6px rgba(0, 0, 0, 0.45)",transform:"rotate(-1deg)",userSelect:"none",pointerEvents:"none"},children:"Lakehouse Calendar"}),E.jsx("div",{style:{position:"absolute",left:"15%",bottom:"9%",width:"min(320px, 70vw)"},children:E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[E.jsx("button",{type:"button",onClick:()=>{P()},style:GC,children:"Login"}),E.jsx("button",{type:"button",onClick:()=>{J()},style:$C,children:"Register"})]})}),e&&E.jsx("div",{role:"region","aria-label":p==="login"?"Sign in":"Register",style:{position:"absolute",inset:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",padding:16,boxSizing:"border-box"},children:E.jsxs("div",{style:{width:"100%",maxWidth:520,margin:"0 auto",background:"#ffffff",color:"#1f2933",borderRadius:14,padding:18,boxShadow:"0 16px 40px rgba(0,0,0,0.25)",border:"1px solid rgba(214, 230, 227, 0.9)",boxSizing:"border-box"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[E.jsx("div",{style:{fontSize:16,fontWeight:800,color:"#2f6f73"},children:p==="login"?"Sign in":"Register"}),E.jsx("button",{type:"button",onClick:C,style:{height:36,width:36,padding:0,lineHeight:0,borderRadius:10,border:"1px solid #d6e6e3",background:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#2f6f73"},"aria-label":"Close",children:E.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",style:{display:"block"},children:E.jsx("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),st?E.jsx("div",{style:{marginTop:10,padding:"10px 12px",borderRadius:12,border:"1px solid rgba(154, 79, 79, 0.35)",background:"rgba(154, 79, 79, 0.08)",color:"#9a4f4f",fontSize:13,fontWeight:700},children:st}):null,p==="login"?f==="email"?E.jsxs("form",{onSubmit:O,style:{marginTop:14,display:"grid",gap:12},children:[E.jsx("div",{style:{fontSize:13,color:"#1f2933",opacity:.85},children:"Enter the email address associated with an approved account to receive a one-time code."}),E.jsxs("label",{style:{display:"grid",gap:6},children:[E.jsx("span",{style:{fontSize:12,color:"#1f2933",opacity:.8},children:"Email"}),E.jsx("input",{type:"email",value:a,onChange:Q=>l(Q.target.value),placeholder:"name@example.com",autoComplete:"email",style:{height:40,borderRadius:12,border:"1px solid #d6e6e3",padding:"0 12px",fontSize:14,outline:"none"}})]}),E.jsx("button",{type:"submit",disabled:!et||F,style:{height:42,borderRadius:12,border:"1px solid #2f6f73",background:et&&!F?"#2f6f73":"rgba(47, 111, 115, 0.4)",color:"#ffffff",fontWeight:800,cursor:et&&!F?"pointer":"not-allowed"},children:"Send code"})]}):E.jsxs("form",{onSubmit:G,style:{marginTop:14,display:"grid",gap:12},children:[E.jsxs("div",{style:{fontSize:13,color:"#1f2933",opacity:.85},children:["Enter the code sent to ",E.jsx("strong",{children:a.trim()}),"."]}),E.jsxs("label",{style:{display:"grid",gap:6},children:[E.jsx("span",{style:{fontSize:12,color:"#1f2933",opacity:.8},children:"One-time code"}),E.jsx("input",{inputMode:"numeric",autoComplete:"one-time-code",value:o,onChange:Q=>c(Q.target.value),placeholder:"123456",style:{height:40,borderRadius:12,border:"1px solid #d6e6e3",padding:"0 12px",fontSize:14,outline:"none",letterSpacing:2}})]}),E.jsxs("div",{style:{display:"flex",gap:10},children:[E.jsx("button",{type:"button",onClick:()=>{Se(null),g("email"),c("")},style:{flex:1,height:42,borderRadius:12,border:"1px solid #d6e6e3",background:"#ffffff",color:"#2f6f73",fontWeight:800,cursor:"pointer"},children:"Change email"}),E.jsx("button",{type:"submit",disabled:!o.trim()||fe,style:{flex:1,height:42,borderRadius:12,border:"1px solid #2f6f73",background:o.trim()&&!fe?"#2f6f73":"rgba(47, 111, 115, 0.4)",color:"#ffffff",fontWeight:800,cursor:o.trim()&&!fe?"pointer":"not-allowed"},children:"Sign in"})]}),E.jsx("div",{style:{marginTop:2,fontSize:12,opacity:.75},children:"Code not received? Use Change email and click Send code again."})]}):E.jsx("div",{style:{marginTop:14},children:ee?E.jsxs("div",{style:{display:"grid",gap:10},children:[E.jsx("div",{style:{fontSize:14,fontWeight:900,color:"#2f6f73"},children:"Request submitted"}),E.jsx("div",{style:{fontSize:13,opacity:.85},children:"Access requires admin approval. Sign-in will work after the account is activated."}),E.jsx("button",{type:"button",onClick:()=>{Se(null),m("login")},style:{height:42,borderRadius:12,border:"1px solid #2f6f73",background:"#2f6f73",color:"#ffffff",fontWeight:800,cursor:"pointer"},children:"Return to sign in"})]}):E.jsxs("form",{onSubmit:ue,style:{display:"grid",gap:12},children:[E.jsx("div",{style:{fontSize:13,color:"#1f2933",opacity:.85},children:"Registration requests require admin approval before sign-in is allowed."}),E.jsxs("label",{style:{display:"grid",gap:6},children:[E.jsx("span",{style:{fontSize:12,color:"#1f2933",opacity:.8},children:"Email"}),E.jsx("input",{type:"email",value:y,onChange:Q=>b(Q.target.value),placeholder:"name@example.com",autoComplete:"email",style:{height:40,borderRadius:12,border:"1px solid #d6e6e3",padding:"0 12px",fontSize:14,outline:"none"}})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",columnGap:12,rowGap:12,width:"100%",boxSizing:"border-box"},children:[E.jsxs("label",{style:{display:"grid",gap:6},children:[E.jsx("span",{style:{fontSize:12,color:"#1f2933",opacity:.8},children:"First name"}),E.jsx("input",{type:"text",value:_,onChange:Q=>w(Q.target.value),placeholder:"First",autoComplete:"given-name",style:{height:40,borderRadius:12,border:"1px solid #d6e6e3",padding:"0 12px",fontSize:14,outline:"none",width:"100%",boxSizing:"border-box"}})]}),E.jsxs("label",{style:{display:"grid",gap:6},children:[E.jsx("span",{style:{fontSize:12,color:"#1f2933",opacity:.8},children:"Last name"}),E.jsx("input",{type:"text",value:A,onChange:Q=>T(Q.target.value),placeholder:"Last",autoComplete:"family-name",style:{height:40,borderRadius:12,border:"1px solid #d6e6e3",padding:"0 12px",fontSize:14,outline:"none",width:"100%",boxSizing:"border-box"}})]})]}),E.jsxs("label",{style:{display:"grid",gap:6},children:[E.jsx("span",{style:{fontSize:12,color:"#1f2933",opacity:.8},children:"Phone (optional)"}),E.jsx("input",{type:"tel",value:D,onChange:Q=>k(Q.target.value),placeholder:"(555) 555-5555",autoComplete:"tel",style:{height:40,borderRadius:12,border:"1px solid #d6e6e3",padding:"0 12px",fontSize:14,outline:"none"}})]}),E.jsxs("label",{style:{display:"grid",gap:6},children:[E.jsx("span",{style:{fontSize:12,color:"#1f2933",opacity:.8},children:"Invite code (optional)"}),E.jsx("input",{type:"text",value:N,onChange:Q=>Z(Q.target.value),placeholder:"Provided by admin",autoComplete:"off",style:{height:40,borderRadius:12,border:"1px solid #d6e6e3",padding:"0 12px",fontSize:14,outline:"none"}})]}),E.jsx("button",{type:"submit",disabled:St,style:{height:42,borderRadius:12,border:"1px solid #2f6f73",background:St?"rgba(47, 111, 115, 0.7)":"#2f6f73",color:"#ffffff",fontWeight:800,cursor:St?"not-allowed":"pointer"},children:St?"Submitting...":"Request access"}),E.jsx("button",{type:"button",onClick:()=>{Se(null),m("login")},style:{height:42,borderRadius:12,border:"1px solid #d6e6e3",background:"#ffffff",color:"#2f6f73",fontWeight:800,cursor:"pointer"},children:"Back to sign in"})]})}),E.jsxs("div",{style:{marginTop:14,paddingTop:12,borderTop:"1px solid #d6e6e3",display:"flex",alignItems:"center",justifyContent:"space-between",gap:10,flexWrap:"wrap",fontSize:12},children:[E.jsx("button",{type:"button",onClick:()=>{C(),t("/calendar?mode=demo")},style:{border:"none",background:"transparent",padding:0,color:"#2f6f73",fontWeight:800,cursor:"pointer",textDecoration:"underline"},children:"View demo"}),p==="login"?E.jsx("button",{type:"button",onClick:()=>{Se(null),m("register"),I(!1)},style:{border:"none",background:"transparent",padding:0,color:"#2f6f73",fontWeight:800,cursor:"pointer",textDecoration:"underline"},children:"Need access? Register"}):null]})]})})]})}const h0={width:"100%",padding:"12px 12px",borderRadius:12,border:"1px solid rgba(255,255,255,0.22)",color:"#FFFFFF",fontWeight:700,fontSize:14,cursor:"pointer",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",letterSpacing:.2,textShadow:"0 .5px .5px rgba(0, 0, 0, 0.45)"},GC={...h0,background:"rgba(17, 24, 39, 0.80)"},$C={...h0,background:"rgba(255, 255, 255, 0.14)",border:"1px solid rgba(255, 255, 255, 0.28)"};var ru,le,g0,p0,ga,nr,by,m0,v0,Ho={},y0=[],YC=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Si(t,e){for(var i in e)t[i]=e[i];return t}function b0(t){var e=t.parentNode;e&&e.removeChild(t)}function q(t,e,i){var a,l,o,c={};for(o in e)o=="key"?a=e[o]:o=="ref"?l=e[o]:c[o]=e[o];if(arguments.length>2&&(c.children=arguments.length>3?ru.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)c[o]===void 0&&(c[o]=t.defaultProps[o]);return xo(t,c,a,l,null)}function xo(t,e,i,a,l){var o={type:t,props:e,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++g0};return l==null&&le.vnode!=null&&le.vnode(o),o}function Gn(){return{current:null}}function Ke(t){return t.children}function WC(t,e,i,a,l){var o;for(o in i)o==="children"||o==="key"||o in e||Lo(t,o,null,i[o],a);for(o in e)l&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||i[o]===e[o]||Lo(t,o,e[o],i[o],a)}function _y(t,e,i){e[0]==="-"?t.setProperty(e,i??""):t[e]=i==null?"":typeof i!="number"||YC.test(e)?i:i+"px"}function Lo(t,e,i,a,l){var o;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof a=="string"&&(t.style.cssText=a=""),a)for(e in a)i&&e in i||_y(t.style,e,"");if(i)for(e in i)a&&i[e]===a[e]||_y(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=i,i?a||t.addEventListener(e,o?Ey:Sy,o):t.removeEventListener(e,o?Ey:Sy,o);else if(e!=="dangerouslySetInnerHTML"){if(l)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,i))}}function Sy(t){ga=!0;try{return this.l[t.type+!1](le.event?le.event(t):t)}finally{ga=!1}}function Ey(t){ga=!0;try{return this.l[t.type+!0](le.event?le.event(t):t)}finally{ga=!1}}function Yt(t,e){this.props=t,this.context=e}function Ns(t,e){if(e==null)return t.__?Ns(t.__,t.__.__k.indexOf(t)+1):null;for(var i;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?Ns(t):null}function _0(t){var e,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return _0(t)}}function QC(t){ga?setTimeout(t):m0(t)}function zf(t){(!t.__d&&(t.__d=!0)&&nr.push(t)&&!qo.__r++||by!==le.debounceRendering)&&((by=le.debounceRendering)||QC)(qo)}function qo(){var t,e,i,a,l,o,c,f;for(nr.sort(function(g,p){return g.__v.__b-p.__v.__b});t=nr.shift();)t.__d&&(e=nr.length,a=void 0,l=void 0,c=(o=(i=t).__v).__e,(f=i.__P)&&(a=[],(l=Si({},o)).__v=o.__v+1,lh(f,o,l,i.__n,f.ownerSVGElement!==void 0,o.__h!=null?[c]:null,a,c??Ns(o),o.__h),T0(a,o),o.__e!=c&&_0(o)),nr.length>e&&nr.sort(function(g,p){return g.__v.__b-p.__v.__b}));qo.__r=0}function S0(t,e,i,a,l,o,c,f,g,p){var m,y,b,_,w,A,T,D=a&&a.__k||y0,k=D.length;for(i.__k=[],m=0;m<e.length;m++)if((_=i.__k[m]=(_=e[m])==null||typeof _=="boolean"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?xo(null,_,null,null,_):Array.isArray(_)?xo(Ke,{children:_},null,null,null):_.__b>0?xo(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)!=null){if(_.__=i,_.__b=i.__b+1,(b=D[m])===null||b&&_.key==b.key&&_.type===b.type)D[m]=void 0;else for(y=0;y<k;y++){if((b=D[y])&&_.key==b.key&&_.type===b.type){D[y]=void 0;break}b=null}lh(t,_,b=b||Ho,l,o,c,f,g,p),w=_.__e,(y=_.ref)&&b.ref!=y&&(T||(T=[]),b.ref&&T.push(b.ref,null,_),T.push(y,_.__c||w,_)),w!=null?(A==null&&(A=w),typeof _.type=="function"&&_.__k===b.__k?_.__d=g=E0(_,g,t):g=w0(t,_,b,D,w,g),typeof i.type=="function"&&(i.__d=g)):g&&b.__e==g&&g.parentNode!=t&&(g=Ns(b))}for(i.__e=A,m=k;m--;)D[m]!=null&&(typeof i.type=="function"&&D[m].__e!=null&&D[m].__e==i.__d&&(i.__d=A0(a).nextSibling),C0(D[m],D[m]));if(T)for(m=0;m<T.length;m++)R0(T[m],T[++m],T[++m])}function E0(t,e,i){for(var a,l=t.__k,o=0;l&&o<l.length;o++)(a=l[o])&&(a.__=t,e=typeof a.type=="function"?E0(a,e,i):w0(i,a,a,l,a.__e,e));return e}function Po(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(i){Po(i,e)}):e.push(t)),e}function w0(t,e,i,a,l,o){var c,f,g;if(e.__d!==void 0)c=e.__d,e.__d=void 0;else if(i==null||l!=o||l.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(l),c=null;else{for(f=o,g=0;(f=f.nextSibling)&&g<a.length;g+=1)if(f==l)break e;t.insertBefore(l,o),c=o}return c!==void 0?c:l.nextSibling}function A0(t){var e,i,a;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((i=t.__k[e])&&(a=A0(i)))return a}return null}function lh(t,e,i,a,l,o,c,f,g){var p,m,y,b,_,w,A,T,D,k,N,Z,ee,I,F,K=e.type;if(e.constructor!==void 0)return null;i.__h!=null&&(g=i.__h,f=e.__e=i.__e,e.__h=null,o=[f]),(p=le.__b)&&p(e);try{e:if(typeof K=="function"){if(T=e.props,D=(p=K.contextType)&&a[p.__c],k=p?D?D.props.value:p.__:a,i.__c?A=(m=e.__c=i.__c).__=m.__E:("prototype"in K&&K.prototype.render?e.__c=m=new K(T,k):(e.__c=m=new Yt(T,k),m.constructor=K,m.render=ZC),D&&D.sub(m),m.props=T,m.state||(m.state={}),m.context=k,m.__n=a,y=m.__d=!0,m.__h=[],m._sb=[]),m.__s==null&&(m.__s=m.state),K.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Si({},m.__s)),Si(m.__s,K.getDerivedStateFromProps(T,m.__s))),b=m.props,_=m.state,m.__v=e,y)K.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(K.getDerivedStateFromProps==null&&T!==b&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(T,k),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(T,m.__s,k)===!1||e.__v===i.__v){for(e.__v!==i.__v&&(m.props=T,m.state=m.__s,m.__d=!1),e.__e=i.__e,e.__k=i.__k,e.__k.forEach(function(fe){fe&&(fe.__=e)}),N=0;N<m._sb.length;N++)m.__h.push(m._sb[N]);m._sb=[],m.__h.length&&c.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(T,m.__s,k),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(b,_,w)})}if(m.context=k,m.props=T,m.__P=t,Z=le.__r,ee=0,"prototype"in K&&K.prototype.render){for(m.state=m.__s,m.__d=!1,Z&&Z(e),p=m.render(m.props,m.state,m.context),I=0;I<m._sb.length;I++)m.__h.push(m._sb[I]);m._sb=[]}else do m.__d=!1,Z&&Z(e),p=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++ee<25);m.state=m.__s,m.getChildContext!=null&&(a=Si(Si({},a),m.getChildContext())),y||m.getSnapshotBeforeUpdate==null||(w=m.getSnapshotBeforeUpdate(b,_)),F=p!=null&&p.type===Ke&&p.key==null?p.props.children:p,S0(t,Array.isArray(F)?F:[F],e,i,a,l,o,c,f,g),m.base=e.__e,e.__h=null,m.__h.length&&c.push(m),A&&(m.__E=m.__=null),m.__e=!1}else o==null&&e.__v===i.__v?(e.__k=i.__k,e.__e=i.__e):e.__e=FC(i.__e,e,i,a,l,o,c,g);(p=le.diffed)&&p(e)}catch(fe){e.__v=null,(g||o!=null)&&(e.__e=f,e.__h=!!g,o[o.indexOf(f)]=null),le.__e(fe,e,i)}}function T0(t,e){le.__c&&le.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){le.__e(a,i.__v)}})}function FC(t,e,i,a,l,o,c,f){var g,p,m,y=i.props,b=e.props,_=e.type,w=0;if(_==="svg"&&(l=!0),o!=null){for(;w<o.length;w++)if((g=o[w])&&"setAttribute"in g==!!_&&(_?g.localName===_:g.nodeType===3)){t=g,o[w]=null;break}}if(t==null){if(_===null)return document.createTextNode(b);t=l?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,b.is&&b),o=null,f=!1}if(_===null)y===b||f&&t.data===b||(t.data=b);else{if(o=o&&ru.call(t.childNodes),p=(y=i.props||Ho).dangerouslySetInnerHTML,m=b.dangerouslySetInnerHTML,!f){if(o!=null)for(y={},w=0;w<t.attributes.length;w++)y[t.attributes[w].name]=t.attributes[w].value;(m||p)&&(m&&(p&&m.__html==p.__html||m.__html===t.innerHTML)||(t.innerHTML=m&&m.__html||""))}if(WC(t,b,y,l,f),m)e.__k=[];else if(w=e.props.children,S0(t,Array.isArray(w)?w:[w],e,i,a,l&&_!=="foreignObject",o,c,o?o[0]:i.__k&&Ns(i,0),f),o!=null)for(w=o.length;w--;)o[w]!=null&&b0(o[w]);f||("value"in b&&(w=b.value)!==void 0&&(w!==t.value||_==="progress"&&!w||_==="option"&&w!==y.value)&&Lo(t,"value",w,y.value,!1),"checked"in b&&(w=b.checked)!==void 0&&w!==t.checked&&Lo(t,"checked",w,y.checked,!1))}return t}function R0(t,e,i){try{typeof t=="function"?t(e):t.current=e}catch(a){le.__e(a,i)}}function C0(t,e,i){var a,l;if(le.unmount&&le.unmount(t),(a=t.ref)&&(a.current&&a.current!==t.__e||R0(a,null,e)),(a=t.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(o){le.__e(o,e)}a.base=a.__P=null,t.__c=void 0}if(a=t.__k)for(l=0;l<a.length;l++)a[l]&&C0(a[l],e,i||typeof t.type!="function");i||t.__e==null||b0(t.__e),t.__=t.__e=t.__d=void 0}function ZC(t,e,i){return this.constructor(t,i)}function Us(t,e,i){var a,l,o;le.__&&le.__(t,e),l=(a=!1)?null:e.__k,o=[],lh(e,t=e.__k=q(Ke,null,[t]),l||Ho,Ho,e.ownerSVGElement!==void 0,l?null:e.firstChild?ru.call(e.childNodes):null,o,l?l.__e:e.firstChild,a),T0(o,t)}function KC(t,e){var i={__c:e="__cC"+v0++,__:t,Consumer:function(a,l){return a.children(l)},Provider:function(a){var l,o;return this.getChildContext||(l=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&l.some(function(f){f.__e=!0,zf(f)})},this.sub=function(c){l.push(c);var f=c.componentWillUnmount;c.componentWillUnmount=function(){l.splice(l.indexOf(c),1),f&&f.call(c)}}),a.children}};return i.Provider.__=i.Consumer.contextType=i}ru=y0.slice,le={__e:function(t,e,i,a){for(var l,o,c;e=e.__;)if((l=e.__c)&&!l.__)try{if((o=l.constructor)&&o.getDerivedStateFromError!=null&&(l.setState(o.getDerivedStateFromError(t)),c=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,a||{}),c=l.__d),c)return l.__E=l}catch(f){t=f}throw t}},g0=0,p0=function(t){return t!=null&&t.constructor===void 0},ga=!1,Yt.prototype.setState=function(t,e){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Si({},this.state),typeof t=="function"&&(t=t(Si({},i),this.props)),t&&Si(i,t),t!=null&&this.__v&&(e&&this._sb.push(e),zf(this))},Yt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),zf(this))},Yt.prototype.render=Ke,nr=[],m0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,qo.__r=0,v0=0;var _n,Fd,wy,D0=[],Zd=[],Ay=le.__b,Ty=le.__r,Ry=le.diffed,Cy=le.__c,Dy=le.unmount;function XC(){for(var t;t=D0.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Oo),t.__H.__h.forEach(Bf),t.__H.__h=[]}catch(e){t.__H.__h=[],le.__e(e,t.__v)}}le.__b=function(t){_n=null,Ay&&Ay(t)},le.__r=function(t){Ty&&Ty(t);var e=(_n=t.__c).__H;e&&(Fd===_n?(e.__h=[],_n.__h=[],e.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=Zd,i.__N=i.i=void 0})):(e.__h.forEach(Oo),e.__h.forEach(Bf),e.__h=[])),Fd=_n},le.diffed=function(t){Ry&&Ry(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(D0.push(e)!==1&&wy===le.requestAnimationFrame||((wy=le.requestAnimationFrame)||JC)(XC)),e.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==Zd&&(i.__=i.__V),i.i=void 0,i.__V=Zd})),Fd=_n=null},le.__c=function(t,e){e.some(function(i){try{i.__h.forEach(Oo),i.__h=i.__h.filter(function(a){return!a.__||Bf(a)})}catch(a){e.some(function(l){l.__h&&(l.__h=[])}),e=[],le.__e(a,i.__v)}}),Cy&&Cy(t,e)},le.unmount=function(t){Dy&&Dy(t);var e,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(a){try{Oo(a)}catch(l){e=l}}),i.__H=void 0,e&&le.__e(e,i.__v))};var xy=typeof requestAnimationFrame=="function";function JC(t){var e,i=function(){clearTimeout(a),xy&&cancelAnimationFrame(e),setTimeout(t)},a=setTimeout(i,100);xy&&(e=requestAnimationFrame(i))}function Oo(t){var e=_n,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),_n=e}function Bf(t){var e=_n;t.__c=t.__(),_n=e}function eD(t,e){for(var i in e)t[i]=e[i];return t}function Oy(t,e){for(var i in t)if(i!=="__source"&&!(i in e))return!0;for(var a in e)if(a!=="__source"&&t[a]!==e[a])return!0;return!1}function ky(t){this.props=t}(ky.prototype=new Yt).isPureReactComponent=!0,ky.prototype.shouldComponentUpdate=function(t,e){return Oy(this.props,t)||Oy(this.state,e)};var My=le.__b;le.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),My&&My(t)};var tD=le.__e;le.__e=function(t,e,i,a){if(t.then){for(var l,o=e;o=o.__;)if((l=o.__c)&&l.__c)return e.__e==null&&(e.__e=i.__e,e.__k=i.__k),l.__c(t,e)}tD(t,e,i,a)};var jy=le.unmount;function x0(t,e,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(a){typeof a.__c=="function"&&a.__c()}),t.__c.__H=null),(t=eD({},t)).__c!=null&&(t.__c.__P===i&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(a){return x0(a,e,i)})),t}function O0(t,e,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(a){return O0(a,e,i)}),t.__c&&t.__c.__P===e&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}function Kd(){this.__u=0,this.t=null,this.__b=null}function k0(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function go(){this.u=null,this.o=null}le.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),jy&&jy(t)},(Kd.prototype=new Yt).__c=function(t,e){var i=e.__c,a=this;a.t==null&&(a.t=[]),a.t.push(i);var l=k0(a.__v),o=!1,c=function(){o||(o=!0,i.__R=null,l?l(f):f())};i.__R=c;var f=function(){if(!--a.__u){if(a.state.__a){var p=a.state.__a;a.__v.__k[0]=O0(p,p.__c.__P,p.__c.__O)}var m;for(a.setState({__a:a.__b=null});m=a.t.pop();)m.forceUpdate()}},g=e.__h===!0;a.__u++||g||a.setState({__a:a.__b=a.__v.__k[0]}),t.then(c,c)},Kd.prototype.componentWillUnmount=function(){this.t=[]},Kd.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=x0(this.__b,i,a.__O=a.__P)}this.__b=null}var l=e.__a&&q(Ke,null,t.fallback);return l&&(l.__h=null),[q(Ke,null,e.__a?null:t.children),l]};var Ny=function(t,e,i){if(++i[1]===i[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(i=t.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.u=i=i[2]}};function nD(t){return this.getChildContext=function(){return t.context},t.children}function iD(t){var e=this,i=t.i;e.componentWillUnmount=function(){Us(null,e.l),e.l=null,e.i=null},e.i&&e.i!==i&&e.componentWillUnmount(),t.__v?(e.l||(e.i=i,e.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(a){this.childNodes.push(a),e.i.appendChild(a)},insertBefore:function(a,l){this.childNodes.push(a),e.i.appendChild(a)},removeChild:function(a){this.childNodes.splice(this.childNodes.indexOf(a)>>>1,1),e.i.removeChild(a)}}),Us(q(nD,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function rD(t,e){var i=q(iD,{__v:t,i:e});return i.containerInfo=e,i}(go.prototype=new Yt).__a=function(t){var e=this,i=k0(e.__v),a=e.o.get(t);return a[0]++,function(l){var o=function(){e.props.revealOrder?(a.push(l),Ny(e,t,a)):l()};i?i(o):o()}},go.prototype.render=function(t){this.u=null,this.o=new Map;var e=Po(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var i=e.length;i--;)this.o.set(e[i],this.u=[1,0,this.u]);return t.children},go.prototype.componentDidUpdate=go.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,i){Ny(t,i,e)})};var aD=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,sD=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,lD=typeof document<"u",oD=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Yt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Yt.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Uy=le.event;function uD(){}function cD(){return this.cancelBubble}function dD(){return this.defaultPrevented}le.event=function(t){return Uy&&(t=Uy(t)),t.persist=uD,t.isPropagationStopped=cD,t.isDefaultPrevented=dD,t.nativeEvent=t};var zy={configurable:!0,get:function(){return this.class}},By=le.vnode;le.vnode=function(t){var e=t.type,i=t.props,a=i;if(typeof e=="string"){var l=e.indexOf("-")===-1;for(var o in a={},i){var c=i[o];lD&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in i&&c==null||(o==="defaultValue"&&"value"in i&&i.value==null?o="value":o==="download"&&c===!0?c="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!oD(i.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():l&&sD.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():c===null&&(c=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),a[o]&&(o="oninputCapture")),a[o]=c)}e=="select"&&a.multiple&&Array.isArray(a.value)&&(a.value=Po(i.children).forEach(function(f){f.props.selected=a.value.indexOf(f.props.value)!=-1})),e=="select"&&a.defaultValue!=null&&(a.value=Po(i.children).forEach(function(f){f.props.selected=a.multiple?a.defaultValue.indexOf(f.props.value)!=-1:a.defaultValue==f.props.value})),t.props=a,i.class!=i.className&&(zy.enumerable="className"in i,i.className!=null&&(a.class=i.className),Object.defineProperty(a,"className",zy))}t.$$typeof=aD,By&&By(t)};var Iy=le.__r;le.__r=function(t){Iy&&Iy(t),t.__c};const M0=[],If=new Map;function j0(t){M0.push(t),If.forEach(e=>{U0(e,t)})}function fD(t){t.isConnected&&t.getRootNode&&N0(t.getRootNode())}function N0(t){let e=If.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const i=gD();i&&(e.nonce=i);const a=t===document?document.head:t,l=t===document?a.querySelector("script,link[rel=stylesheet],link[as=style],style"):a.firstChild;a.insertBefore(e,l)}If.set(t,e),hD(e)}}function hD(t){for(const e of M0)U0(t,e)}function U0(t,e){const{sheet:i}=t,a=i.cssRules.length;e.split("}").forEach((l,o)=>{l=l.trim(),l&&i.insertRule(l+"}",a+o)})}let Xd;function gD(){return Xd===void 0&&(Xd=pD()),Xd}function pD(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&N0(document);var mD=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';j0(mD);class oh{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:i}=this;i[e]=(i[e]||0)+1,this.clearTimeout()}resume(e="",i){let{pauseDepths:a}=this;e in a&&(i?delete a[e]:(a[e]-=1,a[e]<=0&&delete a[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function uh(t){t.parentNode&&t.parentNode.removeChild(t)}function wt(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(vD(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function vD(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function yD(t,e){let i=t instanceof HTMLElement?[t]:t,a=[];for(let l=0;l<i.length;l+=1){let o=i[l].querySelectorAll(e);for(let c=0;c<o.length;c+=1)a.push(o[c])}return a}const bD=/(top|left|right|bottom|width|height)$/i;function Ss(t,e){for(let i in e)z0(t,i,e[i])}function z0(t,e,i){i==null?t.style[e]="":typeof i=="number"&&bD.test(e)?t.style[e]=`${i}px`:t.style[e]=i}function B0(t){var e,i;return(i=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&i!==void 0?i:t.target}let Hy=0;function au(){return Hy+=1,"fc-dom-"+Hy}function su(t){t.preventDefault()}function _D(t,e){return i=>{let a=wt(i.target,t);a&&e.call(a,i,a)}}function I0(t,e,i,a){let l=_D(i,a);return t.addEventListener(e,l),()=>{t.removeEventListener(e,l)}}function SD(t,e,i,a){let l;return I0(t,"mouseover",e,(o,c)=>{if(c!==l){l=c,i(o,c);let f=g=>{l=null,a(g,c),c.removeEventListener("mouseleave",f)};c.addEventListener("mouseleave",f)}})}const Ly=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function ED(t,e){let i=a=>{e(a),Ly.forEach(l=>{t.removeEventListener(l,i)})};Ly.forEach(a=>{t.addEventListener(a,i)})}function H0(t){return Object.assign({onClick:t},L0(t))}function L0(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let qy=0;function ur(){return qy+=1,String(qy)}function ch(){document.body.classList.add("fc-not-allowed")}function dh(){document.body.classList.remove("fc-not-allowed")}function wD(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",su)}function AD(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",su)}function TD(t){t.addEventListener("contextmenu",su)}function RD(t){t.removeEventListener("contextmenu",su)}function CD(t){let e=[],i=[],a,l;for(typeof t=="string"?i=t.split(/\s*,\s*/):typeof t=="function"?i=[t]:Array.isArray(t)&&(i=t),a=0;a<i.length;a+=1)l=i[a],typeof l=="string"?e.push(l.charAt(0)==="-"?{field:l.substring(1),order:-1}:{field:l,order:1}):typeof l=="function"&&e.push({func:l});return e}function DD(t,e,i){let a,l;for(a=0;a<i.length;a+=1)if(l=xD(t,e,i[a]),l)return l;return 0}function xD(t,e,i){return i.func?i.func(t,e):OD(t[i.field],e[i.field])*(i.order||1)}function OD(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Jd(t,e){let i=String(t);return"000".substr(0,e-i.length)+i}function Es(t,e,i){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((a,l,o)=>a.replace("$"+o,l||""),t):i}function kD(t,e){return t-e}function ef(t){return t%1===0}function MD(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),i=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!i)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+i.getBoundingClientRect().width}const jD=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function De(t,e){return typeof t=="string"?ND(t):typeof t=="object"&&t?Py(t):typeof t=="number"?Py({[e||"milliseconds"]:t}):null}function ND(t){let e=jD.exec(t);if(e){let i=e[1]?-1:1;return{years:0,months:0,days:i*(e[2]?parseInt(e[2],10):0),milliseconds:i*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Py(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},i=t.weeks||t.week;return i&&(e.days+=i*7,e.specifiedWeeks=!0),e}function UD(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function zD(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function BD(t){return fa(t)/365}function ID(t){return fa(t)/30}function fa(t){return zs(t)/864e5}function zs(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Hf(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Ti(t,e,i){if(t===e)return!0;let a=t.length,l;if(a!==e.length)return!1;for(l=0;l<a;l+=1)if(!(i?i(t[l],e[l]):t[l]===e[l]))return!1;return!0}const HD=["sun","mon","tue","wed","thu","fri","sat"];function Vy(t,e){let i=Ei(t);return i[2]+=e*7,Mt(i)}function ht(t,e){let i=Ei(t);return i[2]+=e,Mt(i)}function Ri(t,e){let i=Ei(t);return i[6]+=e,Mt(i)}function LD(t,e){return _a(t,e)/7}function _a(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function qD(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function PD(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function VD(t,e){return(e.valueOf()-t.valueOf())/1e3}function GD(t,e){let i=Pe(t),a=Pe(e);return{years:0,months:0,days:Math.round(_a(i,a)),milliseconds:e.valueOf()-a.valueOf()-(t.valueOf()-i.valueOf())}}function $D(t,e){let i=Vo(t,e);return i!==null&&i%7===0?i/7:null}function Vo(t,e){return wi(t)===wi(e)?Math.round(_a(t,e)):null}function Pe(t){return Mt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function YD(t){return Mt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function WD(t){return Mt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function QD(t){return Mt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function FD(t,e,i){let a=t.getUTCFullYear(),l=tf(t,a,e,i);if(l<1)return tf(t,a-1,e,i);let o=tf(t,a+1,e,i);return o>=1?Math.min(l,o):l}function tf(t,e,i,a){let l=Mt([e,0,1+ZD(e,i,a)]),o=Pe(t),c=Math.round(_a(l,o));return Math.floor(c/7)+1}function ZD(t,e,i){let a=7+e-i;return-((7+Mt([t,0,a]).getUTCDay()-e)%7)+a-1}function Gy(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function $y(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Ei(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Mt(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function q0(t){return!isNaN(t.valueOf())}function wi(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function KD(t,e,i=!1){let a=t.toISOString();return a=a.replace(".000",""),i&&(a=a.replace("T00:00:00Z","")),a.length>10&&(e==null?a=a.replace("Z",""):e!==0&&(a=a.replace("Z",hh(e,!0)))),a}function fh(t){return t.toISOString().replace(/T.*$/,"")}function XD(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function hh(t,e=!1){let i=t<0?"-":"+",a=Math.abs(t),l=Math.floor(a/60),o=Math.round(a%60);return e?`${i+Jd(l,2)}:${Jd(o,2)}`:`GMT${i}${l}${o?`:${Jd(o,2)}`:""}`}function Re(t,e,i){let a,l;return function(...o){if(!a)l=t.apply(this,o);else if(!Ti(a,o)){let c=t.apply(this,o);(!e||!e(c,l))&&(l=c)}return a=o,l}}function ko(t,e,i){let a,l;return o=>(a?gn(a,o)||(l=t.call(this,o)):l=t.call(this,o),a=o,l)}const nf={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Go={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},po=/\s*([ap])\.?m\.?/i,JD=/,/g,e1=/\s+/g,t1=/\u200e/g,n1=/UTC|GMT/;class i1{constructor(e){let i={},a={},l=9;for(let o in e)o in nf?(a[o]=e[o],nf[o]<9&&(l=Math.min(nf[o],l))):(i[o]=e[o],o in Go&&(l=Math.min(Go[o],l)));this.standardDateProps=i,this.extendedSettings=a,this.smallestUnitNum=l,this.buildFormattingFunc=Re(Yy)}format(e,i){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,i)(e)}formatRange(e,i,a,l){let{standardDateProps:o,extendedSettings:c}=this,f=u1(e.marker,i.marker,a.calendarSystem);if(!f)return this.format(e,a);let g=f;g>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(g=1);let p=this.format(e,a),m=this.format(i,a);if(p===m)return p;let y=c1(o,g),b=Yy(y,c,a),_=b(e),w=b(i),A=d1(p,_,m,w),T=c.separator||l||a.defaultSeparator||"";return A?A.before+_+T+w+A.after:p+T+m}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Yy(t,e,i){let a=Object.keys(t).length;return a===1&&t.timeZoneName==="short"?l=>hh(l.timeZoneOffset):a===0&&e.week?l=>o1(i.computeWeekNumber(l.marker),i.weekText,i.weekTextLong,i.locale,e.week):r1(t,e,i)}function r1(t,e,i){t=Object.assign({},t),e=Object.assign({},e),a1(t,e),t.timeZone="UTC";let a=new Intl.DateTimeFormat(i.locale.codes,t),l;if(e.omitZeroMinute){let o=Object.assign({},t);delete o.minute,l=new Intl.DateTimeFormat(i.locale.codes,o)}return o=>{let{marker:c}=o,f;l&&!c.getUTCMinutes()?f=l:f=a;let g=f.format(c);return s1(g,o,t,e,i)}}function a1(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function s1(t,e,i,a,l){return t=t.replace(t1,""),i.timeZoneName==="short"&&(t=l1(t,l.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":hh(e.timeZoneOffset))),a.omitCommas&&(t=t.replace(JD,"").trim()),a.omitZeroMinute&&(t=t.replace(":00","")),a.meridiem===!1?t=t.replace(po,"").trim():a.meridiem==="narrow"?t=t.replace(po,(o,c)=>c.toLocaleLowerCase()):a.meridiem==="short"?t=t.replace(po,(o,c)=>`${c.toLocaleLowerCase()}m`):a.meridiem==="lowercase"&&(t=t.replace(po,o=>o.toLocaleLowerCase())),t=t.replace(e1," "),t=t.trim(),t}function l1(t,e){let i=!1;return t=t.replace(n1,()=>(i=!0,e)),i||(t+=` ${e}`),t}function o1(t,e,i,a,l){let o=[];return l==="long"?o.push(i):(l==="short"||l==="narrow")&&o.push(e),(l==="long"||l==="short")&&o.push(" "),o.push(a.simpleNumberFormat.format(t)),a.options.direction==="rtl"&&o.reverse(),o.join("")}function u1(t,e,i){return i.getMarkerYear(t)!==i.getMarkerYear(e)?5:i.getMarkerMonth(t)!==i.getMarkerMonth(e)?4:i.getMarkerDay(t)!==i.getMarkerDay(e)?2:wi(t)!==wi(e)?1:0}function c1(t,e){let i={};for(let a in t)(!(a in Go)||Go[a]<=e)&&(i[a]=t[a]);return i}function d1(t,e,i,a){let l=0;for(;l<t.length;){let o=t.indexOf(e,l);if(o===-1)break;let c=t.substr(0,o);l=o+e.length;let f=t.substr(l),g=0;for(;g<i.length;){let p=i.indexOf(a,g);if(p===-1)break;let m=i.substr(0,p);g=p+a.length;let y=i.substr(g);if(c===m&&f===y)return{before:c,after:f}}}return null}function Wy(t,e){let i=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:i,year:i[0],month:i[1],day:i[2],hour:i[3],minute:i[4],second:i[5],millisecond:i[6]}}function $o(t,e,i,a){let l=Wy(t,i.calendarSystem),o=e?Wy(e,i.calendarSystem):null;return{date:l,start:l,end:o,timeZone:i.timeZone,localeCodes:i.locale.codes,defaultSeparator:a||i.defaultSeparator}}class f1{constructor(e){this.cmdStr=e}format(e,i,a){return i.cmdFormatter(this.cmdStr,$o(e,null,i,a))}formatRange(e,i,a,l){return a.cmdFormatter(this.cmdStr,$o(e,i,a,l))}}class h1{constructor(e){this.func=e}format(e,i,a){return this.func($o(e,null,i,a))}formatRange(e,i,a,l){return this.func($o(e,i,a,l))}}function ft(t){return typeof t=="object"&&t?new i1(t):typeof t=="string"?new f1(t):typeof t=="function"?new h1(t):null}const Qy={navLinkDayClick:H,navLinkWeekClick:H,duration:De,bootstrapFontAwesome:H,buttonIcons:H,customButtons:H,defaultAllDayEventDuration:De,defaultTimedEventDuration:De,nextDayThreshold:De,scrollTime:De,scrollTimeReset:Boolean,slotMinTime:De,slotMaxTime:De,dayPopoverFormat:ft,slotDuration:De,snapDuration:De,headerToolbar:H,footerToolbar:H,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ft,dayHeaderClassNames:H,dayHeaderContent:H,dayHeaderDidMount:H,dayHeaderWillUnmount:H,dayCellClassNames:H,dayCellContent:H,dayCellDidMount:H,dayCellWillUnmount:H,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:H,weekNumbers:Boolean,weekNumberClassNames:H,weekNumberContent:H,weekNumberDidMount:H,weekNumberWillUnmount:H,editable:Boolean,viewClassNames:H,viewDidMount:H,viewWillUnmount:H,nowIndicator:Boolean,nowIndicatorSnap:H,nowIndicatorClassNames:H,nowIndicatorContent:H,nowIndicatorDidMount:H,nowIndicatorWillUnmount:H,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:H,locale:H,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:H,eventOrder:CD,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:H,contentHeight:H,direction:String,weekNumberFormat:ft,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:H,initialDate:H,now:H,eventDataTransform:H,stickyHeaderDates:H,stickyFooterScrollbar:H,viewHeight:H,defaultAllDay:Boolean,eventSourceFailure:H,eventSourceSuccess:H,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:H,eventConstraint:H,eventAllow:H,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:H,eventContent:H,eventDidMount:H,eventWillUnmount:H,selectConstraint:H,selectOverlap:H,selectAllow:H,droppable:Boolean,unselectCancel:String,slotLabelFormat:H,slotLaneClassNames:H,slotLaneContent:H,slotLaneDidMount:H,slotLaneWillUnmount:H,slotLabelClassNames:H,slotLabelContent:H,slotLabelDidMount:H,slotLabelWillUnmount:H,dayMaxEvents:H,dayMaxEventRows:H,dayMinWidth:Number,slotLabelInterval:De,allDayText:String,allDayClassNames:H,allDayContent:H,allDayDidMount:H,allDayWillUnmount:H,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ft,rerenderDelay:Number,moreLinkText:H,moreLinkHint:H,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:H,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:De,hiddenDays:H,fixedWeekCount:Boolean,validRange:H,visibleRange:H,titleFormat:H,eventInteractive:Boolean,noEventsText:String,viewHint:H,navLinkHint:H,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:H,moreLinkClassNames:H,moreLinkContent:H,moreLinkDidMount:H,moreLinkWillUnmount:H,monthStartFormat:ft,handleCustomRendering:H,customRenderingMetaMap:H,customRenderingReplaces:Boolean},ws={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},Fy={datesSet:H,eventsSet:H,eventAdd:H,eventChange:H,eventRemove:H,windowResize:H,eventClick:H,eventMouseEnter:H,eventMouseLeave:H,select:H,unselect:H,loading:H,_unmount:H,_beforeprint:H,_afterprint:H,_noEventDrop:H,_noEventResize:H,_resize:H,_scrollRequest:H},Zy={buttonText:H,buttonHints:H,views:H,plugins:H,initialEvents:H,events:H,eventSources:H},Xi={headerToolbar:Ji,footerToolbar:Ji,buttonText:Ji,buttonHints:Ji,buttonIcons:Ji,dateIncrement:Ji,plugins:mo,events:mo,eventSources:mo,resources:mo};function Ji(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?gn(t,e):t===e}function mo(t,e){return Array.isArray(t)&&Array.isArray(e)?Ti(t,e):t===e}const g1={type:String,component:H,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:H,usesMinMaxTime:Boolean,classNames:H,content:H,didMount:H,willUnmount:H};function rf(t){return ph(t,Xi)}function gh(t,e){let i={},a={};for(let l in e)l in t&&(i[l]=e[l](t[l]));for(let l in t)l in e||(a[l]=t[l]);return{refined:i,extra:a}}function H(t){return t}const{hasOwnProperty:Yo}=Object.prototype;function ph(t,e){let i={};if(e){for(let a in e)if(e[a]===Ji){let l=[];for(let o=t.length-1;o>=0;o-=1){let c=t[o][a];if(typeof c=="object"&&c)l.unshift(c);else if(c!==void 0){i[a]=c;break}}l.length&&(i[a]=ph(l))}}for(let a=t.length-1;a>=0;a-=1){let l=t[a];for(let o in l)o in i||(i[o]=l[o])}return i}function sr(t,e){let i={};for(let a in t)e(t[a],a)&&(i[a]=t[a]);return i}function cr(t,e){let i={};for(let a in t)i[a]=e(t[a],a);return i}function P0(t){let e={};for(let i of t)e[i]=!0;return e}function mh(t){let e=[];for(let i in t)e.push(t[i]);return e}function gn(t,e){if(t===e)return!0;for(let i in t)if(Yo.call(t,i)&&!(i in e))return!1;for(let i in e)if(Yo.call(e,i)&&t[i]!==e[i])return!1;return!0}const p1=/^on[A-Z]/;function m1(t,e){const i=v1(t,e);for(let a of i)if(!p1.test(a))return!1;return!0}function v1(t,e){let i=[];for(let a in t)Yo.call(t,a)&&(a in e||i.push(a));for(let a in e)Yo.call(e,a)&&t[a]!==e[a]&&i.push(a);return i}function af(t,e,i={}){if(t===e)return!0;for(let a in e)if(!(a in t&&y1(t[a],e[a],i[a])))return!1;for(let a in t)if(!(a in e))return!1;return!0}function y1(t,e,i){return t===e||i===!0?!0:i?i(t,e):!1}function b1(t,e=0,i,a=1){let l=[];i==null&&(i=Object.keys(t).length);for(let o=e;o<i;o+=a){let c=t[o];c!==void 0&&l.push(c)}return l}let V0={};function _1(t,e){V0[t]=e}function S1(t){return new V0[t]}class E1{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Mt(e)}markerToArray(e){return Ei(e)}}_1("gregory",E1);const w1=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function A1(t){let e=w1.exec(t);if(e){let i=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(q0(i)){let a=null;return e[13]&&(a=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:i,isTimeUnspecified:!e[6],timeZoneOffset:a}}}return null}class T1{constructor(e){let i=this.timeZone=e.timeZone,a=i!=="local"&&i!=="UTC";e.namedTimeZoneImpl&&a&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(i)),this.canComputeOffset=!!(!a||this.namedTimeZoneImpl),this.calendarSystem=S1(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let i=this.createMarkerMeta(e);return i===null?null:i.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Mt(Gy(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let i=null;return typeof e=="number"?i=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(i=this.timestampToMarker(e))):Array.isArray(e)&&(i=Mt(e)),i===null||!q0(i)?null:{marker:i,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let i=A1(e);if(i===null)return null;let{marker:a}=i,l=null;return i.timeZoneOffset!==null&&(this.canComputeOffset?a=this.timestampToMarker(a.valueOf()-i.timeZoneOffset*60*1e3):l=i.timeZoneOffset),{marker:a,isTimeUnspecified:i.isTimeUnspecified,forcedTzo:l}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,i){let a=this.calendarSystem.markerToArray(e);return a[0]+=i.years,a[1]+=i.months,a[2]+=i.days,a[6]+=i.milliseconds,this.calendarSystem.arrayToMarker(a)}subtract(e,i){let a=this.calendarSystem.markerToArray(e);return a[0]-=i.years,a[1]-=i.months,a[2]-=i.days,a[6]-=i.milliseconds,this.calendarSystem.arrayToMarker(a)}addYears(e,i){let a=this.calendarSystem.markerToArray(e);return a[0]+=i,this.calendarSystem.arrayToMarker(a)}addMonths(e,i){let a=this.calendarSystem.markerToArray(e);return a[1]+=i,this.calendarSystem.arrayToMarker(a)}diffWholeYears(e,i){let{calendarSystem:a}=this;return wi(e)===wi(i)&&a.getMarkerDay(e)===a.getMarkerDay(i)&&a.getMarkerMonth(e)===a.getMarkerMonth(i)?a.getMarkerYear(i)-a.getMarkerYear(e):null}diffWholeMonths(e,i){let{calendarSystem:a}=this;return wi(e)===wi(i)&&a.getMarkerDay(e)===a.getMarkerDay(i)?a.getMarkerMonth(i)-a.getMarkerMonth(e)+(a.getMarkerYear(i)-a.getMarkerYear(e))*12:null}greatestWholeUnit(e,i){let a=this.diffWholeYears(e,i);return a!==null?{unit:"year",value:a}:(a=this.diffWholeMonths(e,i),a!==null?{unit:"month",value:a}:(a=$D(e,i),a!==null?{unit:"week",value:a}:(a=Vo(e,i),a!==null?{unit:"day",value:a}:(a=qD(e,i),ef(a)?{unit:"hour",value:a}:(a=PD(e,i),ef(a)?{unit:"minute",value:a}:(a=VD(e,i),ef(a)?{unit:"second",value:a}:{unit:"millisecond",value:i.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,i,a){let l;return a.years&&(l=this.diffWholeYears(e,i),l!==null)?l/BD(a):a.months&&(l=this.diffWholeMonths(e,i),l!==null)?l/ID(a):a.days&&(l=Vo(e,i),l!==null)?l/fa(a):(i.valueOf()-e.valueOf())/zs(a)}startOf(e,i){return i==="year"?this.startOfYear(e):i==="month"?this.startOfMonth(e):i==="week"?this.startOfWeek(e):i==="day"?Pe(e):i==="hour"?YD(e):i==="minute"?WD(e):i==="second"?QD(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):FD(e,this.weekDow,this.weekDoy)}format(e,i,a={}){return i.format({marker:e,timeZoneOffset:a.forcedTzo!=null?a.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,i,a,l={}){return l.isEndExclusive&&(i=Ri(i,-1)),a.formatRange({marker:e,timeZoneOffset:l.forcedStartTzo!=null?l.forcedStartTzo:this.offsetForMarker(e)},{marker:i,timeZoneOffset:l.forcedEndTzo!=null?l.forcedEndTzo:this.offsetForMarker(i)},this,l.defaultSeparator)}formatIso(e,i={}){let a=null;return i.omitTimeZoneOffset||(i.forcedTzo!=null?a=i.forcedTzo:a=this.offsetForMarker(e)),KD(e,a,i.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Mt(Gy(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Mt(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-$y(Ei(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ei(e)):null}toDate(e,i){return this.timeZone==="local"?$y(Ei(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ei(e))*1e3*60):new Date(e.valueOf()-(i||0))}}class Ps{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let i,a;if(typeof e=="object"&&e){i=Object.assign({},this.iconClasses);for(a in e)i[a]=this.applyIconOverridePrefix(e[a]);this.iconClasses=i}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let i=this.iconOverridePrefix;return i&&e.indexOf(i)!==0&&(e=i+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,i){let a;return i&&this.rtlIconClasses?a=this.rtlIconClasses[e]||this.iconClasses[e]:a=this.iconClasses[e],a?`${this.baseIconClass} ${a}`:""}getCustomButtonIconClass(e){let i;return this.iconOverrideCustomButtonOption&&(i=e[this.iconOverrideCustomButtonOption],i)?`${this.baseIconClass} ${this.applyIconOverridePrefix(i)}`:""}}Ps.prototype.classes={};Ps.prototype.iconClasses={};Ps.prototype.baseIconClass="";Ps.prototype.iconOverridePrefix="";function Wo(t){t();let e=le.debounceRendering,i=[];function a(l){i.push(l)}for(le.debounceRendering=a,Us(q(R1,{}),document.createElement("div"));i.length;)i.shift()();le.debounceRendering=e}class R1 extends Yt{render(){return q("div",{})}componentDidMount(){this.setState({})}}function G0(t){let e=KC(t),i=e.Provider;return e.Provider=function(){let a=!this.getChildContext,l=i.apply(this,arguments);if(a){let o=[];this.shouldComponentUpdate=c=>{this.props.value!==c.value&&o.forEach(f=>{f.context=c.value,f.forceUpdate()})},this.sub=c=>{o.push(c);let f=c.componentWillUnmount;c.componentWillUnmount=()=>{o.splice(o.indexOf(c),1),f&&f.call(c)}}}return l},e}class C1{constructor(e,i,a,l){this.execFunc=e,this.emitter=i,this.scrollTime=a,this.scrollTimeReset=l,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},i.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const dr=G0({});function D1(t,e,i,a,l,o,c,f,g,p,m,y,b,_){return{dateEnv:l,nowManager:o,options:i,pluginHooks:f,emitter:m,dispatch:g,getCurrentData:p,calendarApi:y,viewSpec:t,viewApi:e,dateProfileGenerator:a,theme:c,isRtl:i.direction==="rtl",addResizeHandler(w){m.on("_resize",w)},removeResizeHandler(w){m.off("_resize",w)},createScrollResponder(w){return new C1(w,m,De(i.scrollTime),i.scrollTimeReset)},registerInteractiveComponent:b,unregisterInteractiveComponent:_}}class fr extends Yt{shouldComponentUpdate(e,i){return!af(this.props,e,this.propEquality)||!af(this.state,i,this.stateEquality)}safeSetState(e){af(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}fr.addPropsEquality=x1;fr.addStateEquality=O1;fr.contextType=dr;fr.prototype.propEquality={};fr.prototype.stateEquality={};class We extends fr{}We.contextType=dr;function x1(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function O1(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Sn(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class vh extends We{constructor(){super(...arguments),this.id=ur(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:i}=this.context,{generatorName:a}=this.props;(!i.customRenderingReplaces||!Lf(a,i))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Sn(this.props.elRef,e)}}render(){const{props:e,context:i}=this,{options:a}=i,{customGenerator:l,defaultGenerator:o,renderProps:c}=e,f=$0(e,[],this.handleEl);let g=!1,p,m=[],y;if(l!=null){const b=typeof l=="function"?l(c,q):l;if(b===!0)g=!0;else{const _=b&&typeof b=="object";_&&"html"in b?f.dangerouslySetInnerHTML={__html:b.html}:_&&"domNodes"in b?m=Array.prototype.slice.call(b.domNodes):(_?p0(b):typeof b!="function")?p=b:y=b}}else g=!Lf(e.generatorName,a);return g&&o&&(p=o(c)),this.queuedDomNodes=m,this.currentGeneratorMeta=y,q(e.elTag,f,p)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var i;const{props:a,context:l}=this,{handleCustomRendering:o,customRenderingMetaMap:c}=l.options;if(o){const f=(i=this.currentGeneratorMeta)!==null&&i!==void 0?i:c?.[a.generatorName];f&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:f},a),{elClasses:(a.elClasses||[]).filter(k1)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:i}=this,a=this.base;if(!Ti(e,i)){i.forEach(uh);for(let l of e)a.appendChild(l);this.currentDomNodes=e}}}vh.addPropsEquality({elClasses:Ti,elStyle:gn,elAttrs:m1,renderProps:gn});function Lf(t,e){var i;return!!(e.handleCustomRendering&&t&&(!((i=e.customRenderingMetaMap)===null||i===void 0)&&i[t]))}function $0(t,e,i){const a=Object.assign(Object.assign({},t.elAttrs),{ref:i});return(t.elClasses||e)&&(a.className=(t.elClasses||[]).concat(e||[]).concat(a.className||[]).filter(Boolean).join(" ")),t.elStyle&&(a.style=t.elStyle),a}function k1(t){return!!t}const Y0=G0(0);class Yn extends Yt{constructor(){super(...arguments),this.InnerContent=M1.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Sn(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,i=j1(e.classNameGenerator,e.renderProps);if(e.children){const a=$0(e,i,this.handleEl),l=e.children(this.InnerContent,e.renderProps,a);return e.elTag?q(e.elTag,a,l):l}else return q(vh,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var e,i;this.el?(i=(e=this.props).didMount)===null||i===void 0||i.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,i;(i=(e=this.props).willUnmount)===null||i===void 0||i.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Yn.contextType=Y0;function M1(t,e){const i=t.props;return q(vh,Object.assign({renderProps:i.renderProps,generatorName:i.generatorName,customGenerator:i.customGenerator,defaultGenerator:i.defaultGenerator,renderId:t.context},e))}function j1(t,e){const i=typeof t=="function"?t(e):t||[];return typeof i=="string"?[i]:i}class Ky extends We{render(){let{props:e,context:i}=this,{options:a}=i,l={view:i.viewApi};return q(Yn,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...W0(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,classNameGenerator:a.viewClassNames,generatorName:void 0,didMount:a.viewDidMount,willUnmount:a.viewWillUnmount},()=>e.children)}}function W0(t){return[`fc-${t.type}-view`,"fc-view"]}function N1(t,e){let i=null,a=null;return t.start&&(i=e.createMarker(t.start)),t.end&&(a=e.createMarker(t.end)),!i&&!a||i&&a&&a<i?null:{start:i,end:a}}function Xy(t,e){let i=[],{start:a}=e,l,o;for(t.sort(U1),l=0;l<t.length;l+=1)o=t[l],o.start>a&&i.push({start:a,end:o.start}),o.end>a&&(a=o.end);return a<e.end&&i.push({start:a,end:e.end}),i}function U1(t,e){return t.start.valueOf()-e.start.valueOf()}function pa(t,e){let{start:i,end:a}=t,l=null;return e.start!==null&&(i===null?i=e.start:i=new Date(Math.max(i.valueOf(),e.start.valueOf()))),e.end!=null&&(a===null?a=e.end:a=new Date(Math.min(a.valueOf(),e.end.valueOf()))),(i===null||a===null||i<a)&&(l={start:i,end:a}),l}function z1(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function yh(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function lu(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Ai(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function B1(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Q0(t){let e=Math.floor(_a(t.start,t.end))||1,i=Pe(t.start),a=ht(i,e);return{start:i,end:a}}function F0(t,e=De(0)){let i=null,a=null;if(t.end){a=Pe(t.end);let l=t.end.valueOf()-a.valueOf();l&&l>=zs(e)&&(a=ht(a,1))}return t.start&&(i=Pe(t.start),a&&a<=i&&(a=ht(i,1))),{start:i,end:a}}function ca(t,e,i,a){return a==="year"?De(i.diffWholeYears(t,e),"year"):a==="month"?De(i.diffWholeMonths(t,e),"month"):GD(t,e)}class Z0{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,i,a){let{dateEnv:l}=this.props,o=l.subtract(l.startOf(i,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,a)}buildNext(e,i,a){let{dateEnv:l}=this.props,o=l.add(l.startOf(i,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,a)}build(e,i,a=!0){let{props:l}=this,o,c,f,g,p,m;return o=this.buildValidRange(),o=this.trimHiddenDays(o),a&&(e=B1(e,o)),c=this.buildCurrentRangeInfo(e,i),f=/^(year|month|week|day)$/.test(c.unit),g=this.buildRenderRange(this.trimHiddenDays(c.range),c.unit,f),g=this.trimHiddenDays(g),p=g,l.showNonCurrentDates||(p=pa(p,c.range)),p=this.adjustActiveRange(p),p=pa(p,o),m=yh(c.range,o),Ai(g,e)||(e=g.start),{currentDate:e,validRange:o,currentRange:c.range,currentRangeUnit:c.unit,isRangeAllDay:f,activeRange:p,renderRange:g,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,isValid:m,dateIncrement:this.buildDateIncrement(c.duration)}}buildValidRange(){let e=this.props.validRangeInput,i=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(i)||{start:null,end:null}}buildCurrentRangeInfo(e,i){let{props:a}=this,l=null,o=null,c=null,f;return a.duration?(l=a.duration,o=a.durationUnit,c=this.buildRangeFromDuration(e,i,l,o)):(f=this.props.dayCount)?(o="day",c=this.buildRangeFromDayCount(e,i,f)):(c=this.buildCustomVisibleRange(e))?o=a.dateEnv.greatestWholeUnit(c.start,c.end).unit:(l=this.getFallbackDuration(),o=Hf(l).unit,c=this.buildRangeFromDuration(e,i,l,o)),{duration:l,unit:o,range:c}}getFallbackDuration(){return De({day:1})}adjustActiveRange(e){let{dateEnv:i,usesMinMaxTime:a,slotMinTime:l,slotMaxTime:o}=this.props,{start:c,end:f}=e;return a&&(fa(l)<0&&(c=Pe(c),c=i.add(c,l)),fa(o)>1&&(f=Pe(f),f=ht(f,-1),f=i.add(f,o))),{start:c,end:f}}buildRangeFromDuration(e,i,a,l){let{dateEnv:o,dateAlignment:c}=this.props,f,g,p;if(!c){let{dateIncrement:y}=this.props;y&&zs(y)<zs(a)?c=Hf(y).unit:c=l}fa(a)<=1&&this.isHiddenDay(f)&&(f=this.skipHiddenDays(f,i),f=Pe(f));function m(){f=o.startOf(e,c),g=o.add(f,a),p={start:f,end:g}}return m(),this.trimHiddenDays(p)||(e=this.skipHiddenDays(e,i),m()),p}buildRangeFromDayCount(e,i,a){let{dateEnv:l,dateAlignment:o}=this.props,c=0,f=e,g;o&&(f=l.startOf(f,o)),f=Pe(f),f=this.skipHiddenDays(f,i),g=f;do g=ht(g,1),this.isHiddenDay(g)||(c+=1);while(c<a);return{start:f,end:g}}buildCustomVisibleRange(e){let{props:i}=this,a=i.visibleRangeInput,l=typeof a=="function"?a.call(i.calendarApi,i.dateEnv.toDate(e)):a,o=this.refineRange(l);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,i,a){return e}buildDateIncrement(e){let{dateIncrement:i}=this.props,a;return i||((a=this.props.dateAlignment)?De(1,a):e||De({days:1}))}refineRange(e){if(e){let i=N1(e,this.props.dateEnv);return i&&(i=F0(i)),i}return null}initHiddenDays(){let e=this.props.hiddenDays||[],i=[],a=0,l;for(this.props.weekends===!1&&e.push(0,6),l=0;l<7;l+=1)(i[l]=e.indexOf(l)!==-1)||(a+=1);if(!a)throw new Error("invalid hiddenDays");this.isHiddenDayHash=i}trimHiddenDays(e){let{start:i,end:a}=e;return i&&(i=this.skipHiddenDays(i)),a&&(a=this.skipHiddenDays(a,-1,!0)),i==null||a==null||i<a?{start:i,end:a}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,i=1,a=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(a?i:0)+7)%7];)e=ht(e,i);return e}}function bh(t,e,i,a){return{instanceId:ur(),defId:t,range:e,forcedStartTzo:i??null,forcedEndTzo:a??null}}function I1(t,e,i,a){for(let l=0;l<a.length;l+=1){let o=a[l].parse(t,i);if(o){let{allDay:c}=t;return c==null&&(c=e,c==null&&(c=o.allDayGuess,c==null&&(c=!1))),{allDay:c,duration:o.duration,typeData:o.typeData,typeId:l}}}return null}function lr(t,e,i){let{dateEnv:a,pluginHooks:l,options:o}=i,{defs:c,instances:f}=t;f=sr(f,g=>!c[g.defId].recurringDef);for(let g in c){let p=c[g];if(p.recurringDef){let{duration:m}=p.recurringDef;m||(m=p.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let y=H1(p,m,e,a,l.recurringTypes);for(let b of y){let _=bh(g,{start:b,end:a.add(b,m)});f[_.instanceId]=_}}}return{defs:c,instances:f}}function H1(t,e,i,a,l){let c=l[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:a.subtract(i.start,e),end:i.end},a);return t.allDay&&(c=c.map(Pe)),c}const Mo={id:String,groupId:String,title:String,url:String,interactive:Boolean},K0={start:H,end:H,date:H,allDay:Boolean},L1=Object.assign(Object.assign(Object.assign({},Mo),K0),{extendedProps:H});function X0(t,e,i,a,l=_h(i),o,c){let{refined:f,extra:g}=J0(t,i,l),p=P1(e,i),m=I1(f,p,i.dateEnv,i.pluginHooks.recurringTypes);if(m){let b=qf(f,g,e?e.sourceId:"",m.allDay,!!m.duration,i,o);return b.recurringDef={typeId:m.typeId,typeData:m.typeData,duration:m.duration},{def:b,instance:null}}let y=q1(f,p,i,a);if(y){let b=qf(f,g,e?e.sourceId:"",y.allDay,y.hasEnd,i,o),_=bh(b.defId,y.range,y.forcedStartTzo,y.forcedEndTzo);return c&&b.publicId&&c[b.publicId]&&(_.instanceId=c[b.publicId]),{def:b,instance:_}}return null}function J0(t,e,i=_h(e)){return gh(t,i)}function _h(t){return Object.assign(Object.assign(Object.assign({},Qo),L1),t.pluginHooks.eventRefiners)}function qf(t,e,i,a,l,o,c){let f={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(c&&t.id?c[t.id]:"")||ur(),sourceId:i,allDay:a,hasEnd:l,interactive:t.interactive,ui:Fo(t,o),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let g of o.pluginHooks.eventDefMemberAdders)Object.assign(f,g(t));return Object.freeze(f.ui.classNames),Object.freeze(f.extendedProps),f}function q1(t,e,i,a){let{allDay:l}=t,o,c=null,f=!1,g,p=null,m=t.start!=null?t.start:t.date;if(o=i.dateEnv.createMarkerMeta(m),o)c=o.marker;else if(!a)return null;return t.end!=null&&(g=i.dateEnv.createMarkerMeta(t.end)),l==null&&(e!=null?l=e:l=(!o||o.isTimeUnspecified)&&(!g||g.isTimeUnspecified)),l&&c&&(c=Pe(c)),g&&(p=g.marker,l&&(p=Pe(p)),c&&p<=c&&(p=null)),p?f=!0:a||(f=i.options.forceEventDuration||!1,p=i.dateEnv.add(c,l?i.options.defaultAllDayEventDuration:i.options.defaultTimedEventDuration)),{allDay:l,hasEnd:f,range:{start:c,end:p},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:g?g.forcedTzo:null}}function P1(t,e){let i=null;return t&&(i=t.defaultAllDay),i==null&&(i=e.options.defaultAllDay),i}function Bs(t,e,i,a,l,o){let c=hn(),f=_h(i);for(let g of t){let p=X0(g,e,i,a,f,l,o);p&&Pf(p,c)}return c}function Pf(t,e=hn()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Sh(t,e){let i=t.instances[e];if(i){let a=t.defs[i.defId],l=ou(t,o=>V1(a,o));return l.defs[a.defId]=a,l.instances[i.instanceId]=i,l}return hn()}function V1(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function hn(){return{defs:{},instances:{}}}function Eh(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function ou(t,e){let i=sr(t.defs,e),a=sr(t.instances,l=>i[l.defId]);return{defs:i,instances:a}}function G1(t,e){let{defs:i,instances:a}=t,l={},o={};for(let c in i)e.defs[c]||(l[c]=i[c]);for(let c in a)!e.instances[c]&&l[a[c].defId]&&(o[c]=a[c]);return{defs:l,instances:o}}function $1(t,e){return Array.isArray(t)?Bs(t,null,e,!0):typeof t=="object"&&t?Bs([t],null,e,!0):t!=null?String(t):null}function Jy(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Qo={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:H,overlap:H,allow:H,className:Jy,classNames:Jy,color:String,backgroundColor:String,borderColor:String,textColor:String},Y1={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Fo(t,e){let i=$1(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:i!=null?[i]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function W1(t){return t.reduce(Q1,Y1)}function Q1(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const F1={id:String,defaultAllDay:Boolean,url:String,format:String,events:H,eventDataTransform:H,success:H,failure:H};function e_(t,e,i=t_(e)){let a;if(typeof t=="string"?a={url:t}:typeof t=="function"||Array.isArray(t)?a={events:t}:typeof t=="object"&&t&&(a=t),a){let{refined:l,extra:o}=gh(a,i),c=Z1(l,e);if(c)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:l.defaultAllDay,eventDataTransform:l.eventDataTransform,success:l.success,failure:l.failure,publicId:l.id||"",sourceId:ur(),sourceDefId:c.sourceDefId,meta:c.meta,ui:Fo(l,e),extendedProps:o}}return null}function t_(t){return Object.assign(Object.assign(Object.assign({},Qo),F1),t.pluginHooks.eventSourceRefiners)}function Z1(t,e){let i=e.pluginHooks.eventSourceDefs;for(let a=i.length-1;a>=0;a-=1){let o=i[a].parseMeta(t);if(o)return{sourceDefId:a,meta:o}}return null}function K1(t,e,i,a,l){switch(e.type){case"RECEIVE_EVENTS":return X1(t,i[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,l);case"RESET_RAW_EVENTS":return J1(t,i[e.sourceId],e.rawEvents,a.activeRange,l);case"ADD_EVENTS":return ex(t,e.eventStore,a?a.activeRange:null,l);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Eh(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return a?lr(t,a.activeRange,l):t;case"REMOVE_EVENTS":return G1(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return i_(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return ou(t,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return hn();default:return t}}function X1(t,e,i,a,l,o){if(e&&i===e.latestFetchId){let c=Bs(n_(l,e,o),e,o);return a&&(c=lr(c,a,o)),Eh(i_(t,e.sourceId),c)}return t}function J1(t,e,i,a,l){const{defIdMap:o,instanceIdMap:c}=nx(t);let f=Bs(n_(i,e,l),e,l,!1,o,c);return lr(f,a,l)}function n_(t,e,i){let a=i.options.eventDataTransform,l=e?e.eventDataTransform:null;return l&&(t=eb(t,l)),a&&(t=eb(t,a)),t}function eb(t,e){let i;if(!e)i=t;else{i=[];for(let a of t){let l=e(a);l?i.push(l):l==null&&i.push(a)}}return i}function ex(t,e,i,a){return i&&(e=lr(e,i,a)),Eh(t,e)}function tb(t,e,i){let{defs:a}=t,l=cr(t.instances,o=>a[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:i.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:i.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:i.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:i.canComputeOffset?null:o.forcedEndTzo}));return{defs:a,instances:l}}function i_(t,e){return ou(t,i=>i.sourceId!==e)}function tx(t,e){return{defs:t.defs,instances:sr(t.instances,i=>!e[i.instanceId])}}function nx(t){const{defs:e,instances:i}=t,a={},l={};for(let o in e){const c=e[o],{publicId:f}=c;f&&(a[f]=o)}for(let o in i){const c=i[o],f=e[c.defId],{publicId:g}=f;g&&(l[g]=o)}return{defIdMap:a,instanceIdMap:l}}class uu{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,i){ix(this.handlers,e,i)}off(e,i){rx(this.handlers,e,i)}trigger(e,...i){let a=this.handlers[e]||[],l=this.options&&this.options[e],o=[].concat(l||[],a);for(let c of o)c.apply(this.thisContext,i)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function ix(t,e,i){(t[e]||(t[e]=[])).push(i)}function rx(t,e,i){i?t[e]&&(t[e]=t[e].filter(a=>a!==i)):delete t[e]}const ax={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function sx(t,e){return Bs(lx(t),null,e)}function lx(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(i=>i.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(i=>Object.assign(Object.assign({},ax),i)),e}function r_(t,e,i){i.emitter.trigger("select",Object.assign(Object.assign({},wh(t,i)),{jsEvent:e?e.origEvent:null,view:i.viewApi||i.calendarApi.view}))}function ox(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function wh(t,e){let i={};for(let a of e.pluginHooks.dateSpanTransforms)Object.assign(i,a(t,e));return Object.assign(i,wx(t,e.dateEnv)),i}function nb(t,e,i){let{dateEnv:a,options:l}=i,o=e;return t?(o=Pe(o),o=a.add(o,l.defaultAllDayEventDuration)):o=a.add(o,l.defaultTimedEventDuration),o}function Ah(t,e,i,a){let l=Zo(t.defs,e),o=hn();for(let c in t.defs){let f=t.defs[c];o.defs[c]=ux(f,l[c],i,a)}for(let c in t.instances){let f=t.instances[c],g=o.defs[f.defId];o.instances[c]=cx(f,g,l[f.defId],i,a)}return o}function ux(t,e,i,a){let l=i.standardProps||{};l.hasEnd==null&&e.durationEditable&&(i.startDelta||i.endDelta)&&(l.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},t),l),{ui:Object.assign(Object.assign({},t.ui),l.ui)});i.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),i.extendedProps));for(let c of a.pluginHooks.eventDefMutationAppliers)c(o,i,a);return!o.hasEnd&&a.options.forceEventDuration&&(o.hasEnd=!0),o}function cx(t,e,i,a,l){let{dateEnv:o}=l,c=a.standardProps&&a.standardProps.allDay===!0,f=a.standardProps&&a.standardProps.hasEnd===!1,g=Object.assign({},t);return c&&(g.range=Q0(g.range)),a.datesDelta&&i.startEditable&&(g.range={start:o.add(g.range.start,a.datesDelta),end:o.add(g.range.end,a.datesDelta)}),a.startDelta&&i.durationEditable&&(g.range={start:o.add(g.range.start,a.startDelta),end:g.range.end}),a.endDelta&&i.durationEditable&&(g.range={start:g.range.start,end:o.add(g.range.end,a.endDelta)}),f&&(g.range={start:g.range.start,end:nb(e.allDay,g.range.start,l)}),e.allDay&&(g.range={start:Pe(g.range.start),end:Pe(g.range.end)}),g.range.end<g.range.start&&(g.range.end=nb(e.allDay,g.range.start,l)),g}class oa{constructor(e,i){this.context=e,this.internalEventSource=i}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Ve{constructor(e,i,a){this._context=e,this._def=i,this._instance=a||null}setProp(e,i){if(e in K0)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")i=Mo[e](i),this.mutate({standardProps:{publicId:i}});else if(e in Mo)i=Mo[e](i),this.mutate({standardProps:{[e]:i}});else if(e in Qo){let a=Qo[e](i);e==="color"?a={backgroundColor:i,borderColor:i}:e==="editable"?a={startEditable:i,durationEditable:i}:a={[e]:i},this.mutate({standardProps:{ui:a}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,i){this.mutate({extendedProps:{[e]:i}})}setStart(e,i={}){let{dateEnv:a}=this._context,l=a.createMarker(e);if(l&&this._instance){let o=this._instance.range,c=ca(o.start,l,a,i.granularity);i.maintainDuration?this.mutate({datesDelta:c}):this.mutate({startDelta:c})}}setEnd(e,i={}){let{dateEnv:a}=this._context,l;if(!(e!=null&&(l=a.createMarker(e),!l))&&this._instance)if(l){let o=ca(this._instance.range.end,l,a,i.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,i,a={}){let{dateEnv:l}=this._context,o={allDay:a.allDay},c=l.createMarker(e),f;if(c&&!(i!=null&&(f=l.createMarker(i),!f))&&this._instance){let g=this._instance.range;a.allDay===!0&&(g=Q0(g));let p=ca(g.start,c,l,a.granularity);if(f){let m=ca(g.end,f,l,a.granularity);UD(p,m)?this.mutate({datesDelta:p,standardProps:o}):this.mutate({startDelta:p,endDelta:m,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:p,standardProps:o})}}moveStart(e){let i=De(e);i&&this.mutate({startDelta:i})}moveEnd(e){let i=De(e);i&&this.mutate({endDelta:i})}moveDates(e){let i=De(e);i&&this.mutate({datesDelta:i})}setAllDay(e,i={}){let a={allDay:e},{maintainDuration:l}=i;l==null&&(l=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(a.hasEnd=l),this.mutate({standardProps:a})}formatRange(e){let{dateEnv:i}=this._context,a=this._instance,l=ft(e);return this._def.hasEnd?i.formatRange(a.range.start,a.range.end,l,{forcedStartTzo:a.forcedStartTzo,forcedEndTzo:a.forcedEndTzo}):i.format(a.range.start,l,{forcedTzo:a.forcedStartTzo})}mutate(e){let i=this._instance;if(i){let a=this._def,l=this._context,{eventStore:o}=l.getCurrentData(),c=Sh(o,i.instanceId);c=Ah(c,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,l);let g=new Ve(l,a,i);this._def=c.defs[a.defId],this._instance=c.instances[i.instanceId],l.dispatch({type:"MERGE_EVENTS",eventStore:c}),l.emitter.trigger("eventChange",{oldEvent:g,event:this,relatedEvents:ar(c,l,i),revert(){l.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,i=a_(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:i}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:i})}})}get source(){let{sourceId:e}=this._def;return e?new oa(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let i=this._def,{ui:a}=i,{startStr:l,endStr:o}=this,c={allDay:i.allDay};return i.title&&(c.title=i.title),l&&(c.start=l),o&&(c.end=o),i.publicId&&(c.id=i.publicId),i.groupId&&(c.groupId=i.groupId),i.url&&(c.url=i.url),a.display&&a.display!=="auto"&&(c.display=a.display),e.collapseColor&&a.backgroundColor&&a.backgroundColor===a.borderColor?c.color=a.backgroundColor:(a.backgroundColor&&(c.backgroundColor=a.backgroundColor),a.borderColor&&(c.borderColor=a.borderColor)),a.textColor&&(c.textColor=a.textColor),a.classNames.length&&(c.classNames=a.classNames),Object.keys(i.extendedProps).length&&(e.collapseExtendedProps?Object.assign(c,i.extendedProps):c.extendedProps=i.extendedProps),c}toJSON(){return this.toPlainObject()}}function a_(t){let e=t._def,i=t._instance;return{defs:{[e.defId]:e},instances:i?{[i.instanceId]:i}:{}}}function ar(t,e,i){let{defs:a,instances:l}=t,o=[],c=i?i.instanceId:"";for(let f in l){let g=l[f],p=a[g.defId];g.instanceId!==c&&o.push(new Ve(e,p,g))}return o}function ib(t,e,i,a){let l={},o={},c={},f=[],g=[],p=Zo(t.defs,e);for(let m in t.defs){let y=t.defs[m];p[y.defId].display==="inverse-background"&&(y.groupId?(l[y.groupId]=[],c[y.groupId]||(c[y.groupId]=y)):o[m]=[])}for(let m in t.instances){let y=t.instances[m],b=t.defs[y.defId],_=p[b.defId],w=y.range,A=!b.allDay&&a?F0(w,a):w,T=pa(A,i);T&&(_.display==="inverse-background"?b.groupId?l[b.groupId].push(T):o[y.defId].push(T):_.display!=="none"&&(_.display==="background"?f:g).push({def:b,ui:_,instance:y,range:T,isStart:A.start&&A.start.valueOf()===T.start.valueOf(),isEnd:A.end&&A.end.valueOf()===T.end.valueOf()}))}for(let m in l){let y=l[m],b=Xy(y,i);for(let _ of b){let w=c[m],A=p[w.defId];f.push({def:w,ui:A,instance:null,range:_,isStart:!1,isEnd:!1})}}for(let m in o){let y=o[m],b=Xy(y,i);for(let _ of b)f.push({def:t.defs[m],ui:p[m],instance:null,range:_,isStart:!1,isEnd:!1})}return{bg:f,fg:g}}function rb(t,e){t.fcSeg=e}function ma(t){return t.fcSeg||t.parentNode.fcSeg||null}function Zo(t,e){return cr(t,i=>s_(i,e))}function s_(t,e){let i=[];return e[""]&&i.push(e[""]),e[t.defId]&&i.push(e[t.defId]),i.push(t.ui),W1(i)}function dx(t,e){let i=t.map(fx);return i.sort((a,l)=>DD(a,l,e)),i.map(a=>a._seg)}function fx(t){let{eventRange:e}=t,i=e.def,a=e.instance?e.instance.range:e.range,l=a.start?a.start.valueOf():0,o=a.end?a.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},i.extendedProps),i),{id:i.publicId,start:l,end:o,duration:o-l,allDay:Number(i.allDay),_seg:t})}function hx(t,e){let{pluginHooks:i}=e,a=i.isDraggableTransformers,{def:l,ui:o}=t.eventRange,c=o.startEditable;for(let f of a)c=f(c,l,o,e);return c}function gx(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function px(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function l_(t,e,i,a,l,o,c){let{dateEnv:f,options:g}=i,{displayEventTime:p,displayEventEnd:m}=g,y=t.eventRange.def,b=t.eventRange.instance;p==null&&(p=a!==!1),m==null&&(m=l!==!1);let _=b.range.start,w=b.range.end,A=t.start||t.eventRange.range.start,T=t.end||t.eventRange.range.end,D=Pe(_).valueOf()===Pe(A).valueOf(),k=Pe(Ri(w,-1)).valueOf()===Pe(Ri(T,-1)).valueOf();return p&&!y.allDay&&(D||k)?(A=D?_:A,T=k?w:T,m&&y.hasEnd?f.formatRange(A,T,e,{forcedStartTzo:b.forcedStartTzo,forcedEndTzo:b.forcedEndTzo}):f.format(A,e,{forcedTzo:b.forcedStartTzo})):""}function As(t,e,i){let a=t.eventRange.range;return{isPast:a.end<=e.start,isFuture:a.start>=e.end,isToday:e&&Ai(e,a.start)}}function mx(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function vx(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function o_(t,e){let{def:i,instance:a}=t.eventRange,{url:l}=i;if(l)return{href:l};let{emitter:o,options:c}=e,{eventInteractive:f}=c;return f==null&&(f=i.interactive,f==null&&(f=!!o.hasHandlers("eventClick"))),f?L0(g=>{o.trigger("eventClick",{el:g.target,event:new Ve(e,i,a),jsEvent:g,view:e.viewApi})}):{}}const yx={start:H,end:H,allDay:Boolean};function bx(t,e,i){let a=_x(t,e),{range:l}=a;if(!l.start)return null;if(!l.end){if(i==null)return null;l.end=e.add(l.start,i)}return a}function _x(t,e){let{refined:i,extra:a}=gh(t,yx),l=i.start?e.createMarkerMeta(i.start):null,o=i.end?e.createMarkerMeta(i.end):null,{allDay:c}=i;return c==null&&(c=l&&l.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:l?l.marker:null,end:o?o.marker:null},allDay:c},a)}function Sx(t,e){return z1(t.range,e.range)&&t.allDay===e.allDay&&Ex(t,e)}function Ex(t,e){for(let i in e)if(i!=="range"&&i!=="allDay"&&t[i]!==e[i])return!1;for(let i in t)if(!(i in e))return!1;return!0}function wx(t,e){return Object.assign(Object.assign({},c_(t.range,e,t.allDay)),{allDay:t.allDay})}function u_(t,e,i){return Object.assign(Object.assign({},c_(t,e,i)),{timeZone:e.timeZone})}function c_(t,e,i){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:i}),endStr:e.formatIso(t.end,{omitTime:i})}}function Ax(t,e,i){let a=J0({editable:!1},i),l=qf(a.refined,a.extra,"",t.allDay,!0,i);return{def:l,ui:s_(l,e),instance:bh(l.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Tx(t,e,i){let a=!1,l=function(f){a||(a=!0,e(f))},o=function(f){a||(a=!0,i(f))},c=t(l,o);c&&typeof c.then=="function"&&c.then(l,o)}class ab extends Error{constructor(e,i){super(e),this.response=i}}function Rx(t,e,i){t=t.toUpperCase();const a={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(i):(a.body=new URLSearchParams(i),a.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,a).then(l=>{if(l.ok)return l.json().then(o=>[o,l],()=>{throw new ab("Failure parsing JSON",l)});throw new ab("Request failed",l)})}let sf;function d_(){return sf==null&&(sf=Cx()),sf}function Cx(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let i=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),i}class Dx extends We{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Wo(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Wo(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:i}=e,{forPrint:a}=this.state,l=a||i.height==="auto"||i.contentHeight==="auto",o=!l&&i.height!=null?i.height:"",c=["fc",a?"fc-media-print":"fc-media-screen",`fc-direction-${i.direction}`,e.theme.getClass("root")];return d_()||c.push("fc-liquid-hack"),e.children(c,o,l,a)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Sa{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function xx(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Th(t){return{[t.component.uid]:t}}const Vf={};class cu extends Yt{constructor(e,i){super(e,i),this.handleRefresh=()=>{let a=this.computeTiming();a.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(a.state),this.clearTimeout(),this.setTimeout(a.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:i}=this;return e.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:i}=this,a=i.nowManager.getDateMarker(),{nowIndicatorSnap:l}=i.options;l==="auto"&&(l=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let o,c;return l?(o=i.dateEnv.startOf(a,e.unit),c=i.dateEnv.add(o,De(1,e.unit)).valueOf()-a.valueOf()):(o=a,c=1e3*60),c=Math.min(1e3*60*60*24,c),{state:{nowDate:o,todayRange:Ox(o)},waitMs:c}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const i=this.computeTiming();this.setState(i.state,()=>{this.setTimeout(i.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}cu.contextType=dr;function Ox(t){let e=Pe(t),i=ht(e,1);return{start:e,end:i}}class kx{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,i){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:i})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,i){let{currentDataManager:a}=this;a.currentCalendarOptionsRefiners[e]?a.emitter.on(e,i):console.warn(`Unknown listener name '${e}'`)}off(e,i){this.currentDataManager.emitter.off(e,i)}trigger(e,...i){this.currentDataManager.emitter.trigger(e,...i)}changeView(e,i){this.batchRendering(()=>{if(this.unselect(),i)if(i.start&&i.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:i});else{let{dateEnv:a}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:a.createMarker(i)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,i){let a=this.getCurrentData(),l;i=i||"day",l=a.viewSpecs[i]||this.getUnitViewSpec(i),this.unselect(),l?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:l.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:i,toolbarConfig:a}=this.getCurrentData(),l=[].concat(a.header?a.header.viewsWithButtons:[],a.footer?a.footer.viewsWithButtons:[]),o,c;for(let f in i)l.push(f);for(o=0;o<l.length;o+=1)if(c=i[l[o]],c&&c.singleUnit===e)return c;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.createMarker(e)})}incrementDate(e){let i=this.getCurrentData(),a=De(e);a&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.add(i.currentDate,a)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,i){let{dateEnv:a}=this.getCurrentData();return a.format(a.createMarker(e),ft(i))}formatRange(e,i,a){let{dateEnv:l}=this.getCurrentData();return l.formatRange(l.createMarker(e),l.createMarker(i),ft(a),a)}formatIso(e,i){let{dateEnv:a}=this.getCurrentData();return a.formatIso(a.createMarker(e),{omitTime:i})}select(e,i){let a;i==null?e.start!=null?a=e:a={start:e,end:null}:a={start:e,end:i};let l=this.getCurrentData(),o=bx(a,l.dateEnv,De({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),r_(o,null,l))}unselect(e){let i=this.getCurrentData();i.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),ox(e,i))}addEvent(e,i){if(e instanceof Ve){let c=e._def,f=e._instance;return this.getCurrentData().eventStore.defs[c.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Pf({def:c,instance:f})}),this.triggerEventAdd(e)),e}let a=this.getCurrentData(),l;if(i instanceof oa)l=i.internalEventSource;else if(typeof i=="boolean")i&&([l]=mh(a.eventSources));else if(i!=null){let c=this.getEventSourceById(i);if(!c)return console.warn(`Could not find an event source with ID "${i}"`),null;l=c.internalEventSource}let o=X0(e,l,a,!1);if(o){let c=new Ve(a,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Pf(o)}),this.triggerEventAdd(c),c}return null}triggerEventAdd(e){let{emitter:i}=this.getCurrentData();i.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:a_(e)})}})}getEventById(e){let i=this.getCurrentData(),{defs:a,instances:l}=i.eventStore;e=String(e);for(let o in a){let c=a[o];if(c.publicId===e){if(c.recurringDef)return new Ve(i,c,null);for(let f in l){let g=l[f];if(g.defId===c.defId)return new Ve(i,c,g)}}}return null}getEvents(){let e=this.getCurrentData();return ar(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),i=e.eventSources,a=[];for(let l in i)a.push(new oa(e,i[l]));return a}getEventSourceById(e){let i=this.getCurrentData(),a=i.eventSources;e=String(e);for(let l in a)if(a[l].publicId===e)return new oa(i,a[l]);return null}addEventSource(e){let i=this.getCurrentData();if(e instanceof oa)return i.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let a=e_(e,i);return a?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[a]}),new oa(i,a)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let i=De(e);i&&this.trigger("_scrollRequest",{time:i})}}function Mx(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function f_(t,e){let i={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return i.left<i.right&&i.top<i.bottom?i:!1}function jx(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function Nx(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Ux(t,e){return{left:t.left-e.left,top:t.top-e.top}}function h_(t,e,i,a){return{dow:t.getUTCDay(),isDisabled:!!(a&&(!a.activeRange||!Ai(a.activeRange,t))),isOther:!!(a&&!Ai(a.currentRange,t)),isToday:!!(e&&Ai(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function Rh(t,e){let i=["fc-day",`fc-day-${HD[t.dow]}`];return t.isDisabled?i.push("fc-day-disabled"):(t.isToday&&(i.push("fc-day-today"),i.push(e.getClass("today"))),t.isPast&&i.push("fc-day-past"),t.isFuture&&i.push("fc-day-future"),t.isOther&&i.push("fc-day-other")),i}const zx=ft({year:"numeric",month:"long",day:"numeric"}),Bx=ft({week:"long"});function Gf(t,e,i="day",a=!0){const{dateEnv:l,options:o,calendarApi:c}=t;let f=l.format(e,i==="week"?Bx:zx);if(o.navLinks){let g=l.toDate(e);const p=m=>{let y=i==="day"?o.navLinkDayClick:i==="week"?o.navLinkWeekClick:null;typeof y=="function"?y.call(c,l.toDate(e),m):(typeof y=="string"&&(i=y),c.zoomTo(e,i))};return Object.assign({title:Es(o.navLinkHint,[f,g],f),"data-navlink":""},a?H0(p):{onClick:p})}return{"aria-label":f}}let lf=null;function Ix(){return lf===null&&(lf=Hx()),lf}function Hx(){let t=document.createElement("div");Ss(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let i=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return uh(t),i}let of;function Lx(){return of||(of=qx()),of}function qx(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=g_(t);return document.body.removeChild(t),e}function g_(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Px(t,e=!1){let i=window.getComputedStyle(t),a=parseInt(i.borderLeftWidth,10)||0,l=parseInt(i.borderRightWidth,10)||0,o=parseInt(i.borderTopWidth,10)||0,c=parseInt(i.borderBottomWidth,10)||0,f=g_(t),g=f.y-a-l,p=f.x-o-c,m={borderLeft:a,borderRight:l,borderTop:o,borderBottom:c,scrollbarBottom:p,scrollbarLeft:0,scrollbarRight:0};return Ix()&&i.direction==="rtl"?m.scrollbarLeft=g:m.scrollbarRight=g,e&&(m.paddingLeft=parseInt(i.paddingLeft,10)||0,m.paddingRight=parseInt(i.paddingRight,10)||0,m.paddingTop=parseInt(i.paddingTop,10)||0,m.paddingBottom=parseInt(i.paddingBottom,10)||0),m}function Vx(t,e=!1,i){let a=Ch(t),l=Px(t,e),o={left:a.left+l.borderLeft+l.scrollbarLeft,right:a.right-l.borderRight-l.scrollbarRight,top:a.top+l.borderTop,bottom:a.bottom-l.borderBottom-l.scrollbarBottom};return e&&(o.left+=l.paddingLeft,o.right-=l.paddingRight,o.top+=l.paddingTop,o.bottom-=l.paddingBottom),o}function Ch(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Gx(t){let e=p_(t),i=t.getBoundingClientRect();for(let a of e){let l=f_(i,a.getBoundingClientRect());if(l)i=l;else return null}return i}function p_(t){let e=[];for(;t instanceof HTMLElement;){let i=window.getComputedStyle(t);if(i.position==="fixed")break;/(auto|scroll)/.test(i.overflow+i.overflowY+i.overflowX)&&e.push(t),t=t.parentNode}return e}class Ko{constructor(e,i,a,l){this.els=i;let o=this.originClientRect=e.getBoundingClientRect();a&&this.buildElHorizontals(o.left),l&&this.buildElVerticals(o.top)}buildElHorizontals(e){let i=[],a=[];for(let l of this.els){let o=l.getBoundingClientRect();i.push(o.left-e),a.push(o.right-e)}this.lefts=i,this.rights=a}buildElVerticals(e){let i=[],a=[];for(let l of this.els){let o=l.getBoundingClientRect();i.push(o.top-e),a.push(o.bottom-e)}this.tops=i,this.bottoms=a}leftToIndex(e){let{lefts:i,rights:a}=this,l=i.length,o;for(o=0;o<l;o+=1)if(e>=i[o]&&e<a[o])return o}topToIndex(e){let{tops:i,bottoms:a}=this,l=i.length,o;for(o=0;o<l;o+=1)if(e>=i[o]&&e<a[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return vo(this.tops||[],e.tops||[])&&vo(this.bottoms||[],e.bottoms||[])&&vo(this.lefts||[],e.lefts||[])&&vo(this.rights||[],e.rights||[])}}function vo(t,e){const i=t.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(Math.round(t[a])!==Math.round(e[a]))return!1;return!0}class Dh{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class $x extends Dh{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Yx extends Dh{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class hr extends We{constructor(){super(...arguments),this.uid=ur()}prepareHits(){}queryHit(e,i,a,l){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!wt(e,".fc-event-mirror")}isValidDateDownEl(e){return!wt(e,".fc-event:not(.fc-bg-event)")&&!wt(e,".fc-more-link")&&!wt(e,"a[data-navlink]")&&!wt(e,".fc-popover")}}class Wx{constructor(e=i=>i.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let i=[];for(let a of e)this.insertEntry(a,i);return i}insertEntry(e,i){let a=this.findInsertion(e);this.isInsertionValid(a,e)?this.insertEntryAt(e,a):this.handleInvalidInsertion(a,e,i)}isInsertionValid(e,i){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(i)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,i,a){if(this.allowReslicing&&e.touchingEntry){const l=Object.assign(Object.assign({},i),{span:m_(i.span,e.touchingEntry.span)});a.push(l),this.splitEntry(i,e.touchingEntry,a)}else a.push(i)}splitEntry(e,i,a){let l=e.span,o=i.span;l.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:l.start,end:o.start}},a),l.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:l.end}},a)}insertEntryAt(e,i){let{entriesByLevel:a,levelCoords:l}=this;i.lateral===-1?(uf(l,i.level,i.levelCoord),uf(a,i.level,[e])):uf(a[i.level],i.lateral,e),this.stackCnts[Ts(e)]=i.stackCnt}findInsertion(e){let{levelCoords:i,entriesByLevel:a,strictOrder:l,stackCnts:o}=this,c=i.length,f=0,g=-1,p=-1,m=null,y=0;for(let w=0;w<c;w+=1){const A=i[w];if(!l&&A>=f+this.getEntryThickness(e))break;let T=a[w],D,k=lb(T,e.span.start,sb),N=k[0]+k[1];for(;(D=T[N])&&D.span.start<e.span.end;){let Z=A+this.getEntryThickness(D);Z>f&&(f=Z,m=D,g=w,p=N),Z===f&&(y=Math.max(y,o[Ts(D)]+1)),N+=1}}let b=0;if(m)for(b=g+1;b<c&&i[b]<f;)b+=1;let _=-1;return b<c&&i[b]===f&&(_=lb(a[b],e.span.end,sb)[0]),{touchingLevel:g,touchingLateral:p,touchingEntry:m,stackCnt:y,levelCoord:f,level:b,lateral:_}}toRects(){let{entriesByLevel:e,levelCoords:i}=this,a=e.length,l=[];for(let o=0;o<a;o+=1){let c=e[o],f=i[o];for(let g of c)l.push(Object.assign(Object.assign({},g),{thickness:this.getEntryThickness(g),levelCoord:f}))}return l}}function sb(t){return t.span.end}function Ts(t){return t.index+":"+t.span.start}function m_(t,e){let i=Math.max(t.start,e.start),a=Math.min(t.end,e.end);return i<a?{start:i,end:a}:null}function uf(t,e,i){t.splice(e,0,i)}function lb(t,e,i){let a=0,l=t.length;if(!l||e<i(t[a]))return[0,0];if(e>i(t[l-1]))return[l,0];for(;a<l;){let o=Math.floor(a+(l-a)/2),c=i(t[o]);if(e<c)l=o;else if(e>c)a=o+1;else return[o,1]}return[a,0]}class Qx{constructor(e,i){this.emitter=new uu}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const xh={};function Fx(t,e){return!t||e>10?ft({weekday:"short"}):e>1?ft({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):ft({weekday:"long"})}const v_="fc-col-header-cell";function y_(t){return t.text}class Zx extends We{render(){let{dateEnv:e,options:i,theme:a,viewApi:l}=this.context,{props:o}=this,{date:c,dateProfile:f}=o,g=h_(c,o.todayRange,null,f),p=[v_].concat(Rh(g,a)),m=e.format(c,o.dayHeaderFormat),y=!g.isDisabled&&o.colCnt>1?Gf(this.context,c):{},b=e.toDate(c);e.namedTimeZoneImpl&&(b=Ri(b,36e5));let _=Object.assign(Object.assign(Object.assign({date:b,view:l},o.extraRenderProps),{text:m}),g);return q(Yn,{elTag:"th",elClasses:p,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":g.isDisabled?void 0:fh(c)},o.extraDataAttrs),renderProps:_,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:y_,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},w=>q("div",{className:"fc-scrollgrid-sync-inner"},!g.isDisabled&&q(w,{elTag:"a",elAttrs:y,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}}const Kx=ft({weekday:"long"});class Xx extends We{render(){let{props:e}=this,{dateEnv:i,theme:a,viewApi:l,options:o}=this.context,c=ht(new Date(2592e5),e.dow),f={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},g=i.format(c,e.dayHeaderFormat),p=Object.assign(Object.assign(Object.assign(Object.assign({date:c},f),{view:l}),e.extraRenderProps),{text:g});return q(Yn,{elTag:"th",elClasses:[v_,...Rh(f,a),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:y_,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},m=>q("div",{className:"fc-scrollgrid-sync-inner"},q(m,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":i.format(c,Kx)}})))}}class Jx extends We{constructor(){super(...arguments),this.createDayHeaderFormatter=Re(eO)}render(){let{context:e}=this,{dates:i,dateProfile:a,datesRepDistinctDays:l,renderIntro:o}=this.props,c=this.createDayHeaderFormatter(e.options.dayHeaderFormat,l,i.length);return q(cu,{unit:"day"},(f,g)=>q("tr",{role:"row"},o&&o("day"),i.map(p=>l?q(Zx,{key:p.toISOString(),date:p,dateProfile:a,todayRange:g,colCnt:i.length,dayHeaderFormat:c}):q(Xx,{key:p.getUTCDay(),dow:p.getUTCDay(),dayHeaderFormat:c}))))}}function eO(t,e,i){return t||Fx(e,i)}class tO{constructor(e,i){let a=e.start,{end:l}=e,o=[],c=[],f=-1;for(;a<l;)i.isHiddenDay(a)?o.push(f+.5):(f+=1,o.push(f),c.push(a)),a=ht(a,1);this.dates=c,this.indices=o,this.cnt=c.length}sliceRange(e){let i=this.getDateDayIndex(e.start),a=this.getDateDayIndex(ht(e.end,-1)),l=Math.max(0,i),o=Math.min(this.cnt-1,a);return l=Math.ceil(l),o=Math.floor(o),l<=o?{firstIndex:l,lastIndex:o,isStart:i===l,isEnd:a===o}:null}getDateDayIndex(e){let{indices:i}=this,a=Math.floor(_a(this.dates[0],e));return a<0?i[0]-1:a>=i.length?i[i.length-1]+1:i[a]}}class nO{constructor(e,i){let{dates:a}=e,l,o,c;if(i){for(o=a[0].getUTCDay(),l=1;l<a.length&&a[l].getUTCDay()!==o;l+=1);c=Math.ceil(a.length/l)}else c=1,l=a.length;this.rowCnt=c,this.colCnt=l,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let i=0;i<this.rowCnt;i+=1){let a=[];for(let l=0;l<this.colCnt;l+=1)a.push(this.buildCell(i,l));e.push(a)}return e}buildCell(e,i){let a=this.daySeries.dates[e*this.colCnt+i];return{key:a.toISOString(),date:a}}buildHeaderDates(){let e=[];for(let i=0;i<this.colCnt;i+=1)e.push(this.cells[0][i].date);return e}sliceRange(e){let{colCnt:i}=this,a=this.daySeries.sliceRange(e),l=[];if(a){let{firstIndex:o,lastIndex:c}=a,f=o;for(;f<=c;){let g=Math.floor(f/i),p=Math.min((g+1)*i,c+1);l.push({row:g,firstCol:f%i,lastCol:(p-1)%i,isStart:a.isStart&&f===o,isEnd:a.isEnd&&p-1===c}),f=p}}return l}}class iO{constructor(){this.sliceBusinessHours=Re(this._sliceBusinessHours),this.sliceDateSelection=Re(this._sliceDateSpan),this.sliceEventStore=Re(this._sliceEventStore),this.sliceEventDrag=Re(this._sliceInteraction),this.sliceEventResize=Re(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,i,a,l,...o){let{eventUiBases:c}=e,f=this.sliceEventStore(e.eventStore,c,i,a,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,i,a,c,l,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,i,a,l,...o),fgEventSegs:f.fg,bgEventSegs:f.bg,eventDrag:this.sliceEventDrag(e.eventDrag,c,i,a,...o),eventResize:this.sliceEventResize(e.eventResize,c,i,a,...o),eventSelection:e.eventSelection}}sliceNowDate(e,i,a,l,...o){return this._sliceDateSpan({range:{start:e,end:Ri(e,1)},allDay:!1},i,a,{},l,...o)}_sliceBusinessHours(e,i,a,l,...o){return e?this._sliceEventStore(lr(e,yo(i,!!a),l),{},i,a,...o).bg:[]}_sliceEventStore(e,i,a,l,...o){if(e){let c=ib(e,i,yo(a,!!l),l);return{bg:this.sliceEventRanges(c.bg,o),fg:this.sliceEventRanges(c.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,i,a,l,...o){if(!e)return null;let c=ib(e.mutatedEvents,i,yo(a,!!l),l);return{segs:this.sliceEventRanges(c.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,i,a,l,o,...c){if(!e)return[];let f=yo(i,!!a),g=pa(e.range,f);if(g){e=Object.assign(Object.assign({},e),{range:g});let p=Ax(e,l,o),m=this.sliceRange(e.range,...c);for(let y of m)y.eventRange=p;return m}return[]}sliceEventRanges(e,i){let a=[];for(let l of e)a.push(...this.sliceEventRange(l,i));return a}sliceEventRange(e,i){let a=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(a={start:a.start,end:ht(a.start,1)});let l=this.sliceRange(a,...i);for(let o of l)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return l}}function yo(t,e){let i=t.activeRange;return e?i:{start:Ri(i.start,t.slotMinTime.milliseconds),end:Ri(i.end,t.slotMaxTime.milliseconds-864e5)}}function b_(t,e,i){let{instances:a}=t.mutatedEvents;for(let l in a)if(!lu(e.validRange,a[l].range))return!1;return __({eventDrag:t},i)}function rO(t,e,i){return lu(e.validRange,t.range)?__({dateSelection:t},i):!1}function __(t,e){let i=e.getCurrentData(),a=Object.assign({businessHours:i.businessHours,dateSelection:"",eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||aO)(a,e)}function aO(t,e,i={},a){return!(t.eventDrag&&!sO(t,e,i,a)||t.dateSelection&&!lO(t,e,i,a))}function sO(t,e,i,a){let l=e.getCurrentData(),o=t.eventDrag,c=o.mutatedEvents,f=c.defs,g=c.instances,p=Zo(f,o.isEvent?t.eventUiBases:{"":l.selectionConfig});a&&(p=cr(p,a));let m=tx(t.eventStore,o.affectedEvents.instances),y=m.defs,b=m.instances,_=Zo(y,t.eventUiBases);for(let w in g){let A=g[w],T=A.range,D=p[A.defId],k=f[A.defId];if(!S_(D.constraints,T,m,t.businessHours,e))return!1;let{eventOverlap:N}=e.options,Z=typeof N=="function"?N:null;for(let I in b){let F=b[I];if(yh(T,F.range)&&(_[F.defId].overlap===!1&&o.isEvent||D.overlap===!1||Z&&!Z(new Ve(e,y[F.defId],F),new Ve(e,k,A))))return!1}let ee=l.eventStore;for(let I of D.allows){let F=Object.assign(Object.assign({},i),{range:A.range,allDay:k.allDay}),K=ee.defs[k.defId],fe=ee.instances[w],ke;if(K?ke=new Ve(e,K,fe):ke=new Ve(e,k),!I(wh(F,e),ke))return!1}}return!0}function lO(t,e,i,a){let l=t.eventStore,o=l.defs,c=l.instances,f=t.dateSelection,g=f.range,{selectionConfig:p}=e.getCurrentData();if(a&&(p=a(p)),!S_(p.constraints,g,l,t.businessHours,e))return!1;let{selectOverlap:m}=e.options,y=typeof m=="function"?m:null;for(let b in c){let _=c[b];if(yh(g,_.range)&&(p.overlap===!1||y&&!y(new Ve(e,o[_.defId],_),null)))return!1}for(let b of p.allows){let _=Object.assign(Object.assign({},i),f);if(!b(wh(_,e),null))return!1}return!0}function S_(t,e,i,a,l){for(let o of t)if(!uO(oO(o,e,i,a,l),e))return!1;return!0}function oO(t,e,i,a,l){return t==="businessHours"?cf(lr(a,e,l)):typeof t=="string"?cf(ou(i,o=>o.groupId===t)):typeof t=="object"&&t?cf(lr(t,e,l)):[]}function cf(t){let{instances:e}=t,i=[];for(let a in e)i.push(e[a].range);return i}function uO(t,e){for(let i of t)if(lu(i,e))return!0;return!1}const bo=/^(visible|hidden)$/;class cO extends We{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Sn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:i,liquidIsAbsolute:a}=e,l=i&&a,o=["fc-scroller"];return i&&(a?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),q("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:l&&-(e.overcomeLeft||0)||"",right:l&&-(e.overcomeRight||0)||"",bottom:l&&-(e.overcomeBottom||0)||"",marginLeft:!l&&-(e.overcomeLeft||0)||"",marginRight:!l&&-(e.overcomeRight||0)||"",marginBottom:!l&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(bo.test(this.props.overflowX))return!1;let{el:e}=this,i=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:a}=e;for(let l=0;l<a.length;l+=1)if(a[l].getBoundingClientRect().width>i)return!0;return!1}needsYScrolling(){if(bo.test(this.props.overflowY))return!1;let{el:e}=this,i=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:a}=e;for(let l=0;l<a.length;l+=1)if(a[l].getBoundingClientRect().height>i)return!0;return!1}getXScrollbarWidth(){return bo.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return bo.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class rr{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(i,a)=>{let{depths:l,currentMap:o}=this,c=!1,f=!1;i!==null?(c=a in o,o[a]=i,l[a]=(l[a]||0)+1,f=!0):(l[a]-=1,l[a]||(delete o[a],delete this.callbackMap[a],c=!0)),this.masterCallback&&(c&&this.masterCallback(null,String(a)),f&&this.masterCallback(i,String(a)))}}createRef(e){let i=this.callbackMap[e];return i||(i=this.callbackMap[e]=a=>{this.handleValue(a,String(e))}),i}collect(e,i,a){return b1(this.currentMap,e,i,a)}getAll(){return mh(this.currentMap)}}function dO(t){let e=yD(t,".fc-scrollgrid-shrink"),i=0;for(let a of e)i=Math.max(i,MD(a));return Math.ceil(i)}function E_(t,e){return t.liquid&&e.liquid}function fO(t,e){return e.maxHeight!=null||E_(t,e)}function hO(t,e,i,a){let{expandRows:l}=i;return typeof e.content=="function"?e.content(i):q("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:i.tableMinWidth,width:i.clientWidth,height:l?i.clientHeight:""}},i.tableColGroupNode,q(a?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(i):e.rowContent))}function gO(t,e){return Ti(t,e,gn)}function pO(t,e){let i=[];for(let a of t){let l=a.span||1;for(let o=0;o<l;o+=1)i.push(q("col",{style:{width:a.width==="shrink"?mO(e):a.width||"",minWidth:a.minWidth||""}}))}return q("colgroup",{},...i)}function mO(t){return t??4}function vO(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function yO(t,e){let i=["fc-scrollgrid",e.theme.getClass("table")];return t&&i.push("fc-scrollgrid-liquid"),i}function bO(t,e){let i=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&i.push("fc-scrollgrid-section-liquid"),t.isSticky&&i.push("fc-scrollgrid-section-sticky"),i}function _O(t){return q("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function ob(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function SO(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class w_ extends We{constructor(){super(...arguments),this.processCols=Re(e=>e,gO),this.renderMicroColGroup=Re(pO),this.scrollerRefs=new rr,this.scrollerElRefs=new rr(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:i,context:a}=this,l=e.sections||[],o=this.processCols(e.cols),c=this.renderMicroColGroup(o,i.shrinkWidth),f=yO(e.liquid,a);e.collapsibleWidth&&f.push("fc-scrollgrid-collapsible");let g=l.length,p=0,m,y=[],b=[],_=[];for(;p<g&&(m=l[p]).type==="header";)y.push(this.renderSection(m,c,!0)),p+=1;for(;p<g&&(m=l[p]).type==="body";)b.push(this.renderSection(m,c,!1)),p+=1;for(;p<g&&(m=l[p]).type==="footer";)_.push(this.renderSection(m,c,!0)),p+=1;let w=!d_();const A={role:"rowgroup"};return q("table",{role:"grid",className:f.join(" "),style:{height:e.height}},!!(!w&&y.length)&&q("thead",A,...y),!!(!w&&b.length)&&q("tbody",A,...b),!!(!w&&_.length)&&q("tfoot",A,..._),w&&q("tbody",A,...y,...b,..._))}renderSection(e,i,a){return"outerContent"in e?q(Ke,{key:e.key},e.outerContent):q("tr",{key:e.key,role:"presentation",className:bO(e,this.props.liquid).join(" ")},this.renderChunkTd(e,i,e.chunk,a))}renderChunkTd(e,i,a,l){if("outerContent"in a)return a.outerContent;let{props:o}=this,{forceYScrollbars:c,scrollerClientWidths:f,scrollerClientHeights:g}=this.state,p=fO(o,e),m=E_(o,e),y=o.liquid?c?"scroll":p?"auto":"hidden":"visible",b=e.key,_=hO(e,a,{tableColGroupNode:i,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&f[b]!==void 0?f[b]:null,clientHeight:g[b]!==void 0?g[b]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},l);return q(l?"th":"td",{ref:a.elRef,role:"presentation"},q("div",{className:`fc-scroller-harness${m?" fc-scroller-harness-liquid":""}`},q(cO,{ref:this.scrollerRefs.createRef(b),elRef:this.scrollerElRefs.createRef(b),overflowY:y,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:m,liquidIsAbsolute:!0},_)))}_handleScrollerEl(e,i){let a=EO(this.props.sections,i);a&&Sn(a.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return vO(this.props.cols)?dO(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Lx(),{scrollerRefs:i,scrollerElRefs:a}=this,l=!1,o={},c={};for(let f in i.currentMap){let g=i.currentMap[f];if(g&&g.needsYScrolling()){l=!0;break}}for(let f of this.props.sections){let g=f.key,p=a.currentMap[g];if(p){let m=p.parentNode;o[g]=Math.floor(m.getBoundingClientRect().width-(l?e.y:0)),c[g]=Math.floor(m.getBoundingClientRect().height)}}return{forceYScrollbars:l,scrollerClientWidths:o,scrollerClientHeights:c}}}w_.addStateEquality({scrollerClientWidths:gn,scrollerClientHeights:gn});function EO(t,e){for(let i of t)if(i.key===e)return i;return null}class Oh extends We{constructor(){super(...arguments),this.buildPublicEvent=Re((e,i,a)=>new Ve(e,i,a)),this.handleEl=e=>{this.el=e,Sn(this.props.elRef,e),e&&rb(e,this.props.seg)}}render(){const{props:e,context:i}=this,{options:a}=i,{seg:l}=e,{eventRange:o}=l,{ui:c}=o,f={event:this.buildPublicEvent(i,o.def,o.instance),view:i.viewApi,timeText:e.timeText,textColor:c.textColor,backgroundColor:c.backgroundColor,borderColor:c.borderColor,isDraggable:!e.disableDragging&&hx(l,i),isStartResizable:!e.disableResizing&&gx(l,i),isEndResizable:!e.disableResizing&&px(l),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!l.isStart,isEnd:!!l.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return q(Yn,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...mx(f),...l.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:f,generatorName:"eventContent",customGenerator:a.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.eventClassNames,didMount:a.eventDidMount,willUnmount:a.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&rb(this.el,this.props.seg)}}class A_ extends We{render(){let{props:e,context:i}=this,{options:a}=i,{seg:l}=e,{ui:o}=l.eventRange,c=a.eventTimeFormat||e.defaultTimeFormat,f=l_(l,c,i,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return q(Oh,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:o_(l,i),defaultGenerator:wO,timeText:f}),(g,p)=>q(Ke,null,q(g,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:p.textColor}}),!!p.isStartResizable&&q("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!p.isEndResizable&&q("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}A_.addPropsEquality({seg:gn});function wO(t){return q("div",{className:"fc-event-main-frame"},t.timeText&&q("div",{className:"fc-event-time"},t.timeText),q("div",{className:"fc-event-title-container"},q("div",{className:"fc-event-title fc-sticky"},t.event.title||q(Ke,null,""))))}const AO=ft({day:"numeric"});class T_ extends We{constructor(){super(...arguments),this.refineRenderProps=ko(TO)}render(){let{props:e,context:i}=this,{options:a}=i,l=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:i.viewApi,dateEnv:i.dateEnv,monthStartFormat:a.monthStartFormat});return q(Yn,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),l.isDisabled?{}:{"data-date":fh(e.date)}),elClasses:[...Rh(l,i.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,generatorName:"dayCellContent",customGenerator:a.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:l.isDisabled?void 0:a.dayCellClassNames,didMount:a.dayCellDidMount,willUnmount:a.dayCellWillUnmount},e.children)}}function R_(t){return!!(t.dayCellContent||Lf("dayCellContent",t))}function TO(t){let{date:e,dateEnv:i,dateProfile:a,isMonthStart:l}=t,o=h_(e,t.todayRange,null,a),c=t.showDayNumber?i.format(e,l?t.monthStartFormat:AO):"";return Object.assign(Object.assign(Object.assign({date:i.toDate(e),view:t.viewApi},o),{isMonthStart:l,dayNumberText:c}),t.extraRenderProps)}class RO extends We{render(){let{props:e}=this,{seg:i}=e;return q(Oh,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:i.eventRange.ui.backgroundColor},defaultGenerator:CO,seg:i,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function CO(t){let{title:e}=t.event;return e&&q("div",{className:"fc-event-title"},t.event.title)}function DO(t){return q("div",{className:`fc-${t}`})}const xO=t=>q(dr.Consumer,null,e=>{let{dateEnv:i,options:a}=e,{date:l}=t,o=a.weekNumberFormat||t.defaultFormat,c=i.computeWeekNumber(l),f=i.format(l,o),g={num:c,text:f,date:l};return q(Yn,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:g,generatorName:"weekNumberContent",customGenerator:a.weekNumberContent,defaultGenerator:OO,classNameGenerator:a.weekNumberClassNames,didMount:a.weekNumberDidMount,willUnmount:a.weekNumberWillUnmount},t.children)});function OO(t){return t.text}const df=10;class kO extends We{constructor(){super(...arguments),this.state={titleId:au()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Sn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const i=B0(e);this.rootEl.contains(i)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:i}=this.context,{props:a,state:l}=this,o=["fc-popover",e.getClass("popover")].concat(a.extraClassNames||[]);return rD(q("div",Object.assign({},a.extraAttrs,{id:a.id,className:o.join(" "),"aria-labelledby":l.titleId,ref:this.handleRootEl}),q("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},q("span",{className:"fc-popover-title",id:l.titleId},a.title),q("span",{className:"fc-popover-close "+e.getIconClass("close"),title:i.closeHint,onClick:this.handleCloseClick})),q("div",{className:"fc-popover-body "+e.getClass("popoverContent")},a.children)),a.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:i,alignGridTop:a}=this.props,{rootEl:l}=this,o=Gx(i);if(o){let c=l.getBoundingClientRect(),f=a?wt(i,".fc-scrollgrid").getBoundingClientRect().top:o.top,g=e?o.right-c.width:o.left;f=Math.max(f,df),g=Math.min(g,document.documentElement.clientWidth-df-c.width),g=Math.max(g,df);let p=l.offsetParent.getBoundingClientRect();Ss(l,{top:f-p.top,left:g-p.left})}}}class MO extends hr{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:i}=this.context,{props:a}=this,{startDate:l,todayRange:o,dateProfile:c}=a,f=i.format(l,e.dayPopoverFormat);return q(T_,{elRef:this.handleRootEl,date:l,dateProfile:c,todayRange:o},(g,p,m)=>q(kO,{elRef:m.ref,id:a.id,title:f,extraClassNames:["fc-more-popover"].concat(m.className||[]),extraAttrs:m,parentEl:a.parentEl,alignmentEl:a.alignmentEl,alignGridTop:a.alignGridTop,onClose:a.onClose},R_(e)&&q(g,{elTag:"div",elClasses:["fc-more-popover-misc"]}),a.children))}queryHit(e,i,a,l){let{rootEl:o,props:c}=this;return e>=0&&e<a&&i>=0&&i<l?{dateProfile:c.dateProfile,dateSpan:Object.assign({allDay:!c.forceTimed,range:{start:c.startDate,end:c.endDate}},c.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:a,bottom:l},layer:1}:null}}class jO extends We{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:au()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Sn(this.props.elRef,e)},this.handleClick=e=>{let{props:i,context:a}=this,{moreLinkClick:l}=a.options,o=ub(i).start;function c(f){let{def:g,instance:p,range:m}=f.eventRange;return{event:new Ve(a,g,p),start:a.dateEnv.toDate(m.start),end:a.dateEnv.toDate(m.end),isStart:f.isStart,isEnd:f.isEnd}}typeof l=="function"&&(l=l({date:o,allDay:!!i.allDayDate,allSegs:i.allSegs.map(c),hiddenSegs:i.hiddenSegs.map(c),jsEvent:e,view:a.viewApi})),!l||l==="popover"?this.setState({isPopoverOpen:!0}):typeof l=="string"&&a.calendarApi.zoomTo(o,l)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:i}=this;return q(dr.Consumer,null,a=>{let{viewApi:l,options:o,calendarApi:c}=a,{moreLinkText:f}=o,{moreCnt:g}=e,p=ub(e),m=typeof f=="function"?f.call(c,g):`+${g} ${f}`,y=Es(o.moreLinkHint,[g],m),b={num:g,shortText:`+${g}`,text:m,view:l};return q(Ke,null,!!e.moreCnt&&q(Yn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),H0(this.handleClick)),{title:y,"aria-expanded":i.isPopoverOpen,"aria-controls":i.isPopoverOpen?i.popoverId:""}),renderProps:b,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||NO,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),i.isPopoverOpen&&q(MO,{id:i.popoverId,startDate:p.start,endDate:p.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=wt(this.linkEl,".fc-view-harness"))}}function NO(t){return t.text}function ub(t){if(t.allDayDate)return{start:t.allDayDate,end:ht(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:UO(e),end:BO(e)}}function UO(t){return t.reduce(zO).eventRange.range.start}function zO(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function BO(t){return t.reduce(IO).eventRange.range.end}function IO(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class HO{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let i of this.handlers)i(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class LO extends HO{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:i}=this;let a=!1;e.isActive?(i.set(e.id,e),a=!0):i.has(e.id)&&(i.delete(e.id),a=!0),a&&this.set(i)}}const qO=[],C_={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},D_=Object.assign(Object.assign({},C_),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function PO(t){let e=t.length>0?t[0].code:"en",i=qO.concat(t),a={en:D_};for(let l of i)a[l.code]=l;return{map:a,defaultCode:e}}function x_(t,e){return typeof t=="object"&&!Array.isArray(t)?O_(t.code,[t.code],t):VO(t,e)}function VO(t,e){let i=[].concat(t||[]),a=GO(i,e)||D_;return O_(t,i,a)}function GO(t,e){for(let i=0;i<t.length;i+=1){let a=t[i].toLocaleLowerCase().split("-");for(let l=a.length;l>0;l-=1){let o=a.slice(0,l).join("-");if(e[o])return e[o]}}return null}function O_(t,e,i){let a=ph([C_,i],["buttonText"]);delete a.code;let{week:l}=a;return delete a.week,{codeArg:t,codes:e,week:l,simpleNumberFormat:new Intl.NumberFormat(t),options:a}}function Ci(t){return{id:ur(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function $O(t,e){let i={},a={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function l(o){for(let c of o){const f=c.name,g=i[f];g===void 0?(i[f]=c.id,l(c.deps),a=WO(a,c)):g!==c.id&&console.warn(`Duplicate plugin '${f}'`)}}return t&&l(t),l(e),a}function YO(){let t=[],e=[],i;return(a,l)=>((!i||!Ti(a,t)||!Ti(l,e))&&(i=$O(a,l)),t=a,e=l,i)}function WO(t,e){return{premiumReleaseDate:QO(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function QO(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Di extends Ps{}Di.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Di.prototype.baseIconClass="fc-icon";Di.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Di.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Di.prototype.iconOverrideOption="buttonIcons";Di.prototype.iconOverrideCustomButtonOption="icon";Di.prototype.iconOverridePrefix="fc-icon-";function FO(t,e){let i={},a;for(a in t)$f(a,i,t,e);for(a in e)$f(a,i,t,e);return i}function $f(t,e,i,a){if(e[t])return e[t];let l=ZO(t,e,i,a);return l&&(e[t]=l),l}function ZO(t,e,i,a){let l=i[t],o=a[t],c=m=>l&&l[m]!==null?l[m]:o&&o[m]!==null?o[m]:null,f=c("component"),g=c("superType"),p=null;if(g){if(g===t)throw new Error("Can't have a custom view type that references itself");p=$f(g,e,i,a)}return!f&&p&&(f=p.component),f?{type:t,component:f,defaults:Object.assign(Object.assign({},p?p.defaults:{}),l?l.rawOptions:{}),overrides:Object.assign(Object.assign({},p?p.overrides:{}),o?o.rawOptions:{})}:null}function cb(t){return cr(t,KO)}function KO(t){let e=typeof t=="function"?{component:t}:t,{component:i}=e;return e.content?i=db(e):i&&!(i.prototype instanceof We)&&(i=db(Object.assign(Object.assign({},e),{content:i}))),{superType:e.type,component:i,rawOptions:e}}function db(t){return e=>q(dr.Consumer,null,i=>q(Yn,{elTag:"div",elClasses:W0(i.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:i.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function XO(t,e,i,a){let l=cb(t),o=cb(e.views),c=FO(l,o);return cr(c,f=>JO(f,o,e,i,a))}function JO(t,e,i,a,l){let o=t.overrides.duration||t.defaults.duration||a.duration||i.duration,c=null,f="",g="",p={};if(o&&(c=ek(o),c)){let b=Hf(c);f=b.unit,b.value===1&&(g=f,p=e[f]?e[f].rawOptions:{})}let m=b=>{let _=b.buttonText||{},w=t.defaults.buttonTextKey;return w!=null&&_[w]!=null?_[w]:_[t.type]!=null?_[t.type]:_[g]!=null?_[g]:null},y=b=>{let _=b.buttonHints||{},w=t.defaults.buttonTextKey;return w!=null&&_[w]!=null?_[w]:_[t.type]!=null?_[t.type]:_[g]!=null?_[g]:null};return{type:t.type,component:t.component,duration:c,durationUnit:f,singleUnit:g,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},p),t.overrides),buttonTextOverride:m(a)||m(i)||t.overrides.buttonText,buttonTextDefault:m(l)||t.defaults.buttonText||m(ws)||t.type,buttonTitleOverride:y(a)||y(i)||t.overrides.buttonHint,buttonTitleDefault:y(l)||t.defaults.buttonHint||y(ws)}}let fb={};function ek(t){let e=JSON.stringify(t),i=fb[e];return i===void 0&&(i=De(t),fb[e]=i),i}function tk(t,e){return e.type==="CHANGE_VIEW_TYPE"&&(t=e.viewType),t}function nk(t,e){return e.type==="CHANGE_DATE"?e.dateMarker:t}function ik(t,e,i){let a=t.initialDate;return a!=null?e.createMarker(a):i.getDateMarker()}function rk(t,e){return e.type==="SET_OPTION"?Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue}):t}function ak(t,e,i,a){let l;switch(e.type){case"CHANGE_VIEW_TYPE":return a.build(e.dateMarker||i);case"CHANGE_DATE":return a.build(e.dateMarker);case"PREV":if(l=a.buildPrev(t,i),l.isValid)return l;break;case"NEXT":if(l=a.buildNext(t,i),l.isValid)return l;break}return t}function sk(t,e,i){let a=e?e.activeRange:null;return M_({},hk(t,i),a,i)}function lk(t,e,i,a){let l=i?i.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return M_(t,e.sources,l,a);case"REMOVE_EVENT_SOURCE":return uk(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?j_(t,l,a):t;case"FETCH_EVENT_SOURCES":return kh(t,e.sourceIds?P0(e.sourceIds):N_(t,a),l,e.isRefetch||!1,a);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return fk(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function ok(t,e,i){let a=e?e.activeRange:null;return kh(t,N_(t,i),a,!0,i)}function k_(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function M_(t,e,i,a){let l={};for(let o of e)l[o.sourceId]=o;return i&&(l=j_(l,i,a)),Object.assign(Object.assign({},t),l)}function uk(t,e){return sr(t,i=>i.sourceId!==e)}function j_(t,e,i){return kh(t,sr(t,a=>ck(a,e,i)),e,!1,i)}function ck(t,e,i){return U_(t,i)?!i.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function kh(t,e,i,a,l){let o={};for(let c in t){let f=t[c];e[c]?o[c]=dk(f,i,a,l):o[c]=f}return o}function dk(t,e,i,a){let{options:l,calendarApi:o}=a,c=a.pluginHooks.eventSourceDefs[t.sourceDefId],f=ur();return c.fetch({eventSource:t,range:e,isRefetch:i,context:a},g=>{let{rawEvents:p}=g;l.eventSourceSuccess&&(p=l.eventSourceSuccess.call(o,p,g.response)||p),t.success&&(p=t.success.call(o,p,g.response)||p),a.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:f,fetchRange:e,rawEvents:p})},g=>{let p=!1;l.eventSourceFailure&&(l.eventSourceFailure.call(o,g),p=!0),t.failure&&(t.failure(g),p=!0),p||console.warn(g.message,g),a.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:f,fetchRange:e,error:g})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:f})}function fk(t,e,i,a){let l=t[e];return l&&i===l.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},l),{isFetching:!1,fetchRange:a})}):t}function N_(t,e){return sr(t,i=>U_(i,e))}function hk(t,e){let i=t_(e),a=[].concat(t.eventSources||[]),l=[];t.initialEvents&&a.unshift(t.initialEvents),t.events&&a.unshift(t.events);for(let o of a){let c=e_(o,e,i);c&&l.push(c)}return l}function U_(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function gk(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function pk(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function mk(t,e){let i;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return i=e.state,{affectedEvents:i.affectedEvents,mutatedEvents:i.mutatedEvents,isEvent:i.isEvent};default:return t}}function vk(t,e){let i;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return i=e.state,{affectedEvents:i.affectedEvents,mutatedEvents:i.mutatedEvents,isEvent:i.isEvent};default:return t}}function yk(t,e,i,a,l){let o=t.headerToolbar?hb(t.headerToolbar,t,e,i,a,l):null,c=t.footerToolbar?hb(t.footerToolbar,t,e,i,a,l):null;return{header:o,footer:c}}function hb(t,e,i,a,l,o){let c={},f=[],g=!1;for(let p in t){let m=t[p],y=bk(m,e,i,a,l,o);c[p]=y.widgets,f.push(...y.viewsWithButtons),g=g||y.hasTitle}return{sectionWidgets:c,viewsWithButtons:f,hasTitle:g}}function bk(t,e,i,a,l,o){let c=e.direction==="rtl",f=e.customButtons||{},g=i.buttonText||{},p=e.buttonText||{},m=i.buttonHints||{},y=e.buttonHints||{},b=t?t.split(" "):[],_=[],w=!1;return{widgets:b.map(T=>T.split(",").map(D=>{if(D==="title")return w=!0,{buttonName:D};let k,N,Z,ee,I,F;if(k=f[D])Z=K=>{k.click&&k.click.call(K.target,K,K.target)},(ee=a.getCustomButtonIconClass(k))||(ee=a.getIconClass(D,c))||(I=k.text),F=k.hint||k.text;else if(N=l[D]){_.push(D),Z=()=>{o.changeView(D)},(I=N.buttonTextOverride)||(ee=a.getIconClass(D,c))||(I=N.buttonTextDefault);let K=N.buttonTextOverride||N.buttonTextDefault;F=Es(N.buttonTitleOverride||N.buttonTitleDefault||e.viewHint,[K,D],K)}else if(o[D])if(Z=()=>{o[D]()},(I=g[D])||(ee=a.getIconClass(D,c))||(I=p[D]),D==="prevYear"||D==="nextYear"){let K=D==="prevYear"?"prev":"next";F=Es(m[K]||y[K],[p.year||"year","year"],p[D])}else F=K=>Es(m[D]||y[D],[p[K]||K,K],p[D]);return{buttonName:D,buttonClick:Z,buttonIcon:ee,buttonText:I,buttonHint:F}})),viewsWithButtons:_,hasTitle:w}}class _k{constructor(e,i,a){this.type=e,this.getCurrentData=i,this.dateEnv=a}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Sk={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Ek=Ci({name:"array-event-source",eventSourceDefs:[Sk]});let wk={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,i){const{dateEnv:a}=t.context,l=t.eventSource.meta;Tx(l.bind(null,u_(t.range,a)),o=>e({rawEvents:o}),i)}};const Ak=Ci({name:"func-event-source",eventSourceDefs:[wk]}),Tk={method:String,extraParams:H,startParam:String,endParam:String,timeZoneParam:String};let Rk={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,i){const{meta:a}=t.eventSource,l=Dk(a,t.range,t.context);Rx(a.method,a.url,l).then(([o,c])=>{e({rawEvents:o,response:c})},i)}};const Ck=Ci({name:"json-event-source",eventSourceRefiners:Tk,eventSourceDefs:[Rk]});function Dk(t,e,i){let{dateEnv:a,options:l}=i,o,c,f,g,p={};return o=t.startParam,o==null&&(o=l.startParam),c=t.endParam,c==null&&(c=l.endParam),f=t.timeZoneParam,f==null&&(f=l.timeZoneParam),typeof t.extraParams=="function"?g=t.extraParams():g=t.extraParams||{},Object.assign(p,g),p[o]=a.formatIso(e.start),p[c]=a.formatIso(e.end),a.timeZone!=="local"&&(p[f]=a.timeZone),p}const xk={daysOfWeek:H,startTime:De,endTime:De,duration:De,startRecur:H,endRecur:H};let Ok={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let i={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},a;return t.duration&&(a=t.duration),!a&&t.startTime&&t.endTime&&(a=zD(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:a,typeData:i}}return null},expand(t,e,i){let a=pa(e,{start:t.startRecur,end:t.endRecur});return a?Mk(t.daysOfWeek,t.startTime,t.dateEnv,i,a):[]}};const kk=Ci({name:"simple-recurring-event",recurringTypes:[Ok],eventRefiners:xk});function Mk(t,e,i,a,l){let o=t?P0(t):null,c=Pe(l.start),f=l.end,g=[];for(e&&(e.milliseconds<0?f=ht(f,1):e.milliseconds>=1e3*60*60*24&&(c=ht(c,-1)));c<f;){let p;(!o||o[c.getUTCDay()])&&(e?p=a.add(c,e):p=c,g.push(a.createMarker(i.toDate(p)))),c=ht(c,1)}return g}const jk=Ci({name:"change-handler",optionChangeHandlers:{events(t,e){gb([t],e)},eventSources:gb}});function gb(t,e){let i=mh(e.getCurrentData().eventSources);if(i.length===1&&t.length===1&&Array.isArray(i[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:i[0].sourceId,rawEvents:t[0]});return}let a=[];for(let l of t){let o=!1;for(let c=0;c<i.length;c+=1)if(i[c]._raw===l){i.splice(c,1),o=!0;break}o||a.push(l)}for(let l of i)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:l.sourceId});for(let l of a)e.calendarApi.addEventSource(l)}function Nk(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},u_(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Uk(t,e){let{emitter:i}=e;i.hasHandlers("eventsSet")&&i.trigger("eventsSet",ar(t,e))}const zk=[Ek,Ak,Ck,kk,jk,Ci({name:"misc",isLoadingFuncs:[t=>k_(t.eventSources)],propSetHandlers:{dateProfile:Nk,eventStore:Uk}})];class Bk{constructor(e,i){this.runTaskOption=e,this.drainedOption=i,this.queue=[],this.delayedRunner=new oh(this.drain.bind(this))}request(e,i){this.queue.push(e),this.delayedRunner.request(i)}pause(e){this.delayedRunner.pause(e)}resume(e,i){this.delayedRunner.resume(e,i)}drain(){let{queue:e}=this;for(;e.length;){let i=[],a;for(;a=e.shift();)this.runTask(a),i.push(a);this.drained(i)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Ik(t,e,i){let a;return/^(year|month)$/.test(t.currentRangeUnit)?a=t.currentRange:a=t.activeRange,i.formatRange(a.start,a.end,ft(e.titleFormat||Hk(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Hk(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let i=Vo(t.currentRange.start,t.currentRange.end);return i!==null&&i>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class pb{constructor(){this.resetListeners=new Set}handleInput(e,i){const a=this.dateEnv;if(e!==a&&(typeof i=="function"?this.nowFn=i:a||(this.nowAnchorDate=e.toDate(i?e.createMarker(i):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,a))for(const l of this.resetListeners.values())l()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Lk{constructor(e){this.computeCurrentViewData=Re(this._computeCurrentViewData),this.organizeRawLocales=Re(PO),this.buildLocale=Re(x_),this.buildPluginHooks=YO(),this.buildDateEnv=Re(qk),this.buildTheme=Re(Pk),this.parseToolbars=Re(yk),this.buildViewSpecs=Re(XO),this.buildDateProfileGenerator=ko(Vk),this.buildViewApi=Re(Gk),this.buildViewUiProps=ko(Wk),this.buildEventUiBySource=Re($k,gn),this.buildEventUiBases=Re(Yk),this.parseContextBusinessHours=ko(Qk),this.buildTitle=Re(Ik),this.nowManager=new pb,this.emitter=new uu,this.actionRunner=new Bk(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=b=>{this.actionRunner.request(b)},this.props=e,this.actionRunner.pause(),this.nowManager=new pb;let i={},a=this.computeOptionsData(e.optionOverrides,i,e.calendarApi),l=a.calendarOptions.initialView||a.pluginHooks.initialView,o=this.computeCurrentViewData(l,a,e.optionOverrides,i);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let c={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f=ik(a.calendarOptions,a.dateEnv,this.nowManager),g=o.dateProfileGenerator.build(f);Ai(g.activeRange,f)||(f=g.currentRange.start);for(let b of a.pluginHooks.contextInit)b(c);let p=sk(a.calendarOptions,g,c),m={dynamicOptionOverrides:i,currentViewType:l,currentDate:f,dateProfile:g,businessHours:this.parseContextBusinessHours(c),eventSources:p,eventUiBases:{},eventStore:hn(),renderableEventStore:hn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},y=Object.assign(Object.assign({},c),m);for(let b of a.pluginHooks.reducers)Object.assign(m,b(null,null,y));ff(m,c)&&this.emitter.trigger("loading",!0),this.state=m,this.updateData(),this.actionRunner.resume()}resetOptions(e,i){let{props:a}=this;i===void 0?a.optionOverrides=e:(a.optionOverrides=Object.assign(Object.assign({},a.optionOverrides||{}),e),this.optionsForRefining.push(...i)),(i===void 0||i.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:i,state:a,emitter:l}=this,o=rk(a.dynamicOptionOverrides,e),c=this.computeOptionsData(i.optionOverrides,o,i.calendarApi),f=tk(a.currentViewType,e),g=this.computeCurrentViewData(f,c,i.optionOverrides,o);i.calendarApi.currentDataManager=this,l.setThisContext(i.calendarApi),l.setOptions(g.options);let p={nowManager:this.nowManager,dateEnv:c.dateEnv,options:c.calendarOptions,pluginHooks:c.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:l,getCurrentData:this.getCurrentData},{currentDate:m,dateProfile:y}=a;this.data&&this.data.dateProfileGenerator!==g.dateProfileGenerator&&(y=g.dateProfileGenerator.build(m)),m=nk(m,e),y=ak(y,e,m,g.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Ai(y.currentRange,m))&&(m=y.currentRange.start);let b=lk(a.eventSources,e,y,p),_=K1(a.eventStore,e,b,y,p),A=k_(b)&&!g.options.progressiveEventRendering&&a.renderableEventStore||_,{eventUiSingleBase:T,selectionConfig:D}=this.buildViewUiProps(p),k=this.buildEventUiBySource(b),N=this.buildEventUiBases(A.defs,T,k),Z={dynamicOptionOverrides:o,currentViewType:f,currentDate:m,dateProfile:y,eventSources:b,eventStore:_,renderableEventStore:A,selectionConfig:D,eventUiBases:N,businessHours:this.parseContextBusinessHours(p),dateSelection:gk(a.dateSelection,e),eventSelection:pk(a.eventSelection,e),eventDrag:mk(a.eventDrag,e),eventResize:vk(a.eventResize,e)},ee=Object.assign(Object.assign({},p),Z);for(let K of c.pluginHooks.reducers)Object.assign(Z,K(a,e,ee));let I=ff(a,p),F=ff(Z,p);!I&&F?l.trigger("loading",!0):I&&!F&&l.trigger("loading",!1),this.state=Z,i.onAction&&i.onAction(e)}updateData(){let{props:e,state:i}=this,a=this.data,l=this.computeOptionsData(e.optionOverrides,i.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(i.currentViewType,l,e.optionOverrides,i.dynamicOptionOverrides),c=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(i.dateProfile,o.options,l.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l),o),i),f=l.pluginHooks.optionChangeHandlers,g=a&&a.calendarOptions,p=l.calendarOptions;if(g&&g!==p){g.timeZone!==p.timeZone&&(i.eventSources=c.eventSources=ok(c.eventSources,i.dateProfile,c),i.eventStore=c.eventStore=tb(c.eventStore,a.dateEnv,c.dateEnv),i.renderableEventStore=c.renderableEventStore=tb(c.renderableEventStore,a.dateEnv,c.dateEnv));for(let m in f)(this.optionsForHandling.indexOf(m)!==-1||g[m]!==p[m])&&f[m](p[m],c)}this.optionsForHandling=[],e.onData&&e.onData(c)}computeOptionsData(e,i,a){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&i===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:l,pluginHooks:o,localeDefaults:c,availableLocaleData:f,extra:g}=this.processRawCalendarOptions(e,i);mb(g);let p=this.buildDateEnv(l.timeZone,l.locale,l.weekNumberCalculation,l.firstDay,l.weekText,o,f,l.defaultRangeSeparator),m=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,c),y=this.buildTheme(l,o),b=this.parseToolbars(l,this.stableOptionOverrides,y,m,a);return this.stableCalendarOptionsData={calendarOptions:l,pluginHooks:o,dateEnv:p,viewSpecs:m,theme:y,toolbarConfig:b,localeDefaults:c,availableRawLocales:f.map}}processRawCalendarOptions(e,i){let{locales:a,locale:l}=rf([ws,e,i]),o=this.organizeRawLocales(a),c=o.map,f=this.buildLocale(l||o.defaultCode,c).options,g=this.buildPluginHooks(e.plugins||[],zk),p=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qy),Fy),Zy),g.listenerRefiners),g.optionRefiners),m={},y=rf([ws,f,e,i]),b={},_=this.currentCalendarOptionsInput,w=this.currentCalendarOptionsRefined,A=!1;for(let T in y)this.optionsForRefining.indexOf(T)===-1&&(y[T]===_[T]||Xi[T]&&T in _&&Xi[T](_[T],y[T]))?b[T]=w[T]:p[T]?(b[T]=p[T](y[T]),A=!0):m[T]=_[T];return A&&(this.currentCalendarOptionsInput=y,this.currentCalendarOptionsRefined=b,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=i),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:g,availableLocaleData:o,localeDefaults:f,extra:m}}_computeCurrentViewData(e,i,a,l){let o=i.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:c,extra:f}=this.processRawViewOptions(o,i.pluginHooks,i.localeDefaults,a,l);mb(f),this.nowManager.handleInput(i.dateEnv,c.now);let g=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:i.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,showNonCurrentDates:c.showNonCurrentDates,dayCount:c.dayCount,dateAlignment:c.dateAlignment,dateIncrement:c.dateIncrement,hiddenDays:c.hiddenDays,weekends:c.weekends,validRangeInput:c.validRange,visibleRangeInput:c.visibleRange,fixedWeekCount:c.fixedWeekCount}),p=this.buildViewApi(e,this.getCurrentData,i.dateEnv);return{viewSpec:o,options:c,dateProfileGenerator:g,viewApi:p}}processRawViewOptions(e,i,a,l,o){let c=rf([ws,e.optionDefaults,a,l,e.optionOverrides,o]),f=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qy),Fy),Zy),g1),i.listenerRefiners),i.optionRefiners),g={},p=this.currentViewOptionsInput,m=this.currentViewOptionsRefined,y=!1,b={};for(let _ in c)c[_]===p[_]||Xi[_]&&Xi[_](c[_],p[_])?g[_]=m[_]:(c[_]===this.currentCalendarOptionsInput[_]||Xi[_]&&Xi[_](c[_],this.currentCalendarOptionsInput[_])?_ in this.currentCalendarOptionsRefined&&(g[_]=this.currentCalendarOptionsRefined[_]):f[_]?g[_]=f[_](c[_]):b[_]=c[_],y=!0);return y&&(this.currentViewOptionsInput=c,this.currentViewOptionsRefined=g),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:b}}}function qk(t,e,i,a,l,o,c,f){let g=x_(e||c.defaultCode,c.map);return new T1({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:g,weekNumberCalculation:i,firstDay:a,weekText:l,cmdFormatter:o.cmdFormatter,defaultSeparator:f})}function Pk(t,e){let i=e.themeClasses[t.themeSystem]||Di;return new i(t)}function Vk(t){let e=t.dateProfileGeneratorClass||Z0;return new e(t)}function Gk(t,e,i){return new _k(t,e,i)}function $k(t){return cr(t,e=>e.ui)}function Yk(t,e,i){let a={"":e};for(let l in t){let o=t[l];o.sourceId&&i[o.sourceId]&&(a[l]=i[o.sourceId])}return a}function Wk(t){let{options:e}=t;return{eventUiSingleBase:Fo({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Fo({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function ff(t,e){for(let i of e.pluginHooks.isLoadingFuncs)if(i(t))return!0;return!1}function Qk(t){return sx(t.options.businessHours,t)}function mb(t,e){for(let i in t)console.warn(`Unknown option '${i}'`)}class Fk extends We{render(){let e=this.props.widgetGroups.map(i=>this.renderWidgetGroup(i));return q("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:i}=this,{theme:a}=this.context,l=[],o=!0;for(let c of e){let{buttonName:f,buttonClick:g,buttonText:p,buttonIcon:m,buttonHint:y}=c;if(f==="title")o=!1,l.push(q("h2",{className:"fc-toolbar-title",id:i.titleId},i.title));else{let b=f===i.activeButton,_=!i.isTodayEnabled&&f==="today"||!i.isPrevEnabled&&f==="prev"||!i.isNextEnabled&&f==="next",w=[`fc-${f}-button`,a.getClass("button")];b&&w.push(a.getClass("buttonActive")),l.push(q("button",{type:"button",title:typeof y=="function"?y(i.navUnit):y,disabled:_,"aria-pressed":b,className:w.join(" "),onClick:g},p||(m?q("span",{className:m,role:"img"}):"")))}}if(l.length>1){let c=o&&a.getClass("buttonGroup")||"";return q("div",{className:c},...l)}return l[0]}}class vb extends We{render(){let{model:e,extraClassName:i}=this.props,a=!1,l,o,c=e.sectionWidgets,f=c.center;return c.left?(a=!0,l=c.left):l=c.start,c.right?(a=!0,o=c.right):o=c.end,q("div",{className:[i||"","fc-toolbar",a?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",l||[]),this.renderSection("center",f||[]),this.renderSection("end",o||[]))}renderSection(e,i){let{props:a}=this;return q(Fk,{key:e,widgetGroups:i,title:a.title,navUnit:a.navUnit,activeButton:a.activeButton,isTodayEnabled:a.isTodayEnabled,isPrevEnabled:a.isPrevEnabled,isNextEnabled:a.isNextEnabled,titleId:a.titleId})}}class Zk extends We{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Sn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:i}=this,{aspectRatio:a}=e,l=["fc-view-harness",a||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",c="";return a?i.availableWidth!==null?o=i.availableWidth/a:c=`${1/a*100}%`:o=e.height||"",q("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:l.join(" "),style:{height:o,paddingBottom:c}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Kk extends Sa{constructor(e){super(e),this.handleSegClick=(i,a)=>{let{component:l}=this,{context:o}=l,c=ma(a);if(c&&l.isValidSegDownEl(i.target)){let f=wt(i.target,".fc-event-forced-url"),g=f?f.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:a,event:new Ve(l.context,c.eventRange.def,c.eventRange.instance),jsEvent:i,view:o.viewApi}),g&&!i.defaultPrevented&&(window.location.href=g)}},this.destroy=I0(e.el,"click",".fc-event",this.handleSegClick)}}class Xk extends Sa{constructor(e){super(e),this.handleEventElRemove=i=>{i===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(i,a)=>{ma(a)&&(this.currentSegEl=a,this.triggerEvent("eventMouseEnter",i,a))},this.handleSegLeave=(i,a)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",i,a))},this.removeHoverListeners=SD(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,i,a){let{component:l}=this,{context:o}=l,c=ma(a);(!i||l.isValidSegDownEl(i.target))&&o.emitter.trigger(e,{el:a,event:new Ve(o,c.eventRange.def,c.eventRange.instance),jsEvent:i,view:o.viewApi})}}class Jk extends fr{constructor(){super(...arguments),this.buildViewContext=Re(D1),this.buildViewPropTransformers=Re(tM),this.buildToolbarProps=Re(eM),this.headerRef=Gn(),this.footerRef=Gn(),this.interactionsStore={},this.state={viewLabelId:au()},this.registerInteractiveComponent=(e,i)=>{let a=xx(e,i),c=[Kk,Xk].concat(this.props.pluginHooks.componentInteractions).map(f=>new f(a));this.interactionsStore[e.uid]=c,Vf[e.uid]=a},this.unregisterInteractiveComponent=e=>{let i=this.interactionsStore[e.uid];if(i){for(let a of i)a.destroy();delete this.interactionsStore[e.uid]}delete Vf[e.uid]},this.resizeRunner=new oh(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:i}=this.props;i.handleWindowResize&&e.target===window&&this.resizeRunner.request(i.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:i,options:a}=e,l=!1,o="",c;e.isHeightAuto||e.forPrint?o="":a.height!=null?l=!0:a.contentHeight!=null?o=a.contentHeight:c=Math.max(a.aspectRatio,.5);let f=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),g=i.header&&i.header.hasTitle?this.state.viewLabelId:void 0;return q(dr.Provider,{value:f},q(cu,{unit:"day"},p=>{let m=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,p,e.viewTitle);return q(Ke,null,i.header&&q(vb,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:i.header,titleId:g},m)),q(Zk,{liquid:l,height:o,aspectRatio:c,labeledById:g},this.renderView(e),this.buildAppendContent()),i.footer&&q(vb,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:i.footer,titleId:""},m)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(a=>new a(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:i}=e.pluginHooks;for(let a in i)i[a](e[a],e)}componentDidUpdate(e){let{props:i}=this,{propSetHandlers:a}=i.pluginHooks;for(let l in a)i[l]!==e[l]&&a[l](i[l],i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,i=e.pluginHooks.viewContainerAppends.map(a=>a(e));return q(Ke,{},...i)}renderView(e){let{pluginHooks:i}=e,{viewSpec:a}=e,l={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(i.viewPropsTransformers);for(let f of o)Object.assign(l,f.transform(l,e));let c=a.component;return q(c,Object.assign({},l))}}function eM(t,e,i,a,l,o){let c=i.build(l,void 0,!1),f=i.buildPrev(e,a,!1),g=i.buildNext(e,a,!1);return{title:o,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:c.isValid&&!Ai(e.currentRange,l),isPrevEnabled:f.isValid,isNextEnabled:g.isValid}}function tM(t){return t.map(e=>new e)}let nM=class extends kx{constructor(e,i={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=a=>{switch(a.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=a=>{this.currentData=a,this.renderRunner.request(a.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:a}=this;Wo(()=>{Us(q(Dx,{options:a.calendarOptions,theme:a.theme,emitter:a.emitter},(l,o,c,f)=>(this.setClassNames(l),this.setHeight(o),q(Y0.Provider,{value:this.customContentRenderId},q(Jk,Object.assign({isHeightAuto:c,forPrint:f},a))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Us(null,this.el),this.setClassNames([]),this.setHeight(""))},fD(e),this.el=e,this.renderRunner=new oh(this.handleRenderRequest),new Lk({optionOverrides:i,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Wo(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,i){this.currentDataManager.resetOptions(e,i)}setClassNames(e){if(!Ti(e,this.currentClassNames)){let{classList:i}=this.el;for(let a of this.currentClassNames)i.remove(a);for(let a of e)i.add(a);this.currentClassNames=e}}setHeight(e){z0(this.el,"height",e)}};const iM=parseInt(String(No.version).split(".")[0]),rM=iM<18;class z_ extends M.Component{constructor(){super(...arguments),this.elRef=M.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const i of this.state.customRenderingMap.values())e.push(No.createElement(aM,{key:i.id,customRendering:i}));return No.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new LO;this.handleCustomRendering=e.handle.bind(e),this.calendar=new nM(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Af.flushSync(()=>{})});let i;e.subscribe(a=>{const l=Date.now(),o=!i;(rM||o||this.isUpdating||this.isUnmounting||l-i<100?B_:Af.flushSync)(()=>{this.setState({customRenderingMap:a},()=>{i=l,o?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}z_.act=B_;class aM extends M.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:i}=e,a=typeof i=="function"?i(e.renderProps):i;return Af.createPortal(a,e.containerEl)}}function B_(t){t()}class sM extends hr{constructor(){super(...arguments),this.headerElRef=Gn()}renderSimpleLayout(e,i){let{props:a,context:l}=this,o=[],c=ob(l.options);return e&&o.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:i}}),q(Ky,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},q(w_,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,i,a,l){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:c,context:f}=this,g=!c.forPrint&&ob(f.options),p=!c.forPrint&&SO(f.options),m=[];return e&&m.push({type:"header",key:"header",isSticky:g,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:i}]}),p&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:_O}]}),q(Ky,{elClasses:["fc-daygrid"],viewSpec:f.viewSpec},q(o,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:c.forPrint,colGroups:[{cols:[{span:a,minWidth:l}]}],sections:m}))}}function jo(t,e){let i=[];for(let a=0;a<e;a+=1)i[a]=[];for(let a of t)i[a.row].push(a);return i}function _o(t,e){let i=[];for(let a=0;a<e;a+=1)i[a]=[];for(let a of t)i[a.firstCol].push(a);return i}function yb(t,e){let i=[];if(t){for(let a=0;a<e;a+=1)i[a]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let a of t.segs)i[a.row].segs.push(a)}else for(let a=0;a<e;a+=1)i[a]=null;return i}const I_=ft({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function H_(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class L_ extends We{render(){let{props:e}=this;return q(A_,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:I_,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class q_ extends We{render(){let{props:e,context:i}=this,{options:a}=i,{seg:l}=e,o=a.eventTimeFormat||I_,c=l_(l,o,i,!0,e.defaultDisplayEventEnd);return q(Oh,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:o_(e.seg,i),defaultGenerator:lM,timeText:c,isResizing:!1,isDateSelecting:!1}))}}function lM(t){return q(Ke,null,q("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&q("div",{className:"fc-event-time"},t.timeText),q("div",{className:"fc-event-title"},t.event.title||q(Ke,null,"")))}class oM extends We{constructor(){super(...arguments),this.compileSegs=Re(uM)}render(){let{props:e}=this,{allSegs:i,invisibleSegs:a}=this.compileSegs(e.singlePlacements);return q(jO,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:i,hiddenSegs:a,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let l=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return q(Ke,null,i.map(o=>{let c=o.eventRange.instance.instanceId;return q("div",{className:"fc-daygrid-event-harness",key:c,style:{visibility:l[c]?"hidden":""}},H_(o)?q(q_,Object.assign({seg:o,isDragging:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},As(o,e.todayRange))):q(L_,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},As(o,e.todayRange))))}))}})}}function uM(t){let e=[],i=[];for(let a of t)e.push(a.seg),a.isVisible||i.push(a.seg);return{allSegs:e,invisibleSegs:i}}const cM=ft({week:"narrow"});class dM extends hr{constructor(){super(...arguments),this.rootElRef=Gn(),this.state={dayNumberId:au()},this.handleRootEl=e=>{Sn(this.rootElRef,e),Sn(this.props.elRef,e)}}render(){let{context:e,props:i,state:a,rootElRef:l}=this,{options:o,dateEnv:c}=e,{date:f,dateProfile:g}=i;const p=i.showDayNumber&&hM(f,g.currentRange,c);return q(T_,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...i.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},i.extraDataAttrs),i.showDayNumber?{"aria-labelledby":a.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:fM,date:f,dateProfile:g,todayRange:i.todayRange,showDayNumber:i.showDayNumber,isMonthStart:p,extraRenderProps:i.extraRenderProps},(m,y)=>q("div",{ref:i.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:i.minHeight}},i.showWeekNumber&&q(xO,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Gf(e,f,"week"),date:f,defaultFormat:cM}),!y.isDisabled&&(i.showDayNumber||R_(o)||i.forceDayTop)?q("div",{className:"fc-daygrid-day-top"},q(m,{elTag:"a",elClasses:["fc-daygrid-day-number",p&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Gf(e,f)),{id:a.dayNumberId})})):i.showDayNumber?q("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},q("a",{className:"fc-daygrid-day-number"},"")):void 0,q("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,q("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},q(oM,{allDayDate:f,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:l,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),q("div",{className:"fc-daygrid-day-bg"},i.bgContent)))}}function fM(t){return t.dayNumberText||q(Ke,null,"")}function hM(t,e,i){const{start:a,end:l}=e,o=Ri(l,-1),c=i.getYear(a),f=i.getMonth(a),g=i.getYear(o),p=i.getMonth(o);return!(c===g&&f===p)&&(t.valueOf()===a.valueOf()||i.getDay(t)===1&&t.valueOf()<l.valueOf())}function P_(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function V_(t){return P_(t)+":"+t.lastCol}function gM(t,e,i,a,l,o,c){let f=new vM(D=>{let k=t[D.index].eventRange.instance.instanceId+":"+D.span.start+":"+(D.span.end-1);return l[k]||1});f.allowReslicing=!0,f.strictOrder=a,e===!0||i===!0?(f.maxCoord=o,f.hiddenConsumes=!0):typeof e=="number"?f.maxStackCnt=e:typeof i=="number"&&(f.maxStackCnt=i,f.hiddenConsumes=!0);let g=[],p=[];for(let D=0;D<t.length;D+=1){let k=t[D],N=V_(k);l[N]!=null?g.push({index:D,span:{start:k.firstCol,end:k.lastCol+1}}):p.push(k)}let m=f.addSegs(g),y=f.toRects(),{singleColPlacements:b,multiColPlacements:_,leftoverMargins:w}=pM(y,t,c),A=[],T=[];for(let D of p){_[D.firstCol].push({seg:D,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let k=D.firstCol;k<=D.lastCol;k+=1)b[k].push({seg:ha(D,k,k+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<c.length;D+=1)A.push(0);for(let D of m){let k=t[D.index],N=D.span;_[N.start].push({seg:ha(k,N.start,N.end,c),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Z=N.start;Z<N.end;Z+=1)A[Z]+=1,b[Z].push({seg:ha(k,Z,Z+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<c.length;D+=1)T.push(w[D]);return{singleColPlacements:b,multiColPlacements:_,moreCnts:A,moreMarginTops:T}}function pM(t,e,i){let a=mM(t,i.length),l=[],o=[],c=[];for(let f=0;f<i.length;f+=1){let g=a[f],p=[],m=0,y=0;for(let _ of g){let w=e[_.index];p.push({seg:ha(w,f,f+1,i),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:_.levelCoord-m}),m=_.levelCoord+_.thickness}let b=[];m=0,y=0;for(let _ of g){let w=e[_.index],A=_.span.end-_.span.start>1,T=_.span.start===f;y+=_.levelCoord-m,m=_.levelCoord+_.thickness,A?(y+=_.thickness,T&&b.push({seg:ha(w,_.span.start,_.span.end,i),isVisible:!0,isAbsolute:!0,absoluteTop:_.levelCoord,marginTop:0})):T&&(b.push({seg:ha(w,_.span.start,_.span.end,i),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:y}),y=0)}l.push(p),o.push(b),c.push(y)}return{singleColPlacements:l,multiColPlacements:o,leftoverMargins:c}}function mM(t,e){let i=[];for(let a=0;a<e;a+=1)i.push([]);for(let a of t)for(let l=a.span.start;l<a.span.end;l+=1)i[l].push(a);return i}function ha(t,e,i,a){if(t.firstCol===e&&t.lastCol===i-1)return t;let l=t.eventRange,o=l.range,c=pa(o,{start:a[e].date,end:ht(a[i-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:i-1,eventRange:{def:l.def,ui:Object.assign(Object.assign({},l.ui),{durationEditable:!1}),instance:l.instance,range:c},isStart:t.isStart&&c.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&c.end.valueOf()===o.end.valueOf()})}class vM extends Wx{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const i=super.addSegs(e),{entriesByLevel:a}=this,l=o=>!this.forceHidden[Ts(o)];for(let o=0;o<a.length;o+=1)a[o]=a[o].filter(l);return i}handleInvalidInsertion(e,i,a){const{entriesByLevel:l,forceHidden:o}=this,{touchingEntry:c,touchingLevel:f,touchingLateral:g}=e;if(this.hiddenConsumes&&c){const p=Ts(c);if(!o[p])if(this.allowReslicing){const m=Object.assign(Object.assign({},c),{span:m_(c.span,i.span)}),y=Ts(m);o[y]=!0,l[f][g]=m,a.push(m),this.splitEntry(c,i,a)}else o[p]=!0,a.push(c)}super.handleInvalidInsertion(e,i,a)}}class G_ extends hr{constructor(){super(...arguments),this.cellElRefs=new rr,this.frameElRefs=new rr,this.fgElRefs=new rr,this.segHarnessRefs=new rr,this.rootElRef=Gn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:i,context:a}=this,{options:l}=a,o=e.cells.length,c=_o(e.businessHourSegs,o),f=_o(e.bgEventSegs,o),g=_o(this.getHighlightSegs(),o),p=_o(this.getMirrorSegs(),o),{singleColPlacements:m,multiColPlacements:y,moreCnts:b,moreMarginTops:_}=gM(dx(e.fgEventSegs,l.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,l.eventOrderStrict,i.segHeights,i.maxContentHeight,e.cells),w=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return q("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((A,T)=>{let D=this.renderFgSegs(T,e.forPrint?m[T]:y[T],e.todayRange,w),k=this.renderFgSegs(T,yM(p[T],y),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return q(dM,{key:A.key,elRef:this.cellElRefs.createRef(A.key),innerElRef:this.frameElRefs.createRef(A.key),dateProfile:e.dateProfile,date:A.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&T===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:A.extraRenderProps,extraDataAttrs:A.extraDataAttrs,extraClassNames:A.extraClassNames,extraDateSpan:A.extraDateSpan,moreCnt:b[T],moreMarginTop:_[T],singlePlacements:m[T],fgContentElRef:this.fgElRefs.createRef(A.key),fgContent:q(Ke,null,q(Ke,null,D),q(Ke,null,k)),bgContent:q(Ke,null,this.renderFillSegs(g[T],"highlight"),this.renderFillSegs(c[T],"non-business"),this.renderFillSegs(f[T],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,i){let a=this.props;this.updateSizing(!gn(e,a))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,i,a,l,o,c,f){let{context:g}=this,{eventSelection:p}=this.props,{framePositions:m}=this.state,y=this.props.cells.length===1,b=o||c||f,_=[];if(m)for(let w of i){let{seg:A}=w,{instanceId:T}=A.eventRange.instance,D=w.isVisible&&!l[T],k=w.isAbsolute,N="",Z="";k&&(g.isRtl?(Z=0,N=m.lefts[A.lastCol]-m.lefts[A.firstCol]):(N=0,Z=m.rights[A.firstCol]-m.rights[A.lastCol])),_.push(q("div",{className:"fc-daygrid-event-harness"+(k?" fc-daygrid-event-harness-abs":""),key:P_(A),ref:b?null:this.segHarnessRefs.createRef(V_(A)),style:{visibility:D?"":"hidden",marginTop:k?"":w.marginTop,top:k?w.absoluteTop:"",left:N,right:Z}},H_(A)?q(q_,Object.assign({seg:A,isDragging:o,isSelected:T===p,defaultDisplayEventEnd:y},As(A,a))):q(L_,Object.assign({seg:A,isDragging:o,isResizing:c,isDateSelecting:f,isSelected:T===p,defaultDisplayEventEnd:y},As(A,a)))))}return _}renderFillSegs(e,i){let{isRtl:a}=this.context,{todayRange:l}=this.props,{framePositions:o}=this.state,c=[];if(o)for(let f of e){let g=a?{right:0,left:o.lefts[f.lastCol]-o.lefts[f.firstCol]}:{left:0,right:o.rights[f.firstCol]-o.rights[f.lastCol]};c.push(q("div",{key:vx(f.eventRange),className:"fc-daygrid-bg-harness",style:g},i==="bg-event"?q(RO,Object.assign({seg:f},As(f,l))):DO(i)))}return q(Ke,{},...c)}updateSizing(e){let{props:i,state:a,frameElRefs:l}=this;if(!i.forPrint&&i.clientWidth!==null){if(e){let g=i.cells.map(p=>l.currentMap[p.key]);if(g.length){let p=this.rootElRef.current,m=new Ko(p,g,!0,!1);(!a.framePositions||!a.framePositions.similarTo(m))&&this.setState({framePositions:new Ko(p,g,!0,!1)})}}const o=this.state.segHeights,c=this.querySegHeights(),f=i.dayMaxEvents===!0||i.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),c),maxContentHeight:f?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,i={};for(let a in e){let l=Math.round(e[a].getBoundingClientRect().height);i[a]=Math.max(i[a]||0,l)}return i}computeMaxContentHeight(){let e=this.props.cells[0].key,i=this.cellElRefs.currentMap[e],a=this.fgElRefs.currentMap[e];return i.getBoundingClientRect().bottom-a.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(i=>e[i.key])}}G_.addStateEquality({segHeights:gn});function yM(t,e){if(!t.length)return[];let i=bM(e);return t.map(a=>({seg:a,isVisible:!0,isAbsolute:!0,absoluteTop:i[a.eventRange.instance.instanceId],marginTop:0}))}function bM(t){let e={};for(let i of t)for(let a of i)e[a.seg.eventRange.instance.instanceId]=a.absoluteTop;return e}class _M extends hr{constructor(){super(...arguments),this.splitBusinessHourSegs=Re(jo),this.splitBgEventSegs=Re(SM),this.splitFgEventSegs=Re(jo),this.splitDateSelectionSegs=Re(jo),this.splitEventDrag=Re(yb),this.splitEventResize=Re(yb),this.rowRefs=new rr}render(){let{props:e,context:i}=this,a=e.cells.length,l=this.splitBusinessHourSegs(e.businessHourSegs,a),o=this.splitBgEventSegs(e.bgEventSegs,a),c=this.splitFgEventSegs(e.fgEventSegs,a),f=this.splitDateSelectionSegs(e.dateSelectionSegs,a),g=this.splitEventDrag(e.eventDrag,a),p=this.splitEventResize(e.eventResize,a),m=a>=7&&e.clientWidth?e.clientWidth/i.options.aspectRatio/6:null;return q(cu,{unit:"day"},(y,b)=>q(Ke,null,e.cells.map((_,w)=>q(G_,{ref:this.rowRefs.createRef(w),key:_.length?_[0].date.toISOString():w,showDayNumbers:a>1,showWeekNumbers:e.showWeekNumbers,todayRange:b,dateProfile:e.dateProfile,cells:_,renderIntro:e.renderRowIntro,businessHourSegs:l[w],eventSelection:e.eventSelection,bgEventSegs:o[w],fgEventSegs:c[w],dateSelectionSegs:f[w],eventDrag:g[w],eventResize:p[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:m,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],i=e?e.closest(".fc-daygrid-body"):null;i&&(this.rootEl=i,this.context.registerInteractiveComponent(this,{el:i,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Ko(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Ko(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,i){let{colPositions:a,rowPositions:l}=this,o=a.leftToIndex(e),c=l.topToIndex(i);if(c!=null&&o!=null){let f=this.props.cells[c][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(c,o),allDay:!0},f.extraDateSpan),dayEl:this.getCellEl(c,o),rect:{left:a.lefts[o],right:a.rights[o],top:l.tops[c],bottom:l.bottoms[c]},layer:0}}return null}getCellEl(e,i){return this.rowRefs.currentMap[e].getCellEls()[i]}getCellRange(e,i){let a=this.props.cells[e][i].date,l=ht(a,1);return{start:a,end:l}}}function SM(t,e){return jo(t.filter(EM),e)}function EM(t){return t.eventRange.def.allDay}class wM extends hr{constructor(){super(...arguments),this.elRef=Gn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:i,dayMaxEvents:a,expandRows:l}=e,o=a===!0||i===!0;o&&!l&&(o=!1,i=null,a=null);let c=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"];return q("div",{ref:this.elRef,className:c.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},q("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:l?e.clientHeight:""}},e.colGroupNode,q("tbody",{role:"presentation"},q(_M,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:a,dayMaxEventRows:i,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=AM(this.elRef.current,this.props.dateProfile);if(e){const i=e.closest(".fc-daygrid-body"),a=i.closest(".fc-scroller"),l=e.getBoundingClientRect().top-i.getBoundingClientRect().top;a.scrollTop=l?l+1:0}this.needsScrollReset=!1}}}function AM(t,e){let i;return e.currentRangeUnit.match(/year|month/)&&(i=t.querySelector(`[data-date="${XD(e.currentDate)}-01"]`)),i||(i=t.querySelector(`[data-date="${fh(e.currentDate)}"]`)),i}class TM extends iO{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,i){return i.sliceRange(e)}}class RM extends hr{constructor(){super(...arguments),this.slicer=new TM,this.tableRef=Gn()}render(){let{props:e,context:i}=this;return q(wM,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,i,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class CM extends sM{constructor(){super(...arguments),this.buildDayTableModel=Re(DM),this.headerRef=Gn(),this.tableRef=Gn()}render(){let{options:e,dateProfileGenerator:i}=this.context,{props:a}=this,l=this.buildDayTableModel(a.dateProfile,i),o=e.dayHeaders&&q(Jx,{ref:this.headerRef,dateProfile:a.dateProfile,dates:l.headerDates,datesRepDistinctDays:l.rowCnt===1}),c=f=>q(RM,{ref:this.tableRef,dateProfile:a.dateProfile,dayTableModel:l,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:f.tableColGroupNode,tableMinWidth:f.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:f.clientWidth,clientHeight:f.clientHeight,forPrint:a.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,c,l.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,c)}}function DM(t,e){let i=new tO(t.renderRange,e);return new nO(i,/year|month|week/.test(t.currentRangeUnit))}class xM extends Z0{buildRenderRange(e,i,a){let l=super.buildRenderRange(e,i,a),{props:o}=this;return OM({currentRange:l,snapToWeek:/^(year|month)$/.test(i),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}}function OM(t){let{dateEnv:e,currentRange:i}=t,{start:a,end:l}=i,o;if(t.snapToWeek&&(a=e.startOfWeek(a),o=e.startOfWeek(l),o.valueOf()!==l.valueOf()&&(l=Vy(o,1))),t.fixedWeekCount){let c=e.startOfWeek(e.startOfMonth(ht(i.end,-1))),f=Math.ceil(LD(c,l));l=Vy(l,6-f)}return{start:a,end:l}}var kM=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';j0(kM);var MM=Ci({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:CM,dateProfileGeneratorClass:xM},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});xh.touchMouseIgnoreWait=500;let Yf=0,Xo=0,Wf=!1;class $_{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=i=>{if(!this.shouldIgnoreMouse()&&jM(i)&&this.tryStart(i)){let a=this.createEventFromMouse(i,!0);this.emitter.trigger("pointerdown",a),this.initScrollWatch(a),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=i=>{let a=this.createEventFromMouse(i);this.recordCoords(a),this.emitter.trigger("pointermove",a)},this.handleMouseUp=i=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(i)),this.cleanup()},this.handleTouchStart=i=>{if(this.tryStart(i)){this.isTouchDragging=!0;let a=this.createEventFromTouch(i,!0);this.emitter.trigger("pointerdown",a),this.initScrollWatch(a);let l=i.target;this.shouldIgnoreMove||l.addEventListener("touchmove",this.handleTouchMove),l.addEventListener("touchend",this.handleTouchEnd),l.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=i=>{let a=this.createEventFromTouch(i);this.recordCoords(a),this.emitter.trigger("pointermove",a)},this.handleTouchEnd=i=>{if(this.isDragging){let a=i.target;a.removeEventListener("touchmove",this.handleTouchMove),a.removeEventListener("touchend",this.handleTouchEnd),a.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(i)),this.cleanup(),this.isTouchDragging=!1,NM()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=i=>{if(!this.shouldIgnoreMove){let a=window.scrollX-this.prevScrollX+this.prevPageX,l=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:i,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:a,pageY:l,deltaX:a-this.origPageX,deltaY:l-this.origPageY})}},this.containerEl=e,this.emitter=new uu,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),UM()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),zM()}tryStart(e){let i=this.querySubjectEl(e),a=e.target;return i&&(!this.handleSelector||wt(a,this.handleSelector))?(this.subjectEl=i,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Wf=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?wt(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Yf||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Wf=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,i){let a=0,l=0;return i?(this.origPageX=e.pageX,this.origPageY=e.pageY):(a=e.pageX-this.origPageX,l=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:a,deltaY:l}}createEventFromTouch(e,i){let a=e.touches,l,o,c=0,f=0;return a&&a.length?(l=a[0].pageX,o=a[0].pageY):(l=e.pageX,o=e.pageY),i?(this.origPageX=l,this.origPageY=o):(c=l-this.origPageX,f=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:l,pageY:o,deltaX:c,deltaY:f}}}function jM(t){return t.button===0&&!t.ctrlKey}function NM(){Yf+=1,setTimeout(()=>{Yf-=1},xh.touchMouseIgnoreWait)}function UM(){Xo+=1,Xo===1&&window.addEventListener("touchmove",Y_,{passive:!1})}function zM(){Xo-=1,Xo||window.removeEventListener("touchmove",Y_,{passive:!1})}function Y_(t){Wf&&t.preventDefault()}class BM{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,i,a){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=i-window.scrollX,this.origScreenY=a-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,i){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=i-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,i){let a=()=>{this.cleanup(),i()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(a,this.revertDuration):setTimeout(a,0)}doRevertAnimation(e,i){let a=this.mirrorEl,l=this.sourceEl.getBoundingClientRect();a.style.transition="top "+i+"ms,left "+i+"ms",Ss(a,{left:l.left,top:l.top}),ED(a,()=>{a.style.transition="",e()})}cleanup(){this.mirrorEl&&(uh(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Ss(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,i=this.mirrorEl;return i||(i=this.mirrorEl=this.sourceEl.cloneNode(!0),i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.pointerEvents="none",i.classList.add("fc-event-dragging"),Ss(i,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(i)),i}}class W_ extends Dh{constructor(e,i){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=i,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Q_ extends W_{constructor(e,i){super(new $x(e),i)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Vx(this.scrollController.el)}}class IM extends W_{constructor(e){super(new Yx,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const bb=typeof performance=="function"?performance.now:Date.now;class HM{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let i=bb();this.handleSide(e,(i-this.msSinceRequest)/1e3),this.requestAnimation(i)}else this.isAnimating=!1}}}start(e,i,a){this.isEnabled&&(this.scrollCaches=this.buildCaches(a),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,i))}handleMove(e,i){if(this.isEnabled){let a=e-window.scrollX,l=i-window.scrollY,o=this.pointerScreenY===null?0:l-this.pointerScreenY,c=this.pointerScreenX===null?0:a-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),c<0?this.everMovedLeft=!0:c>0&&(this.everMovedRight=!0),this.pointerScreenX=a,this.pointerScreenY=l,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(bb()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,i){let{scrollCache:a}=e,{edgeThreshold:l}=this,o=l-e.distance,c=o*o/(l*l)*this.maxVelocity*i,f=1;switch(e.name){case"left":f=-1;case"right":a.setScrollLeft(a.getScrollLeft()+c*f);break;case"top":f=-1;case"bottom":a.setScrollTop(a.getScrollTop()+c*f);break}}computeBestEdge(e,i){let{edgeThreshold:a}=this,l=null,o=this.scrollCaches||[];for(let c of o){let f=c.clientRect,g=e-f.left,p=f.right-e,m=i-f.top,y=f.bottom-i;g>=0&&p>=0&&m>=0&&y>=0&&(m<=a&&this.everMovedUp&&c.canScrollUp()&&(!l||l.distance>m)&&(l={scrollCache:c,name:"top",distance:m}),y<=a&&this.everMovedDown&&c.canScrollDown()&&(!l||l.distance>y)&&(l={scrollCache:c,name:"bottom",distance:y}),g<=a&&this.everMovedLeft&&c.canScrollLeft()&&(!l||l.distance>g)&&(l={scrollCache:c,name:"left",distance:g}),p<=a&&this.everMovedRight&&c.canScrollRight()&&(!l||l.distance>p)&&(l={scrollCache:c,name:"right",distance:p}))}return l}buildCaches(e){return this.queryScrollEls(e).map(i=>i===window?new IM(!1):new Q_(i,!1))}queryScrollEls(e){let i=[];for(let a of this.scrollQuery)typeof a=="object"?i.push(a):i.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(a)));return i}}class Vs extends Qx{constructor(e,i){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=l=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,wD(document.body),TD(document.body),l.isTouch||l.origEvent.preventDefault(),this.emitter.trigger("pointerdown",l),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(l.subjectEl,l.pageX,l.pageY),this.startDelay(l),this.minDistance||this.handleDistanceSurpassed(l)))},this.onPointerMove=l=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",l),!this.isDistanceSurpassed){let o=this.minDistance,c,{deltaX:f,deltaY:g}=l;c=f*f+g*g,c>=o*o&&this.handleDistanceSurpassed(l)}this.isDragging&&(l.origEvent.type!=="scroll"&&(this.mirror.handleMove(l.pageX,l.pageY),this.autoScroller.handleMove(l.pageX,l.pageY)),this.emitter.trigger("dragmove",l))}},this.onPointerUp=l=>{this.isInteracting&&(this.isInteracting=!1,AD(document.body),RD(document.body),this.emitter.trigger("pointerup",l),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(l)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let a=this.pointer=new $_(e);a.emitter.on("pointerdown",this.onPointerDown),a.emitter.on("pointermove",this.onPointerMove),a.emitter.on("pointerup",this.onPointerUp),i&&(a.selector=i),this.mirror=new BM,this.autoScroller=new HM}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class LM{constructor(e){this.el=e,this.origRect=Ch(e),this.scrollCaches=p_(e).map(i=>new Q_(i,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let i of this.scrollCaches)e+=i.origScrollLeft-i.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let i of this.scrollCaches)e+=i.origScrollTop-i.getScrollTop();return e}isWithinClipping(e,i){let a={left:e,top:i};for(let l of this.scrollCaches)if(!qM(l.getEventTarget())&&!Mx(a,l.clientRect))return!1;return!0}}function qM(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class du{constructor(e,i){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=a=>{let{dragging:l}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(a),this.initialHit||!this.requireInitial?(l.setIgnoreMove(!1),this.emitter.trigger("pointerdown",a)):l.setIgnoreMove(!0)},this.handleDragStart=a=>{this.emitter.trigger("dragstart",a),this.handleMove(a,!0)},this.handleDragMove=a=>{this.emitter.trigger("dragmove",a),this.handleMove(a)},this.handlePointerUp=a=>{this.releaseHits(),this.emitter.trigger("pointerup",a)},this.handleDragEnd=a=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,a),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",a)},this.droppableStore=i,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new uu}processFirstCoord(e){let i={left:e.pageX,top:e.pageY},a=i,l=e.subjectEl,o;l instanceof HTMLElement&&(o=Ch(l),a=jx(a,o));let c=this.initialHit=this.queryHitForOffset(a.left,a.top);if(c){if(this.useSubjectCenter&&o){let f=f_(o,c.rect);f&&(a=Nx(f))}this.coordAdjust=Ux(a,i)}else this.coordAdjust={left:0,top:0}}handleMove(e,i){let a=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(i||!fu(this.movingHit,a))&&(this.movingHit=a,this.emitter.trigger("hitupdate",a,!1,e))}prepareHits(){this.offsetTrackers=cr(this.droppableStore,e=>(e.component.prepareHits(),new LM(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let i in e)e[i].destroy();this.offsetTrackers={}}queryHitForOffset(e,i){let{droppableStore:a,offsetTrackers:l}=this,o=null;for(let c in a){let f=a[c].component,g=l[c];if(g&&g.isWithinClipping(e,i)){let p=g.computeLeft(),m=g.computeTop(),y=e-p,b=i-m,{origRect:_}=g,w=_.right-_.left,A=_.bottom-_.top;if(y>=0&&y<w&&b>=0&&b<A){let T=f.queryHit(y,b,w,A);T&&lu(T.dateProfile.activeRange,T.dateSpan.range)&&(this.disablePointCheck||g.el.contains(g.el.getRootNode().elementFromPoint(y+p-window.scrollX,b+m-window.scrollY)))&&(!o||T.layer>o.layer)&&(T.componentId=c,T.context=f.context,T.rect.left+=p,T.rect.right+=p,T.rect.top+=m,T.rect.bottom+=m,o=T)}}}return o}}function fu(t,e){return!t&&!e?!0:!!t!=!!e?!1:Sx(t.dateSpan,e.dateSpan)}function F_(t,e){let i={};for(let a of e.pluginHooks.datePointTransforms)Object.assign(i,a(t,e));return Object.assign(i,PM(t,e.dateEnv)),i}function PM(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class VM extends Sa{constructor(e){super(e),this.handlePointerDown=a=>{let{dragging:l}=this,o=a.origEvent.target;l.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=a=>{let{component:l}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:c,finalHit:f}=this.hitDragging;if(c&&f&&fu(c,f)){let{context:g}=l,p=Object.assign(Object.assign({},F_(c.dateSpan,g)),{dayEl:c.dayEl,jsEvent:a.origEvent,view:g.viewApi||g.calendarApi.view});g.emitter.trigger("dateClick",p)}}},this.dragging=new Vs(e.el),this.dragging.autoScroller.isEnabled=!1;let i=this.hitDragging=new du(this.dragging,Th(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class GM extends Sa{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=c=>{let{component:f,dragging:g}=this,{options:p}=f.context,m=p.selectable&&f.isValidDateDownEl(c.origEvent.target);g.setIgnoreMove(!m),g.delay=c.isTouch?$M(f):null},this.handleDragStart=c=>{this.component.context.calendarApi.unselect(c)},this.handleHitUpdate=(c,f)=>{let{context:g}=this.component,p=null,m=!1;if(c){let y=this.hitDragging.initialHit;c.componentId===y.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(y,c)||(p=YM(y,c,g.pluginHooks.dateSelectionTransformers)),(!p||!rO(p,c.dateProfile,g))&&(m=!0,p=null)}p?g.dispatch({type:"SELECT_DATES",selection:p}):f||g.dispatch({type:"UNSELECT_DATES"}),m?ch():dh(),f||(this.dragSelection=p)},this.handlePointerUp=c=>{this.dragSelection&&(r_(this.dragSelection,c,this.component.context),this.dragSelection=null)};let{component:i}=e,{options:a}=i.context,l=this.dragging=new Vs(e.el);l.touchScrollAllowed=!1,l.minDistance=a.selectMinDistance||0,l.autoScroller.isEnabled=a.dragScroll;let o=this.hitDragging=new du(this.dragging,Th(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function $M(t){let{options:e}=t.context,i=e.selectLongPressDelay;return i==null&&(i=e.longPressDelay),i}function YM(t,e,i){let a=t.dateSpan,l=e.dateSpan,o=[a.range.start,a.range.end,l.range.start,l.range.end];o.sort(kD);let c={};for(let f of i){let g=f(t,e);if(g===!1)return null;g&&Object.assign(c,g)}return c.range={start:o[0],end:o[3]},c.allDay=a.allDay,c}class Gs extends Sa{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let f=c.origEvent.target,{component:g,dragging:p}=this,{mirror:m}=p,{options:y}=g.context,b=g.context;this.subjectEl=c.subjectEl;let _=this.subjectSeg=ma(c.subjectEl),A=(this.eventRange=_.eventRange).instance.instanceId;this.relevantEvents=Sh(b.getCurrentData().eventStore,A),p.minDistance=c.isTouch?0:y.eventDragMinDistance,p.delay=c.isTouch&&A!==g.props.eventSelection?QM(g):null,y.fixedMirrorParent?m.parentNode=y.fixedMirrorParent:m.parentNode=wt(f,".fc"),m.revertDuration=y.dragRevertDuration;let T=g.isValidSegDownEl(f)&&!wt(f,".fc-event-resizer");p.setIgnoreMove(!T),this.isDragging=T&&c.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=c=>{let f=this.component.context,g=this.eventRange,p=g.instance.instanceId;c.isTouch?p!==this.component.props.eventSelection&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:p}):f.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(f.calendarApi.unselect(c),f.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ve(f,g.def,g.instance),jsEvent:c.origEvent,view:f.viewApi}))},this.handleHitUpdate=(c,f)=>{if(!this.isDragging)return;let g=this.relevantEvents,p=this.hitDragging.initialHit,m=this.component.context,y=null,b=null,_=null,w=!1,A={affectedEvents:g,mutatedEvents:hn(),isEvent:!0};if(c){y=c.context;let T=y.options;m===y||T.editable&&T.droppable?(b=WM(p,c,this.eventRange.instance.range.start,y.getCurrentData().pluginHooks.eventDragMutationMassagers),b&&(_=Ah(g,y.getCurrentData().eventUiBases,b,y),A.mutatedEvents=_,b_(A,c.dateProfile,y)||(w=!0,b=null,_=null,A.mutatedEvents=hn()))):y=null}this.displayDrag(y,A),w?ch():dh(),f||(m===y&&fu(p,c)&&(b=null),this.dragging.setMirrorNeedsRevert(!b),this.dragging.setMirrorIsVisible(!c||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=y,this.validMutation=b,this.mutatedRelevantEvents=_)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=c=>{if(this.isDragging){let f=this.component.context,g=f.viewApi,{receivingContext:p,validMutation:m}=this,y=this.eventRange.def,b=this.eventRange.instance,_=new Ve(f,y,b),w=this.relevantEvents,A=this.mutatedRelevantEvents,{finalHit:T}=this.hitDragging;if(this.clearDrag(),f.emitter.trigger("eventDragStop",{el:this.subjectEl,event:_,jsEvent:c.origEvent,view:g}),m){if(p===f){let D=new Ve(f,A.defs[y.defId],b?A.instances[b.instanceId]:null);f.dispatch({type:"MERGE_EVENTS",eventStore:A});let k={oldEvent:_,event:D,relatedEvents:ar(A,f,b),revert(){f.dispatch({type:"MERGE_EVENTS",eventStore:w})}},N={};for(let Z of f.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(N,Z(m,f));f.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},k),N),{el:c.subjectEl,delta:m.datesDelta,jsEvent:c.origEvent,view:g})),f.emitter.trigger("eventChange",k)}else if(p){let D={event:_,relatedEvents:ar(w,f,b),revert(){f.dispatch({type:"MERGE_EVENTS",eventStore:w})}};f.emitter.trigger("eventLeave",Object.assign(Object.assign({},D),{draggedEl:c.subjectEl,view:g})),f.dispatch({type:"REMOVE_EVENTS",eventStore:w}),f.emitter.trigger("eventRemove",D);let k=A.defs[y.defId],N=A.instances[b.instanceId],Z=new Ve(p,k,N);p.dispatch({type:"MERGE_EVENTS",eventStore:A});let ee={event:Z,relatedEvents:ar(A,p,N),revert(){p.dispatch({type:"REMOVE_EVENTS",eventStore:A})}};p.emitter.trigger("eventAdd",ee),c.isTouch&&p.dispatch({type:"SELECT_EVENT",eventInstanceId:b.instanceId}),p.emitter.trigger("drop",Object.assign(Object.assign({},F_(T.dateSpan,p)),{draggedEl:c.subjectEl,jsEvent:c.origEvent,view:T.context.viewApi})),p.emitter.trigger("eventReceive",Object.assign(Object.assign({},ee),{draggedEl:c.subjectEl,view:T.context.viewApi}))}}else f.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:a}=i.context,l=this.dragging=new Vs(e.el);l.pointer.selector=Gs.SELECTOR,l.touchScrollAllowed=!1,l.autoScroller.isEnabled=a.dragScroll;let o=this.hitDragging=new du(this.dragging,Vf);o.useSubjectCenter=e.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,i){let a=this.component.context,l=this.receivingContext;l&&l!==e&&(l===a?l.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:hn(),isEvent:!0}}):l.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let e=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),e!==i&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Gs.SELECTOR=".fc-event-draggable, .fc-event-resizable";function WM(t,e,i,a){let l=t.dateSpan,o=e.dateSpan,c=l.range.start,f=o.range.start,g={};l.allDay!==o.allDay&&(g.allDay=o.allDay,g.hasEnd=e.context.options.allDayMaintainDuration,o.allDay?c=Pe(i):c=i);let p=ca(c,f,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);p.milliseconds&&(g.allDay=!1);let m={datesDelta:p,standardProps:g};for(let y of a)y(m,t,e);return m}function QM(t){let{options:e}=t.context,i=e.eventLongPressDelay;return i==null&&(i=e.longPressDelay),i}class FM extends Sa{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:c}=this,f=this.querySegEl(o),g=ma(f),p=this.eventRange=g.eventRange;this.dragging.minDistance=c.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==p.instance.instanceId)},this.handleDragStart=o=>{let{context:c}=this.component,f=this.eventRange;this.relevantEvents=Sh(c.getCurrentData().eventStore,this.eventRange.instance.instanceId);let g=this.querySegEl(o);this.draggingSegEl=g,this.draggingSeg=ma(g),c.calendarApi.unselect(),c.emitter.trigger("eventResizeStart",{el:g,event:new Ve(c,f.def,f.instance),jsEvent:o.origEvent,view:c.viewApi})},this.handleHitUpdate=(o,c,f)=>{let{context:g}=this.component,p=this.relevantEvents,m=this.hitDragging.initialHit,y=this.eventRange.instance,b=null,_=null,w=!1,A={affectedEvents:p,mutatedEvents:hn(),isEvent:!0};o&&(o.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,o)||(b=ZM(m,o,f.subjectEl.classList.contains("fc-event-resizer-start"),y.range))),b&&(_=Ah(p,g.getCurrentData().eventUiBases,b,g),A.mutatedEvents=_,b_(A,o.dateProfile,g)||(w=!0,b=null,_=null,A.mutatedEvents=null)),_?g.dispatch({type:"SET_EVENT_RESIZE",state:A}):g.dispatch({type:"UNSET_EVENT_RESIZE"}),w?ch():dh(),c||(b&&fu(m,o)&&(b=null),this.validMutation=b,this.mutatedRelevantEvents=_)},this.handleDragEnd=o=>{let{context:c}=this.component,f=this.eventRange.def,g=this.eventRange.instance,p=new Ve(c,f,g),m=this.relevantEvents,y=this.mutatedRelevantEvents;if(c.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:p,jsEvent:o.origEvent,view:c.viewApi}),this.validMutation){let b=new Ve(c,y.defs[f.defId],g?y.instances[g.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:y});let _={oldEvent:p,event:b,relatedEvents:ar(y,c,g),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:m})}};c.emitter.trigger("eventResize",Object.assign(Object.assign({},_),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||De(0),endDelta:this.validMutation.endDelta||De(0),jsEvent:o.origEvent,view:c.viewApi})),c.emitter.trigger("eventChange",_)}else c.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:i}=e,a=this.dragging=new Vs(e.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=i.context.options.dragScroll;let l=this.hitDragging=new du(this.dragging,Th(e));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return wt(e.subjectEl,".fc-event")}}function ZM(t,e,i,a){let l=t.context.dateEnv,o=t.dateSpan.range.start,c=e.dateSpan.range.start,f=ca(o,c,l,t.largeUnit);if(i){if(l.add(a.start,f)<a.end)return{startDelta:f}}else if(l.add(a.end,f)>a.start)return{endDelta:f};return null}class KM{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=a=>{a.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=a=>{let l=this.context.options.unselectCancel,o=B0(a.origEvent);this.matchesCancel=!!wt(o,l),this.matchesEvent=!!wt(o,Gs.SELECTOR)},this.onDocumentPointerUp=a=>{let{context:l}=this,{documentPointer:o}=this,c=l.getCurrentData();if(!o.wasTouchScroll){if(c.dateSelection&&!this.isRecentPointerDateSelect){let f=l.options.unselectAuto;f&&(!f||!this.matchesCancel)&&l.calendarApi.unselect(a)}c.eventSelection&&!this.matchesEvent&&l.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let i=this.documentPointer=new $_(document);i.shouldIgnoreMove=!0,i.shouldWatchScroll=!1,i.emitter.on("pointerdown",this.onDocumentPointerDown),i.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const XM={fixedMirrorParent:H},JM={dateClick:H,eventDragStart:H,eventDragStop:H,eventDrop:H,eventResizeStart:H,eventResizeStop:H,eventResize:H,drop:H,eventReceive:H,eventLeave:H};xh.dataAttrPrefix="";var ej=Ci({name:"@fullcalendar/interaction",componentInteractions:[VM,GM,Gs,FM],calendarInteractions:[KM],elementDraggingImpl:Vs,optionRefiners:XM,listenerRefiners:JM});function tj(){const[t,e]=M.useState([]),[i,a]=M.useState(!1),[l,o]=M.useState(null),[c,f]=M.useState(!1),[g,p]=M.useState(null),[m,y]=M.useState(null),[b,_]=M.useState([]),[w,A]=M.useState(!1),[T,D]=M.useState(!1),k=M.useMemo(()=>Rs(new Date),[]);async function N(){a(!0),o(null);try{const{data:O,error:G}=await ze.from("bookings").select("id,label,start_date,end_date,notes,is_blocked").order("start_date",{ascending:!0});if(G){e([]),o("Unable to load bookings. Please try again.");return}const Q=O||[],X=[];for(const re of Q){const pe=re.label,we=nj(pe),Be=re.is_blocked?"#9a4f4f":rj(pe);let sn=re.start_date;for(;sn<re.end_date;){const xi=Rs(aj(Mh(sn),1));X.push({id:`${re.id}-${sn}`,title:re.is_blocked?`Blocked: ${pe}`:pe,start:sn,end:xi,notes:re.notes||void 0,extendedProps:{label:pe,initials:we,isBlocked:re.is_blocked,color:Be,bookingId:re.id}}),sn=xi}}e(X)}finally{a(!1)}}async function Z(){A(!0);try{const{data:O,error:G}=await ze.from("profiles").select("id,email,first_name,last_name,is_active").eq("is_active",!0).order("first_name",{ascending:!0});if(G){_([]);return}_(O||[])}finally{A(!1)}}M.useEffect(()=>{N(),Z(),ze.auth.getUser().then(({data:O})=>{y(O.user?.id??null)})},[]);const ee=t,[I,F]=M.useState(null),[K,fe]=M.useState(null);M.useEffect(()=>((I||K)&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[I,K]);function ke(){p(null);const G=Rs(new Date);F({start:G,end:"",userIds:m?[m]:[],notes:""}),D(!1)}function st(){p(null),D(!1),F(null)}function Se(){fe(null)}function St(O){fe(O.dateStr)}function lt(O){const Q=O.el.closest(".fc-daygrid-day")?.getAttribute("data-date");if(Q){fe(Q);return}const X=O.event.startStr;fe(X?X.slice(0,10):null)}async function et(){if(!I)return;if(!I.userIds||I.userIds.length===0){p("Please select at least one person.");return}const O=J(I.userIds,b).trim();if(!O){p("Please select at least one person.");return}if(!I.start||!I.end){p("Please select a start and end date.");return}const G=Eo(I.end);if(So(I.start,G)){p("End date must be the same as or after the start date.");return}f(!0),p(null);try{const{data:Q,error:X}=await ze.auth.getUser();if(X||!Q?.user?.id){p("Sign-in is required to book dates. Please sign in again.");return}const{error:re}=await ze.from("bookings").insert({label:O,start_date:I.start,end_date:I.end,notes:(I.notes||"").trim()?(I.notes||"").trim():null,is_blocked:!1,created_by:Q.user.id});if(re){p("Unable to save this entry. Please try again.");return}st(),await N()}finally{f(!1)}}function P(O){return[O.first_name,O.last_name].filter(Boolean).join(" ").trim()||"Unknown"}function J(O,G){const Q=new Map(G.map(we=>[we.id,we])),X=O.map(we=>Q.get(we)).filter(Boolean).map(we=>P(we)),re=new Set;return X.filter(we=>re.has(we)?!1:(re.add(we),!0)).join(", ")}function se(O){if(!I)return;const Q=I.userIds.includes(O)?I.userIds.filter(X=>X!==O):[...I.userIds,O];F({...I,userIds:Q})}const W=M.useMemo(()=>I?J(I.userIds,b)||"Select people":"",[I,b]),ue={width:"100%",padding:"12px 12px",borderRadius:12,border:"1px solid rgba(47, 111, 115, 0.25)",background:"rgba(255,255,255,0.95)",color:"#1f2933",fontFamily:"inherit",fontSize:14,lineHeight:1.2,boxSizing:"border-box"},C=M.useMemo(()=>K?lj(t,K):[],[t,K]);return E.jsxs("div",{style:{minHeight:"100vh",background:"#eef4f3",color:"#1f2933",padding:16},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[E.jsx("h1",{style:{margin:0,fontSize:28},children:"Calendar"}),E.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:12},children:[l?E.jsx("span",{style:{fontSize:13,color:"#9a4f4f",fontWeight:800},children:l}):i?E.jsx("span",{style:{fontSize:13,opacity:.8,fontWeight:800},children:"Loading"}):null,E.jsx("button",{onClick:ke,children:"Book"}),E.jsx("button",{type:"button",onClick:N,"aria-label":"Refresh bookings",title:"Refresh",style:{width:40,height:40,borderRadius:12,border:"1px solid rgba(47, 111, 115, 0.25)",background:"rgba(255,255,255,0.85)",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#2f6f73"},children:E.jsx("span",{"aria-hidden":"true",style:{fontSize:18,lineHeight:1,fontWeight:900},children:""})})]})]}),E.jsx("style",{children:`
          /* FullCalendar palette: soft lake tones */
          .fc {
            --fc-border-color: #d6e6e3;
            --fc-page-bg-color: #ffffff;
            --fc-neutral-bg-color: #ffffff;
            --fc-neutral-text-color: #1f2933;

            --fc-today-bg-color: rgba(95, 167, 163, 0.18);

            --fc-event-bg-color: #2f6f73;
            --fc-event-border-color: #2f6f73;
            --fc-event-text-color: #ffffff;

            --fc-button-bg-color: #2f6f73;
            --fc-button-border-color: #2f6f73;
            --fc-button-text-color: #ffffff;

            --fc-button-hover-bg-color: #5fa7a3;
            --fc-button-hover-border-color: #5fa7a3;

            --fc-button-active-bg-color: #255b5e;
            --fc-button-active-border-color: #255b5e;
          }

          .fc .fc-toolbar-title {
            color: #1f2933;
            font-weight: 800;
            font-size: 18px;
          }

          .fc .fc-button-group {
            display: inline-flex;
            gap: 10px;
          }

          .fc .fc-col-header-cell-cushion,
          .fc .fc-daygrid-day-number {
            color: #1f2933;
          }

          /* Render events as avatars (no bars) */
          .fc .fc-daygrid-event {
            background: transparent !important;
            border: 0 !important;
            padding: 0 !important;
            margin: 2px 0 !important;
            box-shadow: none !important;
          }

          .fc .fc-daygrid-event .fc-event-main {
            padding: 0 !important;
          }

          .fc .fc-daygrid-event-harness {
            margin-top: 2px;
          }

          /* Center avatar events inside the day cell */
          .fc .fc-daygrid-event-harness {
            display: flex;
            justify-content: center;
          }

          .fc .fc-daygrid-event {
            justify-content: center;
          }

          .fc .fc-daygrid-event .fc-event-main-frame {
            justify-content: center;
          }
        `}),E.jsx("div",{style:{background:"#ffffff",border:"1px solid #d6e6e3",borderRadius:14,padding:12},children:E.jsx(z_,{plugins:[MM,ej],initialView:"dayGridMonth",height:"auto",events:ee,selectable:!1,dateClick:St,eventClick:lt,eventContent:O=>{const G=O.event.extendedProps||{},Q=(G.initials||"").toString().slice(0,2)||"??",X=!!G.isBlocked;return E.jsx("div",{title:O.event.title,style:{width:22,height:22,borderRadius:999,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:10,fontWeight:900,letterSpacing:.2,color:"#ffffff",background:X?"#9a4f4f":G.color||"#2f6f73",border:"1px solid rgba(0,0,0,0.08)",userSelect:"none"},children:Q})},headerToolbar:{left:"prev,next",center:"title",right:""},titleFormat:{year:"numeric",month:"long"},dayCellContent:O=>{const G=O.date;return`${G.getMonth()+1}/${G.getDate()}`}})}),K&&E.jsx(_b,{onClose:Se,title:hf(K),children:C.length===0?E.jsxs("div",{style:{fontSize:14},children:[E.jsx("strong",{children:"No one is booked"}),E.jsx("div",{style:{marginTop:6,opacity:.8},children:'Use Book" to indicate you will be here on this date!'})]}):E.jsx("div",{style:{display:"grid",gap:12},children:C.map(O=>E.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:10,padding:12},children:[E.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between"},children:[E.jsx("strong",{children:O.title}),E.jsxs("span",{style:{fontSize:16,opacity:.75},children:[hf(O.start),"  ",hf(Eo(O.end))]})]}),O.notes?E.jsx("div",{style:{marginTop:8,fontSize:13,opacity:.9},children:O.notes}):E.jsx("div",{style:{marginTop:8,fontSize:13,opacity:.6},children:"No notes provided."})]},O.id))})}),I&&E.jsxs(_b,{onClose:st,title:"Book Your Dates!",children:[E.jsxs("div",{style:{marginTop:8,display:"grid",gap:12},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:16,opacity:.7,marginBottom:4},children:"Start date"}),E.jsx("input",{type:"date",value:I.start,min:k,onClick:O=>{const G=O.currentTarget;typeof G.showPicker=="function"&&G.showPicker()},onFocus:O=>{const G=O.currentTarget;typeof G.showPicker=="function"&&G.showPicker()},onChange:O=>{const G=O.target.value,Q=So(k,G)?k:G;if(I.end){const X=Eo(I.end);if(So(Q,X)){F({...I,start:Q,end:gf(Q)});return}}F({...I,start:Q})},style:{...ue,cursor:"pointer"}})]}),E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:16,opacity:.7,marginBottom:4},children:"End date"}),E.jsx("input",{type:"date",value:I.end?Eo(I.end):"",min:I.start,onClick:O=>{const G=O.currentTarget;typeof G.showPicker=="function"&&G.showPicker()},onFocus:O=>{const G=O.currentTarget;typeof G.showPicker=="function"&&G.showPicker()},onChange:O=>{const G=O.target.value;if(!G){F({...I,end:""});return}if(So(I.start,G)){F({...I,end:gf(I.start)});return}F({...I,end:gf(G)})},style:{...ue,cursor:"pointer",color:I.end?"#1f2933":"transparent",caretColor:I.end?"#1f2933":"transparent"}})]}),E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:16,opacity:.7,marginBottom:4},children:"Guest(s)"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsxs("button",{type:"button",onClick:()=>D(O=>!O),style:{width:"100%",textAlign:"left",padding:"12px 12px",borderRadius:12,border:"1px solid rgba(47, 111, 115, 0.25)",background:"rgba(255,255,255,0.95)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[E.jsx("span",{style:{fontSize:14,fontWeight:800,color:"#1f2933",minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:W}),E.jsx("span",{"aria-hidden":"true",style:{opacity:.75,fontWeight:900},children:T?"":""})]}),T?E.jsxs("div",{style:{position:"absolute",left:0,right:0,marginTop:8,borderRadius:12,border:"1px solid rgba(47, 111, 115, 0.25)",background:"rgba(255,255,255,0.98)",boxShadow:"0 10px 25px rgba(0,0,0,0.12)",padding:10,zIndex:5,maxHeight:220,overflowY:"auto"},children:[w?E.jsx("div",{style:{fontSize:13,opacity:.75,padding:8},children:"Loading"}):b.length===0?E.jsx("div",{style:{fontSize:13,opacity:.75,padding:8},children:"No users available"}):E.jsx("div",{style:{display:"grid",gap:6},children:b.map(O=>{const G=I.userIds.includes(O.id),Q=P(O);return E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:10,padding:"10px 10px",borderRadius:10,cursor:"pointer",border:G?"1px solid rgba(47, 111, 115, 0.35)":"1px solid transparent",background:G?"rgba(95, 167, 163, 0.10)":"transparent"},children:[E.jsx("input",{type:"checkbox",checked:G,onChange:()=>se(O.id),style:{width:16,height:16}}),E.jsx("span",{style:{fontSize:14,fontWeight:900,color:"#1f2933"},children:Q})]},O.id)})}),E.jsx("div",{style:{marginTop:10,display:"flex",justifyContent:"flex-end"},children:E.jsx("button",{type:"button",onClick:()=>D(!1),style:{padding:"10px 12px"},children:"Done"})})]}):null]}),E.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.75},children:"Tap to select one or more people."})]}),E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:16,opacity:.7,marginBottom:4},children:"Notes (optional)"}),E.jsx("textarea",{rows:3,value:I.notes,onChange:O=>F({...I,notes:O.target.value}),style:{...ue,resize:"vertical",cursor:"text"}})]})]}),g?E.jsx("div",{style:{marginTop:12,padding:10,borderRadius:12,border:"1px solid rgba(154, 79, 79, 0.35)",background:"rgba(154, 79, 79, 0.08)",color:"#9a4f4f",fontSize:13,fontWeight:900},children:g}):null,E.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16,gap:8},children:[E.jsx("button",{onClick:st,disabled:c,children:"Cancel"}),E.jsx("button",{onClick:et,disabled:c||!I.start||!I.end||I.userIds.length===0,children:c?"Saving":"Submit"})]})]})]})}function _b(t){return E.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.65)",backdropFilter:"blur(2px)",display:"flex",alignItems:"center",justifyContent:"center",padding:16},onClick:t.onClose,children:E.jsxs("div",{style:{width:"min(620px, 100%)",background:"white",color:"#111827",borderRadius:12,padding:16,boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},onClick:e=>e.stopPropagation(),children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[E.jsx("strong",{children:t.title}),E.jsx("button",{onClick:t.onClose,children:"X"})]}),E.jsx("div",{style:{marginTop:12},children:t.children})]})})}function hf(t){const[e,i,a]=t.split("-");return`${i}/${a}/${e}`}function So(t,e){return t>e}function nj(t){const e=(t||"").trim().split(/\s+/).filter(Boolean);if(e.length===0)return"??";const i=e[0],a=e.length>1?e[e.length-1]:e[0],l=(i[0]||"").toUpperCase(),o=(a[0]||"").toUpperCase();if(e.length===1){const c=(i.slice(0,2)||"").toUpperCase();return c.length===2?c:l+(i[1]?i[1].toUpperCase():l||"?")}return l+o||"??"}const Sb=["#2f6f73","#5fa7a3","#3f7f6b","#6b8bbd","#7a6bbd","#b36b9c","#c27d4a","#4b9ab8","#2f8a6a","#8a6a2f"];function ij(t,e){let i=0;for(let a=0;a<t.length;a++)i=i*31+t.charCodeAt(a)>>>0;return e===0?0:i%e}function rj(t){const e=(t||"").trim().toLowerCase()||"unknown",i=ij(e,Sb.length);return Sb[i]}function Eb(t){return String(t).padStart(2,"0")}function Rs(t){return`${t.getFullYear()}-${Eb(t.getMonth()+1)}-${Eb(t.getDate())}`}function Mh(t){const[e,i,a]=t.split("-").map(Number);return new Date(e,i-1,a)}function aj(t,e){const i=new Date(t);return i.setDate(i.getDate()+e),i}function Eo(t){const e=Mh(t);return e.setDate(e.getDate()-1),Rs(e)}function gf(t){const e=Mh(t);return e.setDate(e.getDate()+1),Rs(e)}function sj(t,e,i){return e<=t&&t<i}function lj(t,e){return t.filter(i=>sj(e,i.start,i.end)).sort((i,a)=>(i.title||"").localeCompare(a.title||""))}function oj(){const[t,e]=M.useState([]),[i,a]=M.useState(!1),[l,o]=M.useState(null),[c,f]=M.useState([]),[g,p]=M.useState(!1),[m,y]=M.useState(null),[b,_]=M.useState([]),[w,A]=M.useState(!1),[T,D]=M.useState(null),[k,N]=M.useState(!1),[Z,ee]=M.useState(null),[I,F]=M.useState({label:"",start:_f(),endInclusive:_f(),notes:"",isBlocked:!1});async function K(){A(!0),D(null);try{const{data:W,error:ue}=await ze.from("access_requests").select("id,email,first_name,last_name,phone,invite_code,status,created_at").order("created_at",{ascending:!1});if(ue){D("Unable to load access requests. Please try again."),_([]);return}_(W||[])}finally{A(!1)}}async function fe(){a(!0),o(null);try{const{data:W,error:ue}=await ze.from("profiles").select("id,email,first_name,last_name,role,is_active").order("email",{ascending:!0});if(ue){o("Unable to load users. Please try again."),e([]);return}e((W||[]).map(O=>({id:O.id,email:O.email,firstName:O.first_name||void 0,lastName:O.last_name||void 0,role:O.role==="admin"?"admin":"member",isActive:!!O.is_active})))}finally{a(!1)}}async function ke(){p(!0),y(null);try{const{data:W,error:ue}=await ze.from("bookings").select("id,label,start_date,end_date,notes,is_blocked,created_by").order("start_date",{ascending:!1});if(ue){y("Unable to load entries. Please try again."),f([]);return}f((W||[]).map(O=>({id:O.id,label:O.label,start:O.start_date,end:O.end_date,notes:O.notes||void 0,createdBy:O.created_by||void 0,isBlocked:!!O.is_blocked})))}finally{p(!1)}}M.useEffect(()=>{K(),fe(),ke()},[]);async function st(W){if(!window.confirm(`Approve access for ${W.email}?`))return;const{error:C}=await ze.from("access_requests").update({status:"approved"}).eq("id",W.id);if(C){alert(C.message);return}const{data:O,error:G}=await ze.from("profiles").update({is_active:!0}).eq("email",W.email).select("id"),Q=O?.length??0;if(G){alert(`Approved request, but profile activation failed: ${G.message}`),await K();return}Q||alert("Approved request. Note: no existing auth user/profile was found for this email yet."),await K()}async function Se(W){if(!window.confirm(`Reject access for ${W.email}?`))return;const{error:C}=await ze.from("access_requests").update({status:"rejected"}).eq("id",W.id);if(C){alert(C.message);return}await K()}async function St(W,ue){if(!window.confirm(ue?"Activate this user?":"Deactivate this user?"))return;const{error:O}=await ze.from("profiles").update({is_active:ue}).eq("id",W);if(O){alert("Unable to update user status. Please try again.");return}await fe()}function lt(){ee(null);const W=_f();F({label:"",start:W,endInclusive:W,notes:"",isBlocked:!1}),N(!0)}function et(W){ee(W.id),F({label:W.label,start:W.start,endInclusive:Tb(W.end),notes:W.notes||"",isBlocked:!!W.isBlocked}),N(!0)}function P(){N(!1)}async function J(){if(!I.label.trim())return;const ue={label:I.isBlocked?hj(I.label.trim()):I.label.trim(),start_date:I.start,end_date:dj(I.endInclusive),notes:I.notes.trim()?I.notes.trim():null,is_blocked:I.isBlocked};if(Z){const{error:C}=await ze.from("bookings").update(ue).eq("id",Z);if(C){alert("Unable to update entry. Please try again.");return}}else{const{data:C}=await ze.auth.getUser(),O=C?.user?.id;if(!O){alert("Unable to create entry. Please sign in again.");return}const{error:G}=await ze.from("bookings").insert({...ue,created_by:O});if(G){alert("Unable to create entry. Please try again.");return}}N(!1),await ke()}async function se(W){if(!window.confirm("Remove this entry?"))return;const{error:C}=await ze.from("bookings").delete().eq("id",W);if(C){alert("Unable to remove entry. Please try again.");return}await ke()}return E.jsxs("div",{style:{minHeight:"100vh",background:"#eef4f3",color:"#1f2933",padding:16},children:[E.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",gap:12},children:[E.jsx("h1",{style:{margin:0,color:"#2f6f73"},children:"Admin"}),E.jsx("div",{style:{fontSize:12,color:"#1f2933",opacity:.75},children:"Admin-only tools for managing users and entries."})]}),E.jsx(pf,{title:"Access requests",description:"Review new registration requests. Approving activates an existing profile if the auth user already exists.",rightAction:E.jsx("button",{type:"button",onClick:()=>{K(),fe()},style:wb,children:"Refresh"}),children:E.jsxs("div",{style:mf,children:[T?E.jsx("div",{style:{padding:12,borderRadius:14,border:"1px solid rgba(154, 79, 79, 0.35)",background:"rgba(154, 79, 79, 0.08)",color:"#9a4f4f",fontSize:13,fontWeight:900},children:T}):null,E.jsx("div",{style:{marginTop:T?12:0},children:w?E.jsx("div",{style:{opacity:.75,fontSize:13},children:"Loading access requests"}):E.jsx("div",{style:vf,children:b.filter(W=>W.status==="pending").length===0?E.jsxs("div",{style:ra,children:[E.jsx("div",{style:{fontWeight:900,color:"#1f2933"},children:"No pending requests"}),E.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.75},children:"New registration requests will appear here."})]}):b.filter(W=>W.status==="pending").map(W=>E.jsxs("div",{style:ra,children:[E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[E.jsxs("div",{style:{minWidth:0},children:[E.jsxs("div",{style:{fontWeight:900,color:"#1f2933"},children:[W.first_name," ",W.last_name]}),E.jsx("div",{style:{fontSize:12,opacity:.8,wordBreak:"break-word"},children:W.email})]}),E.jsx("span",{style:Ro("#5fa7a3"),children:"pending"})]}),E.jsxs("div",{style:{marginTop:10,fontSize:12,opacity:.85},children:["Requested: ",fj(W.created_at)]}),W.phone?E.jsxs("div",{style:{marginTop:6,fontSize:12,opacity:.85},children:["Phone: ",W.phone]}):null,W.invite_code?E.jsxs("div",{style:{marginTop:6,fontSize:12,opacity:.85},children:["Invite code: ",E.jsx("span",{style:{fontWeight:900},children:W.invite_code})]}):null,E.jsxs("div",{style:{marginTop:12,display:"flex",justifyContent:"flex-end",gap:8,flexWrap:"wrap"},children:[E.jsx("button",{type:"button",onClick:()=>Se(W),style:bf,children:"Reject"}),E.jsx("button",{type:"button",onClick:()=>st(W),style:yf,children:"Approve"})]}),E.jsx("div",{style:{marginTop:10,fontSize:12,opacity:.7},children:"If the auth user does not exist yet, create the user in Supabase Auth (Users) and re-approve to activate."})]},W.id))})})]})}),E.jsx(pf,{title:"User management",description:"View users, roles, and active status. Deactivating a user removes access.",children:E.jsxs("div",{style:mf,children:[l?E.jsx("div",{style:{padding:12,borderRadius:14,border:"1px solid rgba(154, 79, 79, 0.35)",background:"rgba(154, 79, 79, 0.08)",color:"#9a4f4f",fontSize:13,fontWeight:900},children:l}):null,E.jsx("div",{style:{marginTop:l?12:0},children:i?E.jsx("div",{style:{opacity:.75,fontSize:13},children:"Loading users"}):t.length===0?E.jsxs("div",{style:ra,children:[E.jsx("div",{style:{fontWeight:900,color:"#1f2933"},children:"No users found"}),E.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.75},children:"Users will appear here after accounts are created."})]}):E.jsx("div",{style:vf,children:t.map(W=>{const ue=[W.firstName,W.lastName].filter(Boolean).join(" ")||W.email;return E.jsxs("div",{style:ra,children:[E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[E.jsxs("div",{style:{minWidth:0},children:[E.jsx("div",{style:{fontWeight:900,color:"#1f2933"},children:ue}),E.jsx("div",{style:{fontSize:12,opacity:.8,wordBreak:"break-word"},children:W.email})]}),E.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"flex-end"},children:[E.jsx("span",{style:Ro(W.role==="admin"?"#2f6f73":"#5fa7a3"),children:W.role}),E.jsx("span",{style:Ro(W.isActive?"#2f6f73":"#9aa7a5"),children:W.isActive?"Active":"Inactive"})]})]}),E.jsx("div",{style:{marginTop:12,display:"flex",justifyContent:"flex-end"},children:E.jsx("button",{type:"button",onClick:()=>St(W.id,!W.isActive),style:W.isActive?bf:Ab,children:W.isActive?"Deactivate":"Activate"})})]},W.id)})})}),E.jsx("div",{style:{marginTop:12,fontSize:12,opacity:.75},children:"Note: user creation/invites are handled separately. Approval controls activation."})]})}),E.jsx(pf,{title:"Booking management",description:"Create, edit, and remove entries. Admin can book for others and block off dates.",rightAction:E.jsx("button",{type:"button",onClick:lt,style:yf,children:"New entry"}),children:E.jsxs("div",{style:mf,children:[m?E.jsx("div",{style:{padding:12,borderRadius:14,border:"1px solid rgba(154, 79, 79, 0.35)",background:"rgba(154, 79, 79, 0.08)",color:"#9a4f4f",fontSize:13,fontWeight:900},children:m}):null,E.jsx("div",{style:{marginTop:m?12:0},children:g?E.jsx("div",{style:{opacity:.75,fontSize:13},children:"Loading entries"}):E.jsxs("div",{style:vf,children:[c.map(W=>E.jsxs("div",{style:ra,children:[E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[E.jsxs("div",{style:{minWidth:0},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[E.jsx("div",{style:{fontWeight:900,color:"#1f2933"},children:W.label}),W.isBlocked?E.jsx("span",{style:Ro("#9a6b4f"),children:"blocked"}):null]}),E.jsxs("div",{style:{marginTop:4,fontSize:12,opacity:.85},children:[Rb(W.start),"  ",Rb(Tb(W.end))]})]}),E.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"flex-end"},children:[E.jsx("button",{type:"button",onClick:()=>et(W),style:Ab,children:"Edit"}),E.jsx("button",{type:"button",onClick:()=>se(W.id),style:bf,children:"Remove"})]})]}),E.jsx("div",{style:{marginTop:10,fontSize:13},children:W.notes?E.jsx("div",{style:{opacity:.9},children:W.notes}):E.jsx("div",{style:{opacity:.55},children:"No notes."})}),E.jsxs("div",{style:{marginTop:10,fontSize:12,opacity:.7},children:["Created by: ",W.createdBy||""]})]},W.id)),!g&&c.length===0?E.jsxs("div",{style:ra,children:[E.jsx("div",{style:{fontWeight:900,color:"#1f2933"},children:"No entries yet"}),E.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.75},children:"Create an entry to populate the calendar."})]}):null]})}),E.jsx("div",{style:{marginTop:12,fontSize:12,opacity:.75},children:"Note: this page uses the same bookings table as the calendar."})]})}),k&&E.jsx(uj,{title:Z?"Edit entry":"New entry",onClose:P,children:E.jsxs("form",{onSubmit:W=>{W.preventDefault(),J()},style:{display:"grid",gap:12},children:[E.jsxs("label",{style:wo,children:[E.jsx("span",{style:Ao,children:"Label"}),E.jsx("input",{type:"text",value:I.label,onChange:W=>F({...I,label:W.target.value}),placeholder:"e.g., Zack, Mom/Dad, Cousins",style:To})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[E.jsxs("label",{style:wo,children:[E.jsx("span",{style:Ao,children:"Start date"}),E.jsx("input",{type:"date",value:I.start,onChange:W=>F({...I,start:W.target.value}),style:To})]}),E.jsxs("label",{style:wo,children:[E.jsx("span",{style:Ao,children:"End date (inclusive)"}),E.jsx("input",{type:"date",value:I.endInclusive,onChange:W=>F({...I,endInclusive:W.target.value}),style:To})]})]}),E.jsxs("label",{style:wo,children:[E.jsx("span",{style:Ao,children:"Notes (optional)"}),E.jsx("textarea",{rows:3,value:I.notes,onChange:W=>F({...I,notes:W.target.value}),placeholder:"Anything helpful...",style:{...To,paddingTop:10,resize:"vertical"}})]}),E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:10,fontSize:13},children:[E.jsx("input",{type:"checkbox",checked:I.isBlocked,onChange:W=>F({...I,isBlocked:W.target.checked})}),"Block dates (maintenance, private event, etc.)"]}),E.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[E.jsx("button",{type:"button",onClick:P,style:wb,children:"Cancel"}),E.jsx("button",{type:"submit",style:yf,disabled:!I.label.trim(),children:"Save"})]})]})})]})}function pf(t){return E.jsxs("section",{style:{marginTop:18},children:[E.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:14,fontWeight:900,color:"#2f6f73"},children:t.title}),t.description?E.jsx("div",{style:{marginTop:4,fontSize:12,opacity:.75},children:t.description}):null]}),t.rightAction?E.jsx("div",{children:t.rightAction}):null]}),E.jsx("div",{style:{marginTop:10},children:t.children})]})}function uj(t){return E.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(47, 111, 115, 0.25)",backdropFilter:"blur(2px)",display:"flex",alignItems:"center",justifyContent:"center",padding:16},onClick:t.onClose,children:E.jsxs("div",{style:{width:"min(720px, 100%)",background:"#ffffff",color:"#1f2933",borderRadius:14,padding:16,border:"1px solid #d6e6e3",boxShadow:"0 16px 40px rgba(0,0,0,0.2)"},onClick:e=>e.stopPropagation(),children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[E.jsx("strong",{style:{color:"#2f6f73"},children:t.title}),E.jsx("button",{type:"button",onClick:t.onClose,style:cj,"aria-label":"Close",children:E.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",style:{display:"block"},children:E.jsx("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),E.jsx("div",{style:{marginTop:12},children:t.children})]})})}const mf={background:"#ffffff",border:"1px solid #d6e6e3",borderRadius:14,padding:14},vf={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:12},ra={background:"#ffffff",border:"1px solid #d6e6e3",borderRadius:14,padding:14},yf={height:40,padding:"0 14px",borderRadius:12,border:"1px solid #2f6f73",background:"#2f6f73",color:"#ffffff",fontWeight:900,cursor:"pointer"},wb={height:40,padding:"0 14px",borderRadius:12,border:"1px solid #d6e6e3",background:"#ffffff",color:"#2f6f73",fontWeight:900,cursor:"pointer"},Ab={height:34,padding:"0 12px",borderRadius:12,border:"1px solid #2f6f73",background:"#ffffff",color:"#2f6f73",fontWeight:900,cursor:"pointer"},bf={height:34,padding:"0 12px",borderRadius:12,border:"1px solid #9a4f4f",background:"#ffffff",color:"#9a4f4f",fontWeight:900,cursor:"pointer"},cj={height:36,width:36,padding:0,lineHeight:0,borderRadius:12,border:"1px solid #d6e6e3",background:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#2f6f73"},wo={display:"grid",gap:6},Ao={fontSize:12,opacity:.8},To={height:40,borderRadius:12,border:"1px solid #d6e6e3",padding:"0 12px",fontSize:14,outline:"none",color:"#1f2933",background:"#ffffff"};function Ro(t){return{display:"inline-flex",alignItems:"center",height:22,padding:"0 10px",borderRadius:999,background:t,color:"#ffffff",fontSize:12,fontWeight:900,textTransform:"lowercase"}}function _f(){const t=new Date;return`${t.getFullYear()}-${va(t.getMonth()+1)}-${va(t.getDate())}`}function va(t){return String(t).padStart(2,"0")}function Tb(t){const e=Z_(t);return e.setDate(e.getDate()-1),K_(e)}function dj(t){const e=Z_(t);return e.setDate(e.getDate()+1),K_(e)}function Z_(t){const[e,i,a]=t.split("-").map(Number);return new Date(e,i-1,a)}function K_(t){return`${t.getFullYear()}-${va(t.getMonth()+1)}-${va(t.getDate())}`}function Rb(t){const[e,i,a]=t.split("-");return`${i}/${a}/${e}`}function fj(t){const e=new Date(t),i=e.getFullYear(),a=va(e.getMonth()+1),l=va(e.getDate());return`${a}/${l}/${i}`}function hj(t){const e=t.trim();return e&&(e.toLowerCase().startsWith("blocked")?e:`Blocked: ${e}`)}function gj(){const t=Hs();async function e(){await ze.auth.signOut(),t("/login")}return E.jsx("div",{style:{minHeight:"100dvh",padding:16,display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsxs("div",{style:{width:"min(520px, 100%)",background:"#ffffff",color:"#1f2933",borderRadius:14,padding:18,boxShadow:"0 16px 40px rgba(0,0,0,0.25)",border:"1px solid rgba(214, 230, 227, 0.9)",boxSizing:"border-box"},children:[E.jsx("div",{style:{fontSize:18,fontWeight:900,color:"#2f6f73"},children:"Pending approval"}),E.jsx("div",{style:{marginTop:10,fontSize:14,lineHeight:1.45,opacity:.9},children:"Access is not active yet. An admin needs to approve this account before the calendar is available."}),E.jsx("div",{style:{marginTop:16,display:"flex",justifyContent:"flex-end"},children:E.jsx("button",{type:"button",onClick:e,style:{height:42,padding:"0 14px",borderRadius:12,border:"1px solid #2f6f73",background:"#2f6f73",color:"#ffffff",fontWeight:800,cursor:"pointer"},children:"Log out"})})]})})}function Sf({isAuthed:t,isActive:e,isAdmin:i,requireAdmin:a,children:l}){const o=En();return t?e===!1?E.jsx(ys,{to:"/pending-approval",replace:!0,state:{from:o.pathname}}):a&&i===!1?E.jsx(ys,{to:"/calendar",replace:!0}):E.jsx(E.Fragment,{children:l}):E.jsx(ys,{to:"/login",replace:!0,state:{from:o.pathname}})}function pj(){const[t,e]=M.useState(!1),i=En(),a=Hs(),[l,o]=M.useState(null),[c,f]=M.useState(null);async function g(){e(!1);const{error:y}=await ze.auth.signOut();if(y){alert(y.message);return}a("/login")}M.useEffect(()=>{ze.auth.getSession().then(({data:b})=>{o(b.session??null)});const{data:y}=ze.auth.onAuthStateChange((b,_)=>{o(_)});return()=>{y.subscription.unsubscribe()}},[]),M.useEffect(()=>{if(!l?.user){f(null);return}ze.from("profiles").select("first_name, last_name, avatar_url").eq("id",l.user.id).single().then(({data:y})=>{f(y??null)})},[l]);const p=M.useMemo(()=>{if(!l?.user)return{displayName:"Guest",firstName:null,lastName:null,isDemo:!0,avatarUrl:null};const y=c?.first_name??null,b=c?.last_name??null;return{displayName:[y,b].filter(Boolean).join(" ").trim()||"Member",firstName:y,lastName:b,isDemo:!1,avatarUrl:c?.avatar_url??null}},[l,c]);M.useEffect(()=>{e(!1)},[i.pathname]),M.useEffect(()=>{function y(b){b.key==="Escape"&&e(!1)}return t&&window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[t]);const m=mj(p.firstName,p.lastName)||vj(p.displayName);return E.jsxs(E.Fragment,{children:[E.jsxs("header",{style:$e.header,children:[E.jsx("button",{type:"button","aria-label":"Open menu",onClick:()=>e(!0),style:$e.iconBtn,children:E.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:E.jsx("path",{d:"M4 6h16M4 12h16M4 18h16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),E.jsx("div",{style:$e.titleWrap,children:E.jsx("div",{style:$e.title,children:"Lakehouse Calendar"})}),E.jsx("div",{style:$e.rightSlot})]}),t&&E.jsx("div",{style:$e.overlay,onClick:()=>e(!1),role:"presentation",children:E.jsxs("aside",{style:$e.drawer,onClick:y=>y.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:[E.jsxs("div",{style:$e.drawerTop,children:[E.jsx("div",{style:$e.userBlock,children:E.jsxs("div",{style:$e.userRow,children:[p.avatarUrl?E.jsx("img",{src:p.avatarUrl,alt:"",style:$e.avatarImg,referrerPolicy:"no-referrer"}):E.jsx("div",{style:$e.avatarFallback,"aria-hidden":"true",children:m}),E.jsxs("div",{style:{minWidth:0},children:[E.jsx("div",{style:$e.userName,children:p.displayName}),p.isDemo?E.jsx("div",{style:$e.userMeta,children:"Demo Mode"}):null]})]})}),E.jsx("button",{type:"button",onClick:()=>e(!1),style:$e.iconBtn,"aria-label":"Close menu",children:E.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:E.jsx("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),E.jsxs("nav",{style:$e.nav,children:[E.jsx(Cb,{to:"/calendar",label:"Calendar",icon:E.jsx(yj,{})}),E.jsx(Cb,{to:"/admin",label:"Admin",icon:E.jsx(bj,{})})]}),E.jsx("div",{style:$e.drawerFooter,children:E.jsx("button",{type:"button",style:$e.secondaryBtn,onClick:g,children:"Logout"})})]})})]})}function Cb(t){return E.jsx(Qb,{to:t.to,style:({isActive:e})=>({...$e.navItem,...e?$e.navItemActive:null}),children:E.jsxs("span",{style:$e.navItemInner,children:[E.jsx("span",{style:$e.navIcon,"aria-hidden":"true",children:t.icon}),E.jsx("span",{style:$e.navLabel,children:t.label})]})})}function mj(t,e){const i=String(t||"").trim(),a=String(e||"").trim(),l=i?i[0]:"",o=a?a[0]:"";return(l+o).toUpperCase().slice(0,2)||""}function vj(t){const e=String(t||"").trim().split(/\s+/).filter(Boolean);if(e.length===0)return"?";const i=e[0][0]||"?",a=(e.length>1?e[e.length-1][0]:"")||"";return(i+a).toUpperCase().slice(0,2)}function yj(){return E.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:E.jsx("path",{d:"M7 3v2M17 3v2M4 8h16M6 6h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function bj(){return E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[E.jsx("path",{d:"M12 3l7 4v6c0 5-3 8-7 9-4-1-7-4-7-9V7l7-4Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),E.jsx("path",{d:"M12 7v6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),E.jsx("path",{d:"M12 17h.01",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]})}const $e={header:{height:56,display:"flex",alignItems:"center",gap:12,padding:"0 12px",background:"#eef4f3",borderBottom:"1px solid #d6e6e3",position:"sticky",top:0,zIndex:50},iconBtn:{height:40,width:40,padding:0,lineHeight:0,boxSizing:"border-box",borderRadius:12,border:"1px solid #d6e6e3",background:"#ffffff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#2f6f73"},titleWrap:{display:"flex",flexDirection:"column",minWidth:0},title:{fontSize:16,fontWeight:800,color:"#2f6f73",lineHeight:1.1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},rightSlot:{marginLeft:"auto",width:40,height:40},overlay:{position:"fixed",inset:0,background:"rgba(47, 111, 115, 0.35)",zIndex:9999,display:"flex"},drawer:{width:"min(340px, 86vw)",height:"100dvh",maxHeight:"100dvh",boxSizing:"border-box",padding:14,paddingBottom:"calc(14px + env(safe-area-inset-bottom))",overflowY:"auto",background:"#eef4f3",boxShadow:"12px 0 30px rgba(0,0,0,0.25)",display:"flex",flexDirection:"column"},drawerTop:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,marginBottom:12},userBlock:{minWidth:0},userRow:{display:"flex",alignItems:"center",gap:12},avatarFallback:{width:38,height:38,borderRadius:12,background:"#ffffff",border:"1px solid #d6e6e3",display:"flex",alignItems:"center",justifyContent:"center",color:"#2f6f73",fontWeight:900,letterSpacing:.4},avatarImg:{width:38,height:38,borderRadius:12,objectFit:"cover",border:"1px solid #d6e6e3",background:"#ffffff"},userName:{fontSize:14,fontWeight:800,color:"#2f6f73"},userMeta:{fontSize:12,color:"#5fa7a3",marginTop:2},nav:{display:"grid",gap:8,marginTop:6},navItem:{padding:"12px 12px",borderRadius:12,border:"1px solid #d6e6e3",color:"#1f2933",textDecoration:"none",fontWeight:750,background:"#ffffff",display:"block"},navItemActive:{background:"#2f6f73",color:"#ffffff",border:"1px solid #2f6f73"},navItemInner:{display:"flex",alignItems:"center",gap:10},navIcon:{width:22,height:22,display:"inline-flex",alignItems:"center",justifyContent:"center"},navLabel:{minWidth:0},drawerFooter:{marginTop:"auto",paddingTop:12,borderTop:"1px solid #d6e6e3"},secondaryBtn:{width:"100%",padding:"12px 12px",borderRadius:12,border:"1px solid #2f6f73",background:"#ffffff",color:"#2f6f73",fontWeight:750,cursor:"pointer"}};function _j(){return E.jsxs("div",{children:[E.jsx(pj,{}),E.jsx("main",{style:{padding:16},children:E.jsx(DA,{})})]})}function Sj(){const[t,e]=M.useState(null),[i,a]=M.useState(!1),[l,o]=M.useState(!1),[c,f]=M.useState(null),[g,p]=M.useState(null);M.useEffect(()=>{ze.auth.getSession().then(({data:b})=>{e(b.session??null),a(!0)});const{data:y}=ze.auth.onAuthStateChange((b,_)=>{e(_)});return()=>{y.subscription.unsubscribe()}},[]),M.useEffect(()=>{if(!t){o(!0),f(null),p(null);return}let y=!1;return o(!1),(async()=>{const{data:b,error:_}=await ze.from("profiles").select("is_active, role").eq("id",t.user.id).maybeSingle();if(!y){if(_||!b){f(!1),p(!1),o(!0);return}f(!!b.is_active),p(b.role==="admin"),o(!0)}})(),()=>{y=!0}},[t]);const m=!!t;return!i||m&&!l?null:E.jsxs(OA,{children:[E.jsx(yi,{path:"/",element:E.jsx(ys,{to:m?"/calendar":"/login",replace:!0})}),E.jsx(yi,{path:"/login",element:E.jsx(VC,{})}),E.jsx(yi,{path:"/pending-approval",element:E.jsx(Sf,{isAuthed:m,children:E.jsx(gj,{})})}),E.jsxs(yi,{element:E.jsx(Sf,{isAuthed:m,isActive:c??!1,children:E.jsx(_j,{})}),children:[E.jsx(yi,{path:"/calendar",element:E.jsx(tj,{})}),E.jsx(yi,{path:"/admin",element:E.jsx(Sf,{isAuthed:m,isActive:c??!1,requireAdmin:!0,isAdmin:g??!1,children:E.jsx(oj,{})})})]}),E.jsx(yi,{path:"*",element:E.jsx(ys,{to:m?"/calendar":"/login",replace:!0})})]})}Ow.createRoot(document.getElementById("root")).render(E.jsx(No.StrictMode,{children:E.jsx(eT,{children:E.jsx(Sj,{})})}));
